var a=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var u=(s,e,t)=>e in s?a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))d.call(e,t)&&u(s,t,e[t]);if(l)for(var t of l(e))S.call(e,t)&&u(s,t,e[t]);return s},m=(s,e)=>y(s,E(e));var b=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),x=(s,e)=>{for(var t in e)a(s,t,{get:e[t],enumerable:!0})},A=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of P(e))!d.call(s,i)&&i!==t&&a(s,i,{get:()=>e[i],enumerable:!(n=w(e,i))||n.enumerable});return s};var k=s=>A(a({},"__esModule",{value:!0}),s);var v=b((Q,q)=>{q.exports={name:"sqltools-driver-mssql",displayName:"SQLTools Microsoft SQL Server/Azure",description:"SQLTools Microsoft SQL Server/Azure",version:"0.3.0",engines:{vscode:"^1.42.0"},publisher:"mtxr",license:"MIT",private:!0,repository:{type:"git",url:"https://github.com/mtxr/vscode-sqltools.git",directory:"packages/drivers.mssql"},bugs:{url:"https://github.com/mtxr/vscode-sqltools/labels/mssql"},keywords:["sqltools-driver","mssql","sqlserver","azure"],galleryBanner:{theme:"light",color:"#ffffff"},icon:"icon.png",categories:["Programming Languages","Snippets","Formatters","Other"],extensionDependencies:["mtxr.sqltools"],activationEvents:["*","onLanguage:sql","onCommand:sqltools.*"],main:"./out/extension.js",scripts:{clean:"rimraf -rf out dist *.vsix",predev:"yarn run clean",dev:'concurrently -k "npm:dev:*"',prebuild:"yarn run clean && yarn run tsc-check",build:'NODE_ENV=production concurrently "npm:build:*"',"build:ext":`yarn run compile:ext --define:process.env.NODE_ENV="'production'" --minify`,"build:ls":`yarn run compile:ls --define:process.env.NODE_ENV="'production'" --minify`,esbuild:"esbuild --platform=node --tsconfig=./tsconfig.json --external:vscode --log-level=error --color=true --format=cjs",prepackage:"yarn run build",package:"vsce package --yarn -o .","compile:ext":`yarn run esbuild --bundle ./src/extension.ts --outfile=./out/extension.js --target=es2017 --define:process.env.PRODUCT="'ext'"`,"compile:ls":`yarn run esbuild --bundle ./src/ls/plugin.ts --outfile=./out/ls/plugin.js --target=es2015 --define:process.env.PRODUCT="'ls'"`,"tsc-check":"yarn run ts --noEmit --preserveWatchOutput",watch:'concurrently "npm:watch:*"',"watch:ext":`yarn run compile:ext --define:process.env.NODE_ENV="'development'" --sourcemap`,"watch:ls":`yarn run compile:ls --define:process.env.NODE_ENV="'development'" --sourcemap`,"dev:tsc":"yarn run tsc-check -w","dev:fw":'chokidar "src/**/*" "*.json" --initial --silent -c "yarn run watch"',ts:"tsc -p ."},devDependencies:{"@sqltools/base-driver":"latest","@types/lodash":"^4.14.123","@types/mssql":"^4.0.12","@types/vscode":"^1.42.0","chokidar-cli":"^2.1.0",concurrently:"^5.2.0",esbuild:"0.14.50",lodash:"^4.17.19",mssql:"^5.0.5",rimraf:"^3.0.2",typescript:"~4.0.2",vsce:"1.77.0"}}});var j={};x(j,{activate:()=>N,deactivate:()=>M});module.exports=k(j);var h=require("vscode");var c=[{displayName:"SQL Server/Azure",value:"MSSQL"}];var{publisher:D,name:L}=v(),g="SQL Server/Azure";async function N(s){let e=h.extensions.getExtension("mtxr.sqltools");if(!e)throw new Error("SQLTools not installed");await e.activate();let t=e.exports,n=`${D}.${L}`,i={extensionId:n,name:`${g} Plugin`,type:"driver",async register(r){r.resourcesMap().set(`driver/${c[0].value}/icons`,{active:s.asAbsolutePath("icons/active.png"),default:s.asAbsolutePath("icons/default.png"),inactive:s.asAbsolutePath("icons/inactive.png")}),c.forEach(({value:o})=>{r.resourcesMap().set(`driver/${o}/extension-id`,n),r.resourcesMap().set(`driver/${o}/connection-schema`,s.asAbsolutePath("connection.schema.json")),r.resourcesMap().set(`driver/${o}/ui-schema`,s.asAbsolutePath("ui.schema.json"))}),await r.client.sendRequest("ls/RegisterPlugin",{path:s.asAbsolutePath("out/ls/plugin.js")})}};return t.registerPlugin(i),{driverName:g,parseBeforeSaveConnection:({connInfo:r})=>{let o=["connectionMethod","id","usePassword"];return r.usePassword&&(r.usePassword.toString().toLowerCase().includes("ask")?o.push("password"):r.usePassword.toString().toLowerCase().includes("empty")?(r.password="",o.push("askForPassword")):r.usePassword.toString().toLowerCase().includes("save")&&o.push("askForPassword")),o.forEach(f=>delete r[f]),r},parseBeforeEditConnection:({connInfo:r})=>{let o=m(p({},r),{connectionMethod:"Server and Port"});return r.socketPath?o.connectionMethod="Socket File":r.connectString&&(o.connectionMethod="Connection String"),r.askForPassword?(o.usePassword="Ask on connect",delete o.password):typeof r.password=="string"&&(delete o.askForPassword,o.usePassword=r.password?"Save password":"Use empty password"),o},driverAliases:c}}function M(){}0&&(module.exports={activate,deactivate});
