var yv=Object.create;var En=Object.defineProperty,Tv=Object.defineProperties,Rv=Object.getOwnPropertyDescriptor,_v=Object.getOwnPropertyDescriptors,Sv=Object.getOwnPropertyNames,fi=Object.getOwnPropertySymbols,Nv=Object.getPrototypeOf,eo=Object.prototype.hasOwnProperty,ml=Object.prototype.propertyIsEnumerable;var qe=Math.pow,Zs=(e,t,r)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ot=(e,t)=>{for(var r in t||(t={}))eo.call(t,r)&&Zs(e,r,t[r]);if(fi)for(var r of fi(t))ml.call(t,r)&&Zs(e,r,t[r]);return e},mn=(e,t)=>Tv(e,_v(t));var to=(e,t)=>{var r={};for(var n in e)eo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&fi)for(var n of fi(e))t.indexOf(n)<0&&ml.call(e,n)&&(r[n]=e[n]);return r};var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ov=(e,t)=>{for(var r in t)En(e,r,{get:t[r],enumerable:!0})},gl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sv(t))!eo.call(e,i)&&i!==r&&En(e,i,{get:()=>t[i],enumerable:!(n=Rv(t,i))||n.enumerable});return e};var Zt=(e,t,r)=>(r=e!=null?yv(Nv(e)):{},gl(t||!e||!e.__esModule?En(r,"default",{value:e,enumerable:!0}):r,e)),Cv=e=>gl(En({},"__esModule",{value:!0}),e);var ft=(e,t,r)=>(Zs(e,typeof t!="symbol"?t+"":t,r),r);var ht=(e,t,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(h){i(h)}},o=u=>{try{a(r.throw(u))}catch(h){i(h)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(e,t)).next())});var ro=R(vl=>{"use strict";vl.parse=function(e,t){return new gn(e,t).parse()};var gn=class{constructor(t,r){this.source=t,this.transform=r||Av,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var t=this.source[this.position++];return t==="\\"?{value:this.source[this.position++],escaped:!0}:{value:t,escaped:!1}}record(t){this.recorded.push(t)}newEntry(t){var r;(this.recorded.length>0||t)&&(r=this.recorded.join(""),r==="NULL"&&!t&&(r=null),r!==null&&(r=this.transform(r)),this.entries.push(r),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var t=this.nextCharacter();if(t.value==="=")break}}parse(t){var r,n,i;for(this.consumeDimensions();!this.isEof();)if(r=this.nextCharacter(),r.value==="{"&&!i)this.dimension++,this.dimension>1&&(n=new gn(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(r.value==="}"&&!i){if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else r.value==='"'&&!r.escaped?(i&&this.newEntry(!0),i=!i):r.value===","&&!i?this.newEntry():this.record(r.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function Av(e){return e}});var no=R((iw,yl)=>{var Iv=ro();yl.exports={create:function(e,t){return{parse:function(){return Iv.parse(e,t)}}}}});var _l=R((sw,Rl)=>{"use strict";var bv=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,Lv=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,wv=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,Pv=/^-?infinity$/;Rl.exports=function(t){if(Pv.test(t))return Number(t.replace("i","I"));var r=bv.exec(t);if(!r)return Dv(t)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=Tl(i));var s=parseInt(r[2],10)-1,o=r[3],a=parseInt(r[4],10),u=parseInt(r[5],10),h=parseInt(r[6],10),E=r[7];E=E?1e3*parseFloat(E):0;var g,v=Mv(t);return v!=null?(g=new Date(Date.UTC(i,s,o,a,u,h,E)),io(i)&&g.setUTCFullYear(i),g.setTime(g.getTime()-v)):(g=new Date(i,s,o,a,u,h,E),io(i)&&g.setFullYear(i)),g};function Dv(e){var t=Lv.exec(e);if(!!t){var r=parseInt(t[1],10),n=!!t[4];n&&(r=Tl(r));var i=parseInt(t[2],10)-1,s=t[3],o=new Date(r,i,s);return io(r)&&o.setFullYear(r),o}}function Mv(e){var t=wv.exec(e.split(" ")[1]);if(!!t){var r=t[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(t[2],10)*3600+parseInt(t[3]||0,10)*60+parseInt(t[4]||0,10);return i*n*1e3}}function Tl(e){return-(e-1)}function io(e){return e>=0&&e<100}});var Nl=R((ow,Sl)=>{Sl.exports=xv;var kv=Object.prototype.hasOwnProperty;function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)kv.call(r,n)&&(e[n]=r[n])}return e}});var Al=R((aw,Cl)=>{"use strict";var qv=Nl();Cl.exports=Pr;function Pr(e){if(!(this instanceof Pr))return new Pr(e);qv(this,zv(e))}var Fv=["seconds","minutes","hours","days","months","years"];Pr.prototype.toPostgres=function(){var e=Fv.filter(this.hasOwnProperty,this);return this.milliseconds&&e.indexOf("seconds")<0&&e.push("seconds"),e.length===0?"0":e.map(function(t){var r=this[t]||0;return t==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+t},this).join(" ")};var Uv={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},Bv=["years","months","days"],jv=["hours","minutes","seconds"];Pr.prototype.toISOString=Pr.prototype.toISO=function(){var e=Bv.map(r,this).join(""),t=jv.map(r,this).join("");return"P"+e+"T"+t;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+Uv[n]}};var so="([+-]?\\d+)",Hv=so+"\\s+years?",Wv=so+"\\s+mons?",Gv=so+"\\s+days?",$v="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",Vv=new RegExp([Hv,Wv,Gv,$v].map(function(e){return"("+e+")?"}).join("\\s*")),Ol={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},Qv=["hours","minutes","seconds","milliseconds"];function Yv(e){var t=e+"000000".slice(e.length);return parseInt(t,10)/1e3}function zv(e){if(!e)return{};var t=Vv.exec(e),r=t[8]==="-";return Object.keys(Ol).reduce(function(n,i){var s=Ol[i],o=t[s];return!o||(o=i==="milliseconds"?Yv(o):parseInt(o,10),!o)||(r&&~Qv.indexOf(i)&&(o*=-1),n[i]=o),n},{})}});var bl=R((uw,Il)=>{"use strict";Il.exports=function(t){if(/^\\x/.test(t))return new Buffer(t.substr(2),"hex");for(var r="",n=0;n<t.length;)if(t[n]!=="\\")r+=t[n],++n;else if(/[0-7]{3}/.test(t.substr(n+1,3)))r+=String.fromCharCode(parseInt(t.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<t.length&&t[n+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)r+="\\";n+=Math.floor(i/2)*2}return new Buffer(r,"binary")}});var xl=R((cw,kl)=>{var vn=ro(),yn=no(),hi=_l(),wl=Al(),Pl=bl();function di(e){return function(r){return r===null?r:e(r)}}function Dl(e){return e===null?e:e==="TRUE"||e==="t"||e==="true"||e==="y"||e==="yes"||e==="on"||e==="1"}function Xv(e){return e?vn.parse(e,Dl):null}function Kv(e){return parseInt(e,10)}function oo(e){return e?vn.parse(e,di(Kv)):null}function Jv(e){return e?vn.parse(e,di(function(t){return Ml(t).trim()})):null}var Zv=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=lo(r)),r});return t.parse()},ao=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=parseFloat(r)),r});return t.parse()},dt=function(e){if(!e)return null;var t=yn.create(e);return t.parse()},uo=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=hi(r)),r});return t.parse()},ey=function(e){if(!e)return null;var t=yn.create(e,function(r){return r!==null&&(r=wl(r)),r});return t.parse()},ty=function(e){return e?vn.parse(e,di(Pl)):null},co=function(e){return parseInt(e,10)},Ml=function(e){var t=String(e);return/^\d+$/.test(t)?t:e},Ll=function(e){return e?vn.parse(e,di(JSON.parse)):null},lo=function(e){return e[0]!=="("?null:(e=e.substring(1,e.length-1).split(","),{x:parseFloat(e[0]),y:parseFloat(e[1])})},ry=function(e){if(e[0]!=="<"&&e[1]!=="(")return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++){if(n||(t+=e[i]),e[i]===")"){n=!0;continue}else if(!n)continue;e[i]!==","&&(r+=e[i])}var s=lo(t);return s.radius=parseFloat(r),s},ny=function(e){e(20,Ml),e(21,co),e(23,co),e(26,co),e(700,parseFloat),e(701,parseFloat),e(16,Dl),e(1082,hi),e(1114,hi),e(1184,hi),e(600,lo),e(651,dt),e(718,ry),e(1e3,Xv),e(1001,ty),e(1005,oo),e(1007,oo),e(1028,oo),e(1016,Jv),e(1017,Zv),e(1021,ao),e(1022,ao),e(1231,ao),e(1014,dt),e(1015,dt),e(1008,dt),e(1009,dt),e(1040,dt),e(1041,dt),e(1115,uo),e(1182,uo),e(1185,uo),e(1186,wl),e(1187,ey),e(17,Pl),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,Ll),e(3807,Ll),e(3907,dt),e(2951,dt),e(791,dt),e(1183,dt),e(1270,dt)};kl.exports={init:ny}});var Fl=R((lw,ql)=>{"use strict";var et=1e6;function iy(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(r===0),r=~r+1>>>0,n="-");var i="",s,o,a,u,h,E;{if(s=t%et,t=t/et>>>0,o=4294967296*s+r,r=o/et>>>0,a=""+(o-et*r),r===0&&t===0)return n+a+i;for(u="",h=6-a.length,E=0;E<h;E++)u+="0";i=u+a+i}{if(s=t%et,t=t/et>>>0,o=4294967296*s+r,r=o/et>>>0,a=""+(o-et*r),r===0&&t===0)return n+a+i;for(u="",h=6-a.length,E=0;E<h;E++)u+="0";i=u+a+i}{if(s=t%et,t=t/et>>>0,o=4294967296*s+r,r=o/et>>>0,a=""+(o-et*r),r===0&&t===0)return n+a+i;for(u="",h=6-a.length,E=0;E<h;E++)u+="0";i=u+a+i}return s=t%et,o=4294967296*s+r,a=""+o%et,n+a+i}ql.exports=iy});var Wl=R((fw,Hl)=>{var sy=Fl(),Ae=function(e,t,r,n,i){r=r||0,n=n||!1,i=i||function(M,P,B){return M*Math.pow(2,B)+P};var s=r>>3,o=function(M){return n?~M&255:M},a=255,u=8-r%8;t<u&&(a=255<<8-t&255,u=t),r&&(a=a>>r%8);var h=0;r%8+t>=8&&(h=i(0,o(e[s])&a,u));for(var E=t+r>>3,g=s+1;g<E;g++)h=i(h,o(e[g]),8);var v=(t+r)%8;return v>0&&(h=i(h,o(e[E])>>8-v,v)),h},jl=function(e,t,r){var n=Math.pow(2,r-1)-1,i=Ae(e,1),s=Ae(e,r,1);if(s===0)return 0;var o=1,a=function(h,E,g){h===0&&(h=1);for(var v=1;v<=g;v++)o/=2,(E&1<<g-v)>0&&(h+=o);return h},u=Ae(e,t,r+1,!1,a);return s==Math.pow(2,r+1)-1?u===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,s-n)*u},oy=function(e){return Ae(e,1)==1?-1*(Ae(e,15,1,!0)+1):Ae(e,15,1)},Ul=function(e){return Ae(e,1)==1?-1*(Ae(e,31,1,!0)+1):Ae(e,31,1)},ay=function(e){return jl(e,23,8)},uy=function(e){return jl(e,52,11)},cy=function(e){var t=Ae(e,16,32);if(t==49152)return NaN;for(var r=Math.pow(1e4,Ae(e,16,16)),n=0,i=[],s=Ae(e,16),o=0;o<s;o++)n+=Ae(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,Ae(e,16,48));return(t===0?1:-1)*Math.round(n*a)/a},Bl=function(e,t){var r=Ae(t,1),n=Ae(t,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return e||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(s){this.usec=s},i.getUTCMicroSeconds=function(){return this.usec},i},Tn=function(e){for(var t=Ae(e,32),r=Ae(e,32,32),n=Ae(e,32,64),i=96,s=[],o=0;o<t;o++)s[o]=Ae(e,32,i),i+=32,i+=32;var a=function(h){var E=Ae(e,32,i);if(i+=32,E==4294967295)return null;var g;if(h==23||h==20)return g=Ae(e,E*8,i),i+=E*8,g;if(h==25)return g=e.toString(this.encoding,i>>3,(i+=E<<3)>>3),g;console.log("ERROR: ElementType not implemented: "+h)},u=function(h,E){var g=[],v;if(h.length>1){var M=h.shift();for(v=0;v<M;v++)g[v]=u(h,E);h.unshift(M)}else for(v=0;v<h[0];v++)g[v]=a(E);return g};return u(s,n)},ly=function(e){return e.toString("utf8")},fy=function(e){return e===null?null:Ae(e,8)>0},hy=function(e){e(20,sy),e(21,oy),e(23,Ul),e(26,Ul),e(1700,cy),e(700,ay),e(701,uy),e(16,fy),e(1114,Bl.bind(null,!1)),e(1184,Bl.bind(null,!0)),e(1e3,Tn),e(1007,Tn),e(1016,Tn),e(1008,Tn),e(1009,Tn),e(25,ly)};Hl.exports={init:hy}});var $l=R((hw,Gl)=>{Gl.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var Sn=R(_n=>{var dy=xl(),py=Wl(),Ey=no(),my=$l();_n.getTypeParser=gy;_n.setTypeParser=vy;_n.arrayParser=Ey;_n.builtins=my;var Rn={text:{},binary:{}};function Vl(e){return String(e)}function gy(e,t){return t=t||"text",Rn[t]&&Rn[t][e]||Vl}function vy(e,t,r){typeof t=="function"&&(r=t,t="text"),Rn[t][e]=r}dy.init(function(e,t){Rn.text[e]=t});py.init(function(e,t){Rn.binary[e]=t})});var Nn=R((pw,fo)=>{"use strict";fo.exports={host:"localhost",user:process.platform==="win32"?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var Dr=Sn(),yy=Dr.getTypeParser(20,"text"),Ty=Dr.getTypeParser(1016,"text");fo.exports.__defineSetter__("parseInt8",function(e){Dr.setTypeParser(20,"text",e?Dr.getTypeParser(23,"text"):yy),Dr.setTypeParser(1016,"text",e?Dr.getTypeParser(1007,"text"):Ty)})});var Ei=R((Ew,Yl)=>{"use strict";var Ry=require("crypto"),_y=Nn();function Sy(e){var t=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+t+'"'}function Ql(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t=t+","),e[r]===null||typeof e[r]=="undefined"?t=t+"NULL":Array.isArray(e[r])?t=t+Ql(e[r]):e[r]instanceof Buffer?t+="\\\\x"+e[r].toString("hex"):t+=Sy(pi(e[r]));return t=t+"}",t}var pi=function(e,t){if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var r=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?_y.parseInputDatesAsUTC?Cy(e):Oy(e):Array.isArray(e)?Ql(e):e===null||typeof e=="undefined"?null:typeof e=="object"?Ny(e,t):e.toString()};function Ny(e,t){if(e&&typeof e.toPostgres=="function"){if(t=t||[],t.indexOf(e)!==-1)throw new Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),pi(e.toPostgres(pi),t)}return JSON.stringify(e)}function $e(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function Oy(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=$e(r,4)+"-"+$e(e.getMonth()+1,2)+"-"+$e(e.getDate(),2)+"T"+$e(e.getHours(),2)+":"+$e(e.getMinutes(),2)+":"+$e(e.getSeconds(),2)+"."+$e(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=$e(Math.floor(t/60),2)+":"+$e(t%60,2),n&&(i+=" BC"),i}function Cy(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=$e(t,4)+"-"+$e(e.getUTCMonth()+1,2)+"-"+$e(e.getUTCDate(),2)+"T"+$e(e.getUTCHours(),2)+":"+$e(e.getUTCMinutes(),2)+":"+$e(e.getUTCSeconds(),2)+"."+$e(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}function Ay(e,t,r){return e=typeof e=="string"?{text:e}:e,t&&(typeof t=="function"?e.callback=t:e.values=t),r&&(e.callback=r),e}var ho=function(e){return Ry.createHash("md5").update(e,"utf-8").digest("hex")},Iy=function(e,t,r){var n=ho(t+e),i=ho(Buffer.concat([Buffer.from(n),r]));return"md5"+i};Yl.exports={prepareValue:function(t){return pi(t)},normalizeQueryConfig:Ay,postgresMd5PasswordHash:Iy,md5:ho}});var Kl=R((mw,Xl)=>{"use strict";var po=require("crypto");function by(e){if(e.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=po.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function Ly(e,t,r){if(e.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");let n=Py(r);if(!n.nonce.startsWith(e.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=Buffer.from(n.salt,"base64"),s=Dy(t,i,n.iteration),o=Mr(s,"Client Key"),a=po.createHash("sha256").update(o).digest(),u="n=*,r="+e.clientNonce,h="r="+n.nonce+",s="+n.salt+",i="+n.iteration,E="c=biws,r="+n.nonce,g=u+","+h+","+E,v=Mr(a,g),M=zl(o,v),P=M.toString("base64"),B=Mr(s,"Server Key"),j=Mr(B,g);e.message="SASLResponse",e.serverSignature=j.toString("base64"),e.response=E+",p="+P}function wy(e,t){if(e.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");var r;if(String(t).split(",").forEach(function(n){switch(n[0]){case"v":r=n.substr(2);break}}),r!==e.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function Py(e){var t,r,n;if(String(e).split(",").forEach(function(i){switch(i[0]){case"r":t=i.substr(2);break;case"s":r=i.substr(2);break;case"i":n=parseInt(i.substr(2),10);break}}),!t)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:t,salt:r,iteration:n}}function zl(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e)),Buffer.isBuffer(t)||(t=Buffer.from(t));var r=[];if(e.length>t.length)for(var n=0;n<t.length;n++)r.push(e[n]^t[n]);else for(var i=0;i<e.length;i++)r.push(e[i]^t[i]);return Buffer.from(r)}function Mr(e,t){return po.createHmac("sha256",e).update(t).digest()}function Dy(e,t,r){for(var n=Mr(e,Buffer.concat([t,Buffer.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)n=Mr(e,n),i=zl(i,n);return i}Xl.exports={startSession:by,continueSession:Ly,finalizeSession:wy}});var ef=R((Jl,Zl)=>{var My=require("stream");Jl=Zl.exports=Eo;Eo.through=Eo;function Eo(e,t,r){e=e||function(E){this.queue(E)},t=t||function(){this.queue(null)};var n=!1,i=!1,s=[],o=!1,a=new My;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&r.autoDestroy===!1),a.write=function(E){return e.call(this,E),!a.paused};function u(){for(;s.length&&!a.paused;){var E=s.shift();if(E===null)return a.emit("end");a.emit("data",E)}}a.queue=a.push=function(E){return o||(E===null&&(o=!0),s.push(E),u()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function h(){a.writable=!1,t.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(E){if(!n)return n=!0,arguments.length&&a.write(E),h(),a},a.destroy=function(){if(!i)return i=!0,n=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),u(),a.paused||a.emit("drain"),a},a}});var rf=R((gw,tf)=>{var ky=ef(),xy=require("string_decoder").StringDecoder;tf.exports=qy;function qy(e,t,r){var n=new xy,i="",s=r&&r.maxLength,o=!(r&&r.trailing===!1);typeof e=="function"&&(t=e,e=null),e||(e=/\r?\n/);function a(h,E){if(t){try{E=t(E)}catch(g){return h.emit("error",g)}typeof E!="undefined"&&h.queue(E)}else h.queue(E)}function u(h,E){var g=((i!=null?i:"")+E).split(e);if(i=g.pop(),s&&i.length>s)return h.emit("error",new Error("maximum buffer reached"));for(var v=0;v<g.length;v++){var M=g[v];a(h,M)}}return ky(function(h){u(this,n.write(h))},function(){n.end&&u(this,n.end()),o&&i!=null&&a(this,i),this.queue(null)})}});var of=R((vw,Bt)=>{"use strict";var nf=require("path"),Fy=require("stream").Stream,Uy=rf(),sf=require("util"),By=5432,mi=process.platform==="win32",On=process.stderr,jy=56,Hy=7,Wy=61440,Gy=32768;function $y(e){return(e&Wy)==Gy}var kr=["host","port","database","user","password"],mo=kr.length,Vy=kr[mo-1];function go(){var e=On instanceof Fy&&On.writable===!0;if(e){var t=Array.prototype.slice.call(arguments).concat(`
`);On.write(sf.format.apply(sf,t))}}Object.defineProperty(Bt.exports,"isWin",{get:function(){return mi},set:function(e){mi=e}});Bt.exports.warnTo=function(e){var t=On;return On=e,t};Bt.exports.getFileName=function(e){e=e||process.env;var t=e.PGPASSFILE||(mi?nf.join(e.APPDATA,"postgresql","pgpass.conf"):nf.join(e.HOME,".pgpass"));return t};Bt.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:mi?!0:(t=t||"<unkn>",$y(e.mode)?e.mode&(jy|Hy)?(go('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(go('WARNING: password file "%s" is not a plain file',t),!1))};var Qy=Bt.exports.match=function(e,t){return kr.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(e[n]||By)===Number(t[n])?r&&!0:r&&(t[n]==="*"||t[n]===e[n])},!0)};Bt.exports.getPassword=function(e,t,r){var n,i=t.pipe(new Uy);function s(u){var h=Yy(u);h&&zy(h)&&Qy(e,h)&&(n=h[Vy],i.end())}var o=function(){t.destroy(),r(n)},a=function(u){t.destroy(),go("WARNING: error on reading file: %s",u),r(void 0)};t.on("error",a),i.on("data",s).on("end",o).on("error",a)};var Yy=Bt.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s=0,o={},a=!1,u=function(E,g,v){var M=e.substring(g,v);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(M=M.replace(/\\([:\\])/g,"$1")),o[kr[E]]=M},h=0;h<e.length-1;h+=1){if(t=e.charAt(h+1),r=e.charAt(h),a=n==mo-1,a){u(n,i);break}h>=0&&t==":"&&r!=="\\"&&(u(n,i,h+1),i=h+2,n+=1)}return o=Object.keys(o).length===mo?o:null,o},zy=Bt.exports.isValidEntry=function(e){for(var t={0:function(o){return o.length>0},1:function(o){return o==="*"?!0:(o=Number(o),isFinite(o)&&o>0&&o<9007199254740992&&Math.floor(o)===o)},2:function(o){return o.length>0},3:function(o){return o.length>0},4:function(o){return o.length>0}},r=0;r<kr.length;r+=1){var n=t[r],i=e[kr[r]]||"",s=n(i);if(!s)return!1}return!0}});var uf=R((Tw,vo)=>{"use strict";var yw=require("path"),af=require("fs"),gi=of();vo.exports=function(e,t){var r=gi.getFileName();af.stat(r,function(n,i){if(n||!gi.usePgPass(i,r))return t(void 0);var s=af.createReadStream(r);gi.getPassword(e,s,t)})};vo.exports.warnTo=gi.warnTo});var yo=R((Rw,cf)=>{"use strict";var Xy=Sn();function vi(e){this._types=e||Xy,this.text={},this.binary={}}vi.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}};vi.prototype.setTypeParser=function(e,t,r){typeof t=="function"&&(r=t,t="text"),this.getOverrides(t)[e]=r};vi.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)};cf.exports=vi});var ff=R((_w,lf)=>{"use strict";var Ky=require("url"),To=require("fs");function Ro(e){if(e.charAt(0)==="/"){var r=e.split(" ");return{host:r[0],database:r[1]}}var t=Ky.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),r=t.query;for(var n in r)Array.isArray(r[n])&&(r[n]=r[n][r[n].length-1]);var i=(t.auth||":").split(":");if(r.user=i[0],r.password=i.splice(1).join(":"),r.port=t.port,t.protocol=="socket:")return r.host=decodeURI(t.pathname),r.database=t.query.db,r.client_encoding=t.query.encoding,r;r.host||(r.host=t.hostname);var s=t.pathname;if(!r.host&&s&&/^%2f/i.test(s)){var o=s.split("/");r.host=decodeURIComponent(o[0]),s=o.splice(1).join("/")}return s&&s.charAt(0)==="/"&&(s=s.slice(1)||null),r.database=s&&decodeURI(s),(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert)&&(r.ssl={}),r.sslcert&&(r.ssl.cert=To.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=To.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=To.readFileSync(r.sslrootcert).toString()),r}lf.exports=Ro;Ro.parse=Ro});var So=R((Sw,pf)=>{"use strict";var Jy=require("dns"),df=Nn(),hf=ff().parse,tt=function(e,t,r){return r===void 0?r=process.env["PG"+e.toUpperCase()]:r===!1||(r=process.env[r]),t[e]||r||df[e]},Zy=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return df.ssl},xr=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},pt=function(e,t,r){var n=t[r];n!=null&&e.push(r+"="+xr(n))},_o=class{constructor(t){t=typeof t=="string"?hf(t):t||{},t.connectionString&&(t=Object.assign({},t,hf(t.connectionString))),this.user=tt("user",t),this.database=tt("database",t),this.database===void 0&&(this.database=this.user),this.port=parseInt(tt("port",t),10),this.host=tt("host",t),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:tt("password",t)}),this.binary=tt("binary",t),this.options=tt("options",t),this.ssl=typeof t.ssl=="undefined"?Zy():t.ssl,this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=tt("client_encoding",t),this.replication=tt("replication",t),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=tt("application_name",t,"PGAPPNAME"),this.fallback_application_name=tt("fallback_application_name",t,!1),this.statement_timeout=tt("statement_timeout",t,!1),this.idle_in_transaction_session_timeout=tt("idle_in_transaction_session_timeout",t,!1),this.query_timeout=tt("query_timeout",t,!1),t.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(t.connectionTimeoutMillis/1e3),t.keepAlive===!1?this.keepalives=0:t.keepAlive===!0&&(this.keepalives=1),typeof t.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(t.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(t){var r=[];pt(r,this,"user"),pt(r,this,"password"),pt(r,this,"port"),pt(r,this,"application_name"),pt(r,this,"fallback_application_name"),pt(r,this,"connect_timeout"),pt(r,this,"options");var n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(pt(r,n,"sslmode"),pt(r,n,"sslca"),pt(r,n,"sslkey"),pt(r,n,"sslcert"),pt(r,n,"sslrootcert"),this.database&&r.push("dbname="+xr(this.database)),this.replication&&r.push("replication="+xr(this.replication)),this.host&&r.push("host="+xr(this.host)),this.isDomainSocket)return t(null,r.join(" "));this.client_encoding&&r.push("client_encoding="+xr(this.client_encoding)),Jy.lookup(this.host,function(i,s){return i?t(i,null):(r.push("hostaddr="+xr(s)),t(null,r.join(" ")))})}};pf.exports=_o});var gf=R((Nw,mf)=>{"use strict";var eT=Sn(),Ef=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,No=class{constructor(t,r){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=r,this.RowCtor=null,this.rowAsArray=t==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(t){var r;t.text?r=Ef.exec(t.text):r=Ef.exec(t.command),r&&(this.command=r[1],r[3]?(this.oid=parseInt(r[2],10),this.rowCount=parseInt(r[3],10)):r[2]&&(this.rowCount=parseInt(r[2],10)))}_parseRowAsArray(t){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++){var s=t[n];s!==null?r[n]=this._parsers[n](s):r[n]=null}return r}parseRow(t){for(var r={},n=0,i=t.length;n<i;n++){var s=t[n],o=this.fields[n].name;s!==null?r[o]=this._parsers[n](s):r[o]=null}return r}addRow(t){this.rows.push(t)}addFields(t){this.fields=t,this.fields.length&&(this._parsers=new Array(t.length));for(var r=0;r<t.length;r++){var n=t[r];this._types?this._parsers[r]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[r]=eT.getTypeParser(n.dataTypeID,n.format||"text")}}};mf.exports=No});var Rf=R((Ow,Tf)=>{"use strict";var{EventEmitter:tT}=require("events"),vf=gf(),yf=Ei(),Oo=class extends tT{constructor(t,r,n){super(),t=yf.normalizeQueryConfig(t,r,n),this.text=t.text,this.values=t.values,this.rows=t.rows,this.types=t.types,this.name=t.name,this.binary=t.binary,this.portal=t.portal||"",this.callback=t.callback,this._rowMode=t.rowMode,process.domain&&t.callback&&(this.callback=process.domain.bind(t.callback)),this._result=new vf(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new vf(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(t){this._checkForMultirow(),this._result.addFields(t.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(t){let r;if(!this._canceledDueToError){try{r=this._result.parseRow(t.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",r,this._result),this._accumulateRows&&this._result.addRow(r)}}handleCommandComplete(t,r){this._checkForMultirow(),this._result.addCommandComplete(t),this.isPreparedStatement&&r.sync()}handleEmptyQuery(t){this.isPreparedStatement&&t.sync()}handleReadyForQuery(t){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,t);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(t,r){if(this.isPreparedStatement&&r.sync(),this._canceledDueToError&&(t=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(t);this.emit("error",t)}submit(t){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let r=t.parsedStatements[this.name];return this.text&&r&&this.text!==r?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(t):t.query(this.text),null)}hasBeenParsed(t){return this.name&&t.parsedStatements[this.name]}handlePortalSuspended(t){this._getRows(t,this.rows)}_getRows(t,r){t.execute({portal:this.portal,rows:r}),t.flush()}prepare(t){if(this.isPreparedStatement=!0,this.hasBeenParsed(t)||t.parse({text:this.text,name:this.name,types:this.types}),this.values)try{this.values=this.values.map(yf.prepareValue)}catch(r){this.handleError(r,t);return}t.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary}),t.describe({type:"P",name:this.portal||""}),this._getRows(t,this.rows)}handleCopyInResponse(t){t.sendCopyFail("No source stream defined")}handleCopyData(t,r){}};Tf.exports=Oo});var _f=R(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var Co=class{constructor(t=256){this.size=t,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(t)}ensure(t){var r=this.buffer.length-this.offset;if(r<t){var n=this.buffer,i=n.length+(n.length>>1)+t;this.buffer=Buffer.alloc(i),n.copy(this.buffer)}}addInt32(t){return this.ensure(4),this.buffer[this.offset++]=t>>>24&255,this.buffer[this.offset++]=t>>>16&255,this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addInt16(t){return this.ensure(2),this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addCString(t){if(!t)this.ensure(1);else{var r=Buffer.byteLength(t);this.ensure(r+1),this.buffer.write(t,this.offset,"utf-8"),this.offset+=r}return this.buffer[this.offset++]=0,this}addString(t=""){var r=Buffer.byteLength(t);return this.ensure(r),this.buffer.write(t,this.offset),this.offset+=r,this}add(t){return this.ensure(t.length),t.copy(this.buffer,this.offset),this.offset+=t.length,this}join(t){if(t){this.buffer[this.headerPosition]=t;let r=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(r,this.headerPosition+1)}return this.buffer.slice(t?0:5,this.offset)}flush(t){var r=this.join(t);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),r}};Ao.Writer=Co});var Of=R(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Sf=_f(),Ve=new Sf.Writer,rT=e=>{Ve.addInt16(3).addInt16(0);for(let n of Object.keys(e))Ve.addCString(n).addCString(e[n]);Ve.addCString("client_encoding").addCString("UTF8");var t=Ve.addCString("").flush(),r=t.length+4;return new Sf.Writer().addInt32(r).add(t).flush()},nT=()=>{let e=Buffer.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},iT=e=>Ve.addCString(e).flush(112),sT=function(e,t){return Ve.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),Ve.flush(112)},oT=function(e){return Ve.addString(e).flush(112)},aT=e=>Ve.addCString(e).flush(81),Nf=[],uT=e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let r=e.types||Nf;for(var n=r.length,i=Ve.addCString(t).addCString(e.text).addInt16(n),s=0;s<n;s++)i.addInt32(r[s]);return Ve.flush(80)},cT=(e={})=>{let t=e.portal||"",r=e.statement||"",n=e.binary||!1;for(var i=e.values||Nf,s=i.length,o=!1,a=0;a<s;a++)o=o||i[a]instanceof Buffer;var u=Ve.addCString(t).addCString(r);if(!o)u.addInt16(0);else for(u.addInt16(s),a=0;a<s;a++)u.addInt16(i[a]instanceof Buffer?1:0);u.addInt16(s);for(var h=0;h<s;h++){var E=i[h];E===null||typeof E=="undefined"?u.addInt32(-1):E instanceof Buffer?(u.addInt32(E.length),u.add(E)):(u.addInt32(Buffer.byteLength(E)),u.addString(E))}return n?(u.addInt16(1),u.addInt16(1)):u.addInt16(0),Ve.flush(66)},lT=Buffer.from([69,0,0,0,9,0,0,0,0,0]),fT=e=>{if(!e||!e.portal&&!e.rows)return lT;let t=e.portal||"",r=e.rows||0,n=Buffer.byteLength(t),i=4+n+1+4,s=Buffer.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},hT=(e,t)=>{let r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},Io=(e,t)=>{let r=Buffer.byteLength(t),n=4+r+1,i=Buffer.allocUnsafe(1+n);return i[0]=e,i.writeInt32BE(n,1),i.write(t,5,"utf-8"),i[n]=0,i},dT=Ve.addCString("P").flush(68),pT=Ve.addCString("S").flush(68),ET=e=>e.name?Io(68,`${e.type}${e.name||""}`):e.type==="P"?dT:pT,mT=e=>{let t=`${e.type}${e.name||""}`;return Io(67,t)},gT=e=>Ve.add(e).flush(100),vT=e=>Io(102,e),yi=e=>Buffer.from([e,0,0,0,4]),yT=yi(72),TT=yi(83),RT=yi(88),_T=yi(99),ST={startup:rT,password:iT,requestSsl:nT,sendSASLInitialResponseMessage:sT,sendSCRAMClientFinalMessage:oT,query:aT,parse:uT,bind:cT,execute:fT,describe:ET,close:mT,flush:()=>yT,sync:()=>TT,end:()=>RT,copyData:gT,copyDone:()=>_T,copyFail:vT,cancel:hT};bo.serialize=ST});var Cf=R(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.parseComplete={name:"parseComplete",length:5};Ie.bindComplete={name:"bindComplete",length:5};Ie.closeComplete={name:"closeComplete",length:5};Ie.noData={name:"noData",length:5};Ie.portalSuspended={name:"portalSuspended",length:5};Ie.replicationStart={name:"replicationStart",length:4};Ie.emptyQuery={name:"emptyQuery",length:4};Ie.copyDone={name:"copyDone",length:4};var Lo=class extends Error{constructor(t,r,n){super(t),this.length=r,this.name=n}};Ie.DatabaseError=Lo;var wo=class{constructor(t,r){this.length=t,this.chunk=r,this.name="copyData"}};Ie.CopyDataMessage=wo;var Po=class{constructor(t,r,n,i){this.length=t,this.name=r,this.binary=n,this.columnTypes=new Array(i)}};Ie.CopyResponse=Po;var Do=class{constructor(t,r,n,i,s,o,a){this.name=t,this.tableID=r,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=s,this.dataTypeModifier=o,this.format=a}};Ie.Field=Do;var Mo=class{constructor(t,r){this.length=t,this.fieldCount=r,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};Ie.RowDescriptionMessage=Mo;var ko=class{constructor(t,r,n){this.length=t,this.parameterName=r,this.parameterValue=n,this.name="parameterStatus"}};Ie.ParameterStatusMessage=ko;var xo=class{constructor(t,r){this.length=t,this.salt=r,this.name="authenticationMD5Password"}};Ie.AuthenticationMD5Password=xo;var qo=class{constructor(t,r,n){this.length=t,this.processID=r,this.secretKey=n,this.name="backendKeyData"}};Ie.BackendKeyDataMessage=qo;var Fo=class{constructor(t,r,n,i){this.length=t,this.processId=r,this.channel=n,this.payload=i,this.name="notification"}};Ie.NotificationResponseMessage=Fo;var Uo=class{constructor(t,r){this.length=t,this.status=r,this.name="readyForQuery"}};Ie.ReadyForQueryMessage=Uo;var Bo=class{constructor(t,r){this.length=t,this.text=r,this.name="commandComplete"}};Ie.CommandCompleteMessage=Bo;var jo=class{constructor(t,r){this.length=t,this.fields=r,this.name="dataRow",this.fieldCount=r.length}};Ie.DataRowMessage=jo;var Ho=class{constructor(t,r){this.length=t,this.message=r,this.name="notice"}};Ie.NoticeMessage=Ho});var Af=R(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var NT=Buffer.allocUnsafe(0),Wo=class{constructor(t=0){this.offset=t,this.buffer=NT,this.encoding="utf-8"}setBuffer(t,r){this.offset=t,this.buffer=r}int16(){let t=this.buffer.readInt16BE(this.offset);return this.offset+=2,t}byte(){let t=this.buffer[this.offset];return this.offset++,t}int32(){let t=this.buffer.readInt32BE(this.offset);return this.offset+=4,t}string(t){let r=this.buffer.toString(this.encoding,this.offset,this.offset+t);return this.offset+=t,r}cstring(){let t=this.offset,r=t;for(;this.buffer[r++]!==0;);return this.offset=r,this.buffer.toString(this.encoding,t,r-1)}bytes(t){let r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}};Go.BufferReader=Wo});var Lf=R(Cn=>{"use strict";var OT=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});var Pe=Cf(),CT=Af(),AT=OT(require("assert")),$o=1,IT=4,If=$o+IT,bf=Buffer.allocUnsafe(0),Vo=class{constructor(t){var r,n;if(this.buffer=bf,this.bufferLength=0,this.bufferOffset=0,this.reader=new CT.BufferReader,((r=t)===null||r===void 0?void 0:r.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=((n=t)===null||n===void 0?void 0:n.mode)||"text"}parse(t,r){this.mergeBuffer(t);let n=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+If<=n;){let s=this.buffer[i],o=this.buffer.readUInt32BE(i+$o),a=$o+o;if(a+i<=n){let u=this.handlePacket(i+If,s,o,this.buffer);r(u),i+=a}else break}i===n?(this.buffer=bf,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(t){if(this.bufferLength>0){let r=this.bufferLength+t.byteLength;if(r+this.bufferOffset>this.buffer.byteLength){let i;if(r<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let s=this.buffer.byteLength*2;for(;r>=s;)s*=2;i=Buffer.allocUnsafe(s)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}t.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=r}else this.buffer=t,this.bufferOffset=0,this.bufferLength=t.byteLength}handlePacket(t,r,n,i){switch(r){case 50:return Pe.bindComplete;case 49:return Pe.parseComplete;case 51:return Pe.closeComplete;case 110:return Pe.noData;case 115:return Pe.portalSuspended;case 99:return Pe.copyDone;case 87:return Pe.replicationStart;case 73:return Pe.emptyQuery;case 68:return this.parseDataRowMessage(t,n,i);case 67:return this.parseCommandCompleteMessage(t,n,i);case 90:return this.parseReadyForQueryMessage(t,n,i);case 65:return this.parseNotificationMessage(t,n,i);case 82:return this.parseAuthenticationResponse(t,n,i);case 83:return this.parseParameterStatusMessage(t,n,i);case 75:return this.parseBackendKeyData(t,n,i);case 69:return this.parseErrorMessage(t,n,i,"error");case 78:return this.parseErrorMessage(t,n,i,"notice");case 84:return this.parseRowDescriptionMessage(t,n,i);case 71:return this.parseCopyInMessage(t,n,i);case 72:return this.parseCopyOutMessage(t,n,i);case 100:return this.parseCopyData(t,n,i);default:AT.default.fail(`unknown message code: ${r.toString(16)}`)}}parseReadyForQueryMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.string(1);return new Pe.ReadyForQueryMessage(r,i)}parseCommandCompleteMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.cstring();return new Pe.CommandCompleteMessage(r,i)}parseCopyData(t,r,n){let i=n.slice(t,t+(r-4));return new Pe.CopyDataMessage(r,i)}parseCopyInMessage(t,r,n){return this.parseCopyMessage(t,r,n,"copyInResponse")}parseCopyOutMessage(t,r,n){return this.parseCopyMessage(t,r,n,"copyOutResponse")}parseCopyMessage(t,r,n,i){this.reader.setBuffer(t,n);let s=this.reader.byte()!==0,o=this.reader.int16(),a=new Pe.CopyResponse(r,i,s,o);for(let u=0;u<o;u++)a.columnTypes[u]=this.reader.int16();return a}parseNotificationMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();return new Pe.NotificationResponseMessage(r,i,s,o)}parseRowDescriptionMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int16(),s=new Pe.RowDescriptionMessage(r,i);for(let o=0;o<i;o++)s.fields[o]=this.parseField();return s}parseField(){let t=this.reader.cstring(),r=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.int16(),o=this.reader.int32(),a=this.reader.int16()===0?"text":"binary";return new Pe.Field(t,r,n,i,s,o,a)}parseDataRowMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int16(),s=new Array(i);for(let o=0;o<i;o++){let a=this.reader.int32();s[o]=a===-1?null:this.reader.string(a)}return new Pe.DataRowMessage(r,s)}parseParameterStatusMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.cstring(),s=this.reader.cstring();return new Pe.ParameterStatusMessage(r,i,s)}parseBackendKeyData(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s=this.reader.int32();return new Pe.BackendKeyDataMessage(r,i,s)}parseAuthenticationResponse(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s={name:"authenticationOk",length:r};switch(i){case 0:break;case 3:s.length===8&&(s.name="authenticationCleartextPassword");break;case 5:if(s.length===12){s.name="authenticationMD5Password";let a=this.reader.bytes(4);return new Pe.AuthenticationMD5Password(r,a)}break;case 10:s.name="authenticationSASL",s.mechanisms=[];let o;do o=this.reader.cstring(),o&&s.mechanisms.push(o);while(o);break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(r-8);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(r-8);break;default:throw new Error("Unknown authenticationOk message type "+i)}return s}parseErrorMessage(t,r,n,i){this.reader.setBuffer(t,n);let s={},o=this.reader.string(1);for(;o!=="\0";)s[o]=this.reader.cstring(),o=this.reader.string(1);let a=s.M,u=i==="notice"?new Pe.NoticeMessage(r,a):new Pe.DatabaseError(a,r,i);return u.severity=s.S,u.code=s.C,u.detail=s.D,u.hint=s.H,u.position=s.P,u.internalPosition=s.p,u.internalQuery=s.q,u.where=s.W,u.schema=s.s,u.table=s.t,u.column=s.c,u.dataType=s.d,u.constraint=s.n,u.file=s.F,u.line=s.L,u.routine=s.R,u}};Cn.Parser=Vo});var wf=R(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});var bT=Of();Ti.serialize=bT.serialize;var LT=Lf();function wT(e,t){let r=new LT.Parser;return e.on("data",n=>r.parse(n,t)),new Promise(n=>e.on("end",()=>n()))}Ti.parse=wT});var Yo=R((Dw,Mf)=>{"use strict";var Pf=require("net"),PT=require("events").EventEmitter,Pw=require("util"),{parse:DT,serialize:Be}=wf(),Df=Be.flush(),MT=Be.sync(),kT=Be.end(),Qo=class extends PT{constructor(t){super(),t=t||{},this.stream=t.stream||new Pf.Socket,this._keepAlive=t.keepAlive,this._keepAliveInitialDelayMillis=t.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=t.ssl||!1,this._ending=!1,this._emitMessage=!1;var r=this;this.on("newListener",function(n){n==="message"&&(r._emitMessage=!0)})}connect(t,r){var n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(t,r),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=function(s){n._ending&&(s.code==="ECONNRESET"||s.code==="EPIPE")||n.emit("error",s)};if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(s){var o=s.toString("utf8");switch(o){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}var a=require("tls");let u=Object.assign({socket:n.stream},n.ssl);Pf.isIP(r)===0&&(u.servername=r);try{n.stream=a.connect(u)}catch(h){return n.emit("error",h)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(t){t.on("end",()=>{this.emit("end")}),DT(t,r=>{var n=r.name==="error"?"errorMessage":r.name;this._emitMessage&&this.emit("message",r),this.emit(n,r)})}requestSsl(){this.stream.write(Be.requestSsl())}startup(t){this.stream.write(Be.startup(t))}cancel(t,r){this._send(Be.cancel(t,r))}password(t){this._send(Be.password(t))}sendSASLInitialResponseMessage(t,r){this._send(Be.sendSASLInitialResponseMessage(t,r))}sendSCRAMClientFinalMessage(t){this._send(Be.sendSCRAMClientFinalMessage(t))}_send(t){return this.stream.writable?this.stream.write(t):!1}query(t){this._send(Be.query(t))}parse(t){this._send(Be.parse(t))}bind(t){this._send(Be.bind(t))}execute(t){this._send(Be.execute(t))}flush(){this.stream.writable&&this.stream.write(Df)}sync(){this._ending=!0,this._send(Df),this._send(MT)}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(kT,()=>{this.stream.end()})}close(t){this._send(Be.close(t))}describe(t){this._send(Be.describe(t))}sendCopyFromChunk(t){this._send(Be.copyData(t))}endCopyFrom(){this._send(Be.copyDone())}sendCopyFail(t){this._send(Be.copyFail(t))}};Mf.exports=Qo});var qf=R((kw,xf)=>{"use strict";var xT=require("events").EventEmitter,Mw=require("util"),qT=Ei(),zo=Kl(),FT=uf(),UT=yo(),BT=So(),kf=Rf(),jT=Nn(),HT=Yo(),Ri=class extends xT{constructor(t){super(),this.connectionParameters=new BT(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var r=t||{};this._Promise=r.Promise||global.Promise,this._types=new UT(r.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=r.connection||new HT({stream:r.stream,ssl:this.connectionParameters.ssl,keepAlive:r.keepAlive||!1,keepAliveInitialDelayMillis:r.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=r.binary||jT.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=r.connectionTimeoutMillis||0}_errorAllQueries(t){let r=n=>{process.nextTick(()=>{n.handleError(t,this.connection)})};this.activeQuery&&(r(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(r),this.queryQueue.length=0}_connect(t){var r=this,n=this.connection;if(this._connectionCallback=t,this._connecting||this._connected){let i=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{t(i)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){r.ssl?n.requestSsl():n.startup(r.getStartupConf())}),n.on("sslconnect",function(){n.startup(r.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{let i=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),process.nextTick(()=>{this.emit("end")})})}connect(t){if(t){this._connect(t);return}return new this._Promise((r,n)=>{this._connect(i=>{i?n(i):r()})})}_attachListeners(t){t.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),t.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),t.on("authenticationSASL",this._handleAuthSASL.bind(this)),t.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),t.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),t.on("backendKeyData",this._handleBackendKeyData.bind(this)),t.on("error",this._handleErrorEvent.bind(this)),t.on("errorMessage",this._handleErrorMessage.bind(this)),t.on("readyForQuery",this._handleReadyForQuery.bind(this)),t.on("notice",this._handleNotice.bind(this)),t.on("rowDescription",this._handleRowDescription.bind(this)),t.on("dataRow",this._handleDataRow.bind(this)),t.on("portalSuspended",this._handlePortalSuspended.bind(this)),t.on("emptyQuery",this._handleEmptyQuery.bind(this)),t.on("commandComplete",this._handleCommandComplete.bind(this)),t.on("parseComplete",this._handleParseComplete.bind(this)),t.on("copyInResponse",this._handleCopyInResponse.bind(this)),t.on("copyData",this._handleCopyData.bind(this)),t.on("notification",this._handleNotification.bind(this))}_checkPgPass(t){let r=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){r.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;t()}).catch(n=>{r.emit("error",n)}):this.password!==null?t():FT(this.connectionParameters,function(n){n!==void 0&&(this.connectionParameters.password=this.password=n),t()})}_handleAuthCleartextPassword(t){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(t){this._checkPgPass(()=>{let r=qT.postgresMd5PasswordHash(this.user,this.password,t.salt);this.connection.password(r)})}_handleAuthSASL(t){this._checkPgPass(()=>{this.saslSession=zo.startSession(t.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(t){zo.continueSession(this.saslSession,this.password,t.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(t){zo.finalizeSession(this.saslSession,t.data),this.saslSession=null}_handleBackendKeyData(t){this.processID=t.processID,this.secretKey=t.secretKey}_handleReadyForQuery(t){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:r}=this;this.activeQuery=null,this.readyForQuery=!0,r&&r.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(t){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(t);this.emit("error",t)}}_handleErrorEvent(t){if(this._connecting)return this._handleErrorWhileConnecting(t);this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)}_handleErrorMessage(t){if(this._connecting)return this._handleErrorWhileConnecting(t);let r=this.activeQuery;if(!r){this._handleErrorEvent(t);return}this.activeQuery=null,r.handleError(t,this.connection)}_handleRowDescription(t){this.activeQuery.handleRowDescription(t)}_handleDataRow(t){this.activeQuery.handleDataRow(t)}_handlePortalSuspended(t){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(t){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(t){this.activeQuery.handleCommandComplete(t,this.connection)}_handleParseComplete(t){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(t){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(t){this.activeQuery.handleCopyData(t,this.connection)}_handleNotification(t){this.emit("notification",t)}_handleNotice(t){this.emit("notice",t)}getStartupConf(){var t=this.connectionParameters,r={user:t.user,database:t.database},n=t.application_name||t.fallback_application_name;return n&&(r.application_name=n),t.replication&&(r.replication=""+t.replication),t.statement_timeout&&(r.statement_timeout=String(parseInt(t.statement_timeout,10))),t.idle_in_transaction_session_timeout&&(r.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(r.options=t.options),r}cancel(t,r){if(t.activeQuery===r){var n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(t.processID,t.secretKey)})}else t.queryQueue.indexOf(r)!==-1&&t.queryQueue.splice(t.queryQueue.indexOf(r),1)}setTypeParser(t,r,n){return this._types.setTypeParser(t,r,n)}getTypeParser(t,r){return this._types.getTypeParser(t,r)}escapeIdentifier(t){return'"'+t.replace(/"/g,'""')+'"'}escapeLiteral(t){for(var r=!1,n="'",i=0;i<t.length;i++){var s=t[i];s==="'"?n+=s+s:s==="\\"?(n+=s+s,r=!0):n+=s}return n+="'",r===!0&&(n=" E"+n),n}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(t,r,n){var i,s,o,a,u;if(t==null)throw new TypeError("Client was passed a null or undefined query");return typeof t.submit=="function"?(o=t.query_timeout||this.connectionParameters.query_timeout,s=i=t,typeof r=="function"&&(i.callback=i.callback||r)):(o=this.connectionParameters.query_timeout,i=new kf(t,r,n),i.callback||(s=new this._Promise((h,E)=>{i.callback=(g,v)=>g?E(g):h(v)}))),o&&(u=i.callback,a=setTimeout(()=>{var h=new Error("Query read timeout");process.nextTick(()=>{i.handleError(h,this.connection)}),u(h),i.callback=()=>{};var E=this.queryQueue.indexOf(i);E>-1&&this.queryQueue.splice(E,1),this._pulseQueryQueue()},o),i.callback=(h,E)=>{clearTimeout(a),u(h,E)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"),this.connection)}),s):(this.queryQueue.push(i),this._pulseQueryQueue(),s):(process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),s)}end(t){if(this._ending=!0,!this.connection._connecting)if(t)t();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),t)this.connection.once("end",t);else return new this._Promise(r=>{this.connection.once("end",r)})}};Ri.Query=kf;xf.exports=Ri});var jf=R((xw,Bf)=>{"use strict";var WT=require("events").EventEmitter,Ff=function(){},Uf=(e,t)=>{let r=e.findIndex(t);return r===-1?void 0:e.splice(r,1)[0]},Xo=class{constructor(t,r,n){this.client=t,this.idleListener=r,this.timeoutId=n}},An=class{constructor(t){this.callback=t}};function GT(){throw new Error("Release called on client which has already been released to the pool.")}function _i(e,t){if(t)return{callback:t,result:void 0};let r,n,i=function(o,a){o?r(o):n(a)},s=new e(function(o,a){n=o,r=a});return{callback:i,result:s}}function $T(e,t){return function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)}}var Ko=class extends WT{constructor(t,r){super(),this.options=Object.assign({},t),t!=null&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.log=this.options.log||function(){},this.Client=this.options.Client||r||Jo().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis=="undefined"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(r=>{this._remove(r.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let t=this._pendingQueue.shift();if(this._idle.length){let r=this._idle.pop();clearTimeout(r.timeoutId);let n=r.client,i=r.idleListener;return this._acquireClient(n,t,i,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t){let r=Uf(this._idle,n=>n.client===t);r!==void 0&&clearTimeout(r.timeoutId),this._clients=this._clients.filter(n=>n!==t),t.end(),this.emit("remove",t)}connect(t){if(this.ending){let i=new Error("Cannot use a pool after calling end on the pool");return t?t(i):this.Promise.reject(i)}let r=_i(this.Promise,t),n=r.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new An(r.callback)),n;let i=(a,u,h)=>{clearTimeout(o),r.callback(a,u,h)},s=new An(i),o=setTimeout(()=>{Uf(this._pendingQueue,a=>a.callback===i),s.timedOut=!0,r.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(s),n}return this.newClient(new An(r.callback)),n}newClient(t){let r=new this.Client(this.options);this._clients.push(r);let n=$T(this,r);this.log("checking client timeout");let i,s=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),s=!0,r.connection?r.connection.stream.destroy():r.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),r.connect(o=>{if(i&&clearTimeout(i),r.on("error",n),o)this.log("client failed to connect",o),this._clients=this._clients.filter(a=>a!==r),s&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),t.timedOut||t.callback(o,void 0,Ff);else return this.log("new client connected"),this._acquireClient(r,t,n,!0)})}_acquireClient(t,r,n,i){i&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,n),t.removeListener("error",n),r.timedOut?i&&this.options.verify?this.options.verify(t,t.release):t.release():i&&this.options.verify?this.options.verify(t,s=>{if(s)return t.release(s),r.callback(s,void 0,Ff);r.callback(void 0,t,t.release)}):r.callback(void 0,t,t.release)}_releaseOnce(t,r){let n=!1;return i=>{n&&GT(),n=!0,this._release(t,r,i)}}_release(t,r,n){if(t.on("error",r),t._poolUseCount=(t._poolUseCount||0)+1,n||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses){t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t),this._pulseQueue();return}let i;this.options.idleTimeoutMillis&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(t)},this.options.idleTimeoutMillis)),this._idle.push(new Xo(t,r,i)),this._pulseQueue()}query(t,r,n){if(typeof t=="function"){let s=_i(this.Promise,t);return setImmediate(function(){return s.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),s.result}typeof r=="function"&&(n=r,r=void 0);let i=_i(this.Promise,n);return n=i.callback,this.connect((s,o)=>{if(s)return n(s);let a=!1,u=h=>{a||(a=!0,o.release(h),n(h))};o.once("error",u),this.log("dispatching query"),o.query(t,r,(h,E)=>{if(this.log("query dispatched"),o.removeListener("error",u),!a)return a=!0,o.release(h),h?n(h):n(void 0,E)})}),i.result}end(t){if(this.log("ending"),this.ending){let n=new Error("Called end on pool more than once");return t?t(n):this.Promise.reject(n)}this.ending=!0;let r=_i(this.Promise,t);return this._endCallback=r.callback,this._pulseQueue(),r.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}};Bf.exports=Ko});var ih=R((re,Oi)=>{typeof Oi=="object"&&Oi.exports===re&&(re=Oi.exports=ge);var de;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?de=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:de=function(){};re.SEMVER_SPEC_VERSION="2.0.0";var ea=256,Zo=Number.MAX_SAFE_INTEGER||9007199254740991,Te=re.re=[],x=re.src=[],ue=0,qr=ue++;x[qr]="0|[1-9]\\d*";var Fr=ue++;x[Fr]="[0-9]+";var ia=ue++;x[ia]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var Wf=ue++;x[Wf]="("+x[qr]+")\\.("+x[qr]+")\\.("+x[qr]+")";var Gf=ue++;x[Gf]="("+x[Fr]+")\\.("+x[Fr]+")\\.("+x[Fr]+")";var ta=ue++;x[ta]="(?:"+x[qr]+"|"+x[ia]+")";var ra=ue++;x[ra]="(?:"+x[Fr]+"|"+x[ia]+")";var sa=ue++;x[sa]="(?:-("+x[ta]+"(?:\\."+x[ta]+")*))";var oa=ue++;x[oa]="(?:-?("+x[ra]+"(?:\\."+x[ra]+")*))";var na=ue++;x[na]="[0-9A-Za-z-]+";var Ln=ue++;x[Ln]="(?:\\+("+x[na]+"(?:\\."+x[na]+")*))";var aa=ue++,$f="v?"+x[Wf]+x[sa]+"?"+x[Ln]+"?";x[aa]="^"+$f+"$";var ua="[v=\\s]*"+x[Gf]+x[oa]+"?"+x[Ln]+"?",ca=ue++;x[ca]="^"+ua+"$";var jr=ue++;x[jr]="((?:<|>)?=?)";var Si=ue++;x[Si]=x[Fr]+"|x|X|\\*";var Ni=ue++;x[Ni]=x[qr]+"|x|X|\\*";var mr=ue++;x[mr]="[v=\\s]*("+x[Ni]+")(?:\\.("+x[Ni]+")(?:\\.("+x[Ni]+")(?:"+x[sa]+")?"+x[Ln]+"?)?)?";var Br=ue++;x[Br]="[v=\\s]*("+x[Si]+")(?:\\.("+x[Si]+")(?:\\.("+x[Si]+")(?:"+x[oa]+")?"+x[Ln]+"?)?)?";var Vf=ue++;x[Vf]="^"+x[jr]+"\\s*"+x[mr]+"$";var Qf=ue++;x[Qf]="^"+x[jr]+"\\s*"+x[Br]+"$";var Li=ue++;x[Li]="(?:~>?)";var Ci=ue++;x[Ci]="(\\s*)"+x[Li]+"\\s+";Te[Ci]=new RegExp(x[Ci],"g");var VT="$1~",Yf=ue++;x[Yf]="^"+x[Li]+x[mr]+"$";var zf=ue++;x[zf]="^"+x[Li]+x[Br]+"$";var wi=ue++;x[wi]="(?:\\^)";var Ai=ue++;x[Ai]="(\\s*)"+x[wi]+"\\s+";Te[Ai]=new RegExp(x[Ai],"g");var QT="$1^",Xf=ue++;x[Xf]="^"+x[wi]+x[mr]+"$";var Kf=ue++;x[Kf]="^"+x[wi]+x[Br]+"$";var la=ue++;x[la]="^"+x[jr]+"\\s*("+ua+")$|^$";var fa=ue++;x[fa]="^"+x[jr]+"\\s*("+$f+")$|^$";var In=ue++;x[In]="(\\s*)"+x[jr]+"\\s*("+ua+"|"+x[mr]+")";Te[In]=new RegExp(x[In],"g");var YT="$1$2$3",Jf=ue++;x[Jf]="^\\s*("+x[mr]+")\\s+-\\s+("+x[mr]+")\\s*$";var Zf=ue++;x[Zf]="^\\s*("+x[Br]+")\\s+-\\s+("+x[Br]+")\\s*$";var eh=ue++;x[eh]="(<|>)?=?\\s*\\*";for(er=0;er<ue;er++)de(er,x[er]),Te[er]||(Te[er]=new RegExp(x[er]));var er;re.parse=bn;function bn(e,t){if(e.length>ea)return null;var r=t?Te[ca]:Te[aa];if(!r.test(e))return null;try{return new ge(e,t)}catch(n){return null}}re.valid=zT;function zT(e,t){var r=bn(e,t);return r?r.version:null}re.clean=XT;function XT(e,t){var r=bn(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}re.SemVer=ge;function ge(e,t){if(e instanceof ge){if(e.loose===t)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>ea)throw new TypeError("version is longer than "+ea+" characters");if(!(this instanceof ge))return new ge(e,t);de("SemVer",e,t),this.loose=t;var r=e.trim().match(t?Te[ca]:Te[aa]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Zo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zo||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){return/^[0-9]+$/.test(n)?+n:n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}ge.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ge.prototype.inspect=function(){return'<SemVer "'+this+'">'};ge.prototype.toString=function(){return this.version};ge.prototype.compare=function(e){return de("SemVer.compare",this.version,this.loose,e),e instanceof ge||(e=new ge(e,this.loose)),this.compareMain(e)||this.comparePre(e)};ge.prototype.compareMain=function(e){return e instanceof ge||(e=new ge(e,this.loose)),Ur(this.major,e.major)||Ur(this.minor,e.minor)||Ur(this.patch,e.patch)};ge.prototype.comparePre=function(e){if(e instanceof ge||(e=new ge(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(de("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Ur(r,n)}while(++t)};ge.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this};re.inc=KT;function KT(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new ge(e,r).inc(t,n).version}catch(i){return null}}re.diff=JT;function JT(e,t){if(ha(e,t))return null;var r=bn(e),n=bn(t);if(r.prerelease.length||n.prerelease.length){for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return i}re.compareIdentifiers=Ur;var Hf=/^[0-9]+$/;function Ur(e,t){var r=Hf.test(e),n=Hf.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}re.rcompareIdentifiers=ZT;function ZT(e,t){return Ur(t,e)}re.major=eR;function eR(e,t){return new ge(e,t).major}re.minor=tR;function tR(e,t){return new ge(e,t).minor}re.patch=rR;function rR(e,t){return new ge(e,t).patch}re.compare=Ht;function Ht(e,t,r){return new ge(e,r).compare(t)}re.compareLoose=nR;function nR(e,t){return Ht(e,t,!0)}re.rcompare=th;function th(e,t,r){return Ht(t,e,r)}re.sort=iR;function iR(e,t){return e.sort(function(r,n){return re.compare(r,n,t)})}re.rsort=sR;function sR(e,t){return e.sort(function(r,n){return re.rcompare(r,n,t)})}re.gt=Ii;function Ii(e,t,r){return Ht(e,t,r)>0}re.lt=bi;function bi(e,t,r){return Ht(e,t,r)<0}re.eq=ha;function ha(e,t,r){return Ht(e,t,r)===0}re.neq=rh;function rh(e,t,r){return Ht(e,t,r)!==0}re.gte=da;function da(e,t,r){return Ht(e,t,r)>=0}re.lte=pa;function pa(e,t,r){return Ht(e,t,r)<=0}re.cmp=nh;function nh(e,t,r,n){var i;switch(t){case"===":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e===r;break;case"!==":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e!==r;break;case"":case"=":case"==":i=ha(e,r,n);break;case"!=":i=rh(e,r,n);break;case">":i=Ii(e,r,n);break;case">=":i=da(e,r,n);break;case"<":i=bi(e,r,n);break;case"<=":i=pa(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}re.Comparator=jt;function jt(e,t){if(e instanceof jt){if(e.loose===t)return e;e=e.value}if(!(this instanceof jt))return new jt(e,t);de("comparator",e,t),this.loose=t,this.parse(e),this.semver===Pi?this.value="":this.value=this.operator+this.semver.version,de("comp",this)}var Pi={};jt.prototype.parse=function(e){var t=this.loose?Te[la]:Te[fa],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new ge(r[2],this.loose):this.semver=Pi};jt.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'};jt.prototype.toString=function(){return this.value};jt.prototype.test=function(e){return de("Comparator.test",e,this.loose),this.semver===Pi?!0:(typeof e=="string"&&(e=new ge(e,this.loose)),nh(e,this.operator,this.semver,this.loose))};re.Range=at;function at(e,t){if(e instanceof at&&e.loose===t)return e;if(!(this instanceof at))return new at(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}at.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'};at.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};at.prototype.toString=function(){return this.range};at.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),de("range",e,t);var r=t?Te[Zf]:Te[Jf];e=e.replace(r,ER),de("hyphen replace",e),e=e.replace(Te[In],YT),de("comparator trim",e,Te[In]),e=e.replace(Te[Ci],VT),e=e.replace(Te[Ai],QT),e=e.split(/\s+/).join(" ");var n=t?Te[la]:Te[fa],i=e.split(" ").map(function(s){return aR(s,t)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new jt(s,t)}),i};re.toComparators=oR;function oR(e,t){return new at(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function aR(e,t){return de("comp",e),e=lR(e,t),de("caret",e),e=uR(e,t),de("tildes",e),e=hR(e,t),de("xrange",e),e=pR(e,t),de("stars",e),e}function Ye(e){return!e||e.toLowerCase()==="x"||e==="*"}function uR(e,t){return e.trim().split(/\s+/).map(function(r){return cR(r,t)}).join(" ")}function cR(e,t){var r=t?Te[zf]:Te[Yf];return e.replace(r,function(n,i,s,o,a){de("tilde",e,n,i,s,o,a);var u;return Ye(i)?u="":Ye(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Ye(o)?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(de("replaceTilde pr",a),a.charAt(0)!=="-"&&(a="-"+a),u=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0"):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",de("tilde return",u),u})}function lR(e,t){return e.trim().split(/\s+/).map(function(r){return fR(r,t)}).join(" ")}function fR(e,t){de("caret",e,t);var r=t?Te[Kf]:Te[Xf];return e.replace(r,function(n,i,s,o,a){de("caret",e,n,i,s,o,a);var u;return Ye(i)?u="":Ye(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Ye(o)?i==="0"?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(de("replaceCaret pr",a),a.charAt(0)!=="-"&&(a="-"+a),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+a+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+a+" <"+(+i+1)+".0.0"):(de("no pr"),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),de("caret return",u),u})}function hR(e,t){return de("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return dR(r,t)}).join(" ")}function dR(e,t){e=e.trim();var r=t?Te[Qf]:Te[Vf];return e.replace(r,function(n,i,s,o,a,u){de("xRange",e,n,i,s,o,a,u);var h=Ye(s),E=h||Ye(o),g=E||Ye(a),v=g;return i==="="&&v&&(i=""),h?i===">"||i==="<"?n="<0.0.0":n="*":i&&v?(E&&(o=0),g&&(a=0),i===">"?(i=">=",E?(s=+s+1,o=0,a=0):g&&(o=+o+1,a=0)):i==="<="&&(i="<",E?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a):E?n=">="+s+".0.0 <"+(+s+1)+".0.0":g&&(n=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),de("xRange return",n),n})}function pR(e,t){return de("replaceStars",e,t),e.trim().replace(Te[eh],"")}function ER(e,t,r,n,i,s,o,a,u,h,E,g,v){return Ye(r)?t="":Ye(n)?t=">="+r+".0.0":Ye(i)?t=">="+r+"."+n+".0":t=">="+t,Ye(u)?a="":Ye(h)?a="<"+(+u+1)+".0.0":Ye(E)?a="<"+u+"."+(+h+1)+".0":g?a="<="+u+"."+h+"."+E+"-"+g:a="<="+a,(t+" "+a).trim()}at.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new ge(e,this.loose));for(var t=0;t<this.set.length;t++)if(mR(this.set[t],e))return!0;return!1};function mR(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(var r=0;r<e.length;r++){if(de(e[r].semver),e[r].semver===Pi)return!0;if(e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}re.satisfies=Ea;function Ea(e,t,r){try{t=new at(t,r)}catch(n){return!1}return t.test(e)}re.maxSatisfying=gR;function gR(e,t,r){return e.filter(function(n){return Ea(n,t,r)}).sort(function(n,i){return th(n,i,r)})[0]||null}re.validRange=vR;function vR(e,t){try{return new at(e,t).range||"*"}catch(r){return null}}re.ltr=yR;function yR(e,t,r){return ma(e,t,"<",r)}re.gtr=TR;function TR(e,t,r){return ma(e,t,">",r)}re.outside=ma;function ma(e,t,r,n){e=new ge(e,n),t=new at(t,n);var i,s,o,a,u;switch(r){case">":i=Ii,s=pa,o=bi,a=">",u=">=";break;case"<":i=bi,s=da,o=Ii,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ea(e,t,n))return!1;for(var h=0;h<t.set.length;++h){var E=t.set[h],g=null,v=null;if(E.forEach(function(M){g=g||M,v=v||M,i(M.semver,g.semver,n)?g=M:o(M.semver,v.semver,n)&&(v=M)}),g.operator===a||g.operator===u||(!v.operator||v.operator===a)&&s(e,v.semver))return!1;if(v.operator===u&&o(e,v.semver))return!1}return!0}typeof define=="function"&&define.amd&&define(re)});var sh=R((qw,RR)=>{RR.exports={name:"pg",version:"8.3.2",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.3.0","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0",pgpass:"1.x",semver:"4.3.2"},devDependencies:{async:"0.9.0",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},minNativeVersion:"2.0.0",scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"acfbafac82641ef909d9d6235d46d38378c67864"}});var uh=R((Fw,ah)=>{"use strict";var oh=require("events").EventEmitter,_R=require("util"),ga=Ei(),Hr=ah.exports=function(e,t,r){oh.call(this),e=ga.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};_R.inherits(Hr,oh);var SR={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Hr.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t){var n=SR[r]||r;e[n]=t[r]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};Hr.prototype.then=function(e,t){return this._getPromise().then(e,t)};Hr.prototype.catch=function(e){return this._getPromise().catch(e)};Hr.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};Hr.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=function(s,o,a){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),s)return t.handleError(s);t._emitRowEvents&&(a.length>1?o.forEach((u,h)=>{u.forEach(E=>{t.emit("row",E,a[h])})}):o.forEach(function(u){t.emit("row",u,a)})),t.state="end",t.emit("end",a),t.callback&&t.callback(null,a)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(ga.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let s=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(s)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,function(s){return s?r(s):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){let s=new Error("Query values must be an array");return r(s)}var i=this.values.map(ga.prepareValue);e.native.query(this.text,i,r)}else e.native.query(this.text,r)}});var ph=R((Uw,dh)=>{"use strict";var ch=Di(),NR=yo(),OR=ih(),lh=sh(),CR=require("assert"),fh=require("events").EventEmitter,AR=require("util"),IR=So(),bR="Version >= "+lh.minNativeVersion+" of pg-native required.";CR(OR.gte(ch.version,lh.minNativeVersion),bR);var hh=uh(),Et=dh.exports=function(e){fh.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new NR(e.types),this.native=new ch({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new IR(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};Et.Query=hh;AR.inherits(Et,fh);Et.prototype._errorAllQueries=function(e){let t=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};Et.prototype._connect=function(e){var t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(r)return e(r);t.native.connect(n,function(i){if(i)return t.native.end(),e(i);t._connected=!0,t.native.on("error",function(s){t._queryable=!1,t._errorAllQueries(s),t.emit("error",s)}),t.native.on("notification",function(s){t.emit("notification",{channel:s.relname,payload:s.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};Et.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,r)=>{this._connect(n=>{n?r(n):t()})})};Et.prototype.query=function(e,t,r){var n,i,s,o,a;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,typeof t=="function"&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,n=new hh(e,t,r),!n.callback){let u,h;i=new this._Promise((E,g)=>{u=E,h=g}),n.callback=(E,g)=>E?h(E):u(g)}return s&&(a=n.callback,o=setTimeout(()=>{var u=new Error("Query read timeout");process.nextTick(()=>{n.handleError(u,this.connection)}),a(u),n.callback=()=>{};var h=this._queryQueue.indexOf(n);h>-1&&this._queryQueue.splice(h,1),this._pulseQueryQueue()},s),n.callback=(u,h)=>{clearTimeout(o),a(u,h)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};Et.prototype.end=function(e){var t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));var r;return e||(r=new this._Promise(function(n,i){e=s=>s?i(s):n()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),r};Et.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};Et.prototype._pulseQueryQueue=function(e){if(!!this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}};Et.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};Et.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)};Et.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var Di=R((Bw,Eh)=>{"use strict";Eh.exports=ph()});var Jo=R((Hw,wn)=>{"use strict";var LR=qf(),wR=Nn(),PR=Yo(),DR=jf(),MR=e=>class extends DR{constructor(r){super(r,e)}},va=function(e){this.defaults=wR,this.Client=e,this.Query=this.Client.Query,this.Pool=MR(this.Client),this._pools=[],this.Connection=PR,this.types=Sn()};typeof process.env.NODE_PG_FORCE_NATIVE!="undefined"?wn.exports=new va(Di()):(wn.exports=new va(LR),Object.defineProperty(wn.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new va(Di())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t;console.error(t.message)}return Object.defineProperty(wn.exports,"native",{value:e}),e}}))});var mh=R(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var kR=(e,...t)=>{function r(n={}){return e.reduce((i,s,o)=>{let a=t[o];return i+=s.replace(/\r?\n\s+/g," "),typeof a!="undefined"&&(i+=typeof a!="function"?a:a(n)),i},"").trim()}return r.raw=e.reduce((n,i,s)=>{let o=t[s];return n+=i.replace(/\r?\n\s+/g," "),typeof o!="undefined"&&(n+="${"+o.toString()+"}"),n},"").trim(),r};ya.default=kR});var _a=R(($w,vh)=>{var gh={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(gh);vh.exports={ContextValue:gh}});var Wr=R(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});function zR(e){return e===!0||e===!1}Wt.boolean=zR;function Rh(e){return typeof e=="string"||e instanceof String}Wt.string=Rh;function XR(e){return typeof e=="number"||e instanceof Number}Wt.number=XR;function KR(e){return e instanceof Error}Wt.error=KR;function JR(e){return typeof e=="function"}Wt.func=JR;function _h(e){return Array.isArray(e)}Wt.array=_h;function ZR(e){return _h(e)&&e.every(t=>Rh(t))}Wt.stringArray=ZR});var Nh=R(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var gr=Wr(),Sh;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2})(Sh=fe.ErrorCodes||(fe.ErrorCodes={}));var Pn=class extends Error{constructor(t,r,n){super(r),this.code=gr.number(t)?t:Sh.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Pn.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};fe.ResponseError=Pn;var _e=class{constructor(t,r){this._method=t,this._numberOfParams=r}get method(){return this._method}get numberOfParams(){return this._numberOfParams}};fe.AbstractMessageType=_e;var Sa=class extends _e{constructor(t){super(t,0)}};fe.RequestType0=Sa;var Na=class extends _e{constructor(t){super(t,1)}};fe.RequestType=Na;var Oa=class extends _e{constructor(t){super(t,1)}};fe.RequestType1=Oa;var Ca=class extends _e{constructor(t){super(t,2)}};fe.RequestType2=Ca;var Aa=class extends _e{constructor(t){super(t,3)}};fe.RequestType3=Aa;var Ia=class extends _e{constructor(t){super(t,4)}};fe.RequestType4=Ia;var ba=class extends _e{constructor(t){super(t,5)}};fe.RequestType5=ba;var La=class extends _e{constructor(t){super(t,6)}};fe.RequestType6=La;var wa=class extends _e{constructor(t){super(t,7)}};fe.RequestType7=wa;var Pa=class extends _e{constructor(t){super(t,8)}};fe.RequestType8=Pa;var Da=class extends _e{constructor(t){super(t,9)}};fe.RequestType9=Da;var Ma=class extends _e{constructor(t){super(t,1),this._=void 0}};fe.NotificationType=Ma;var ka=class extends _e{constructor(t){super(t,0)}};fe.NotificationType0=ka;var xa=class extends _e{constructor(t){super(t,1)}};fe.NotificationType1=xa;var qa=class extends _e{constructor(t){super(t,2)}};fe.NotificationType2=qa;var Fa=class extends _e{constructor(t){super(t,3)}};fe.NotificationType3=Fa;var Ua=class extends _e{constructor(t){super(t,4)}};fe.NotificationType4=Ua;var Ba=class extends _e{constructor(t){super(t,5)}};fe.NotificationType5=Ba;var ja=class extends _e{constructor(t){super(t,6)}};fe.NotificationType6=ja;var Ha=class extends _e{constructor(t){super(t,7)}};fe.NotificationType7=Ha;var Wa=class extends _e{constructor(t){super(t,8)}};fe.NotificationType8=Wa;var Ga=class extends _e{constructor(t){super(t,9)}};fe.NotificationType9=Ga;function e0(e){let t=e;return t&&gr.string(t.method)&&(gr.string(t.id)||gr.number(t.id))}fe.isRequestMessage=e0;function t0(e){let t=e;return t&&gr.string(t.method)&&e.id===void 0}fe.isNotificationMessage=t0;function r0(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(gr.string(t.id)||gr.number(t.id)||t.id===null)}fe.isResponseMessage=r0});var Dn=R(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});var n0;(function(e){function t(r){return{dispose:r}}e.create=t})(n0=vr.Disposable||(vr.Disposable={}));var i0;(function(e){let t={dispose(){}};e.None=function(){return t}})(i0=vr.Event||(vr.Event={}));var $a=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!!this._callbacks){for(var n=!1,i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...t){if(!this._callbacks)return[];for(var r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(a){console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Gr=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new $a),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i;return i={dispose:()=>{this._callbacks.remove(t,r),i.dispose=Gr._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};vr.Emitter=Gr;Gr._noop=function(){}});var ki=R(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});var Va=Dn(),$r=Wr(),Qa=8192,Oh=Buffer.from("\r","ascii")[0],Ch=Buffer.from(`
`,"ascii")[0],s0=`\r
`,Ya=class{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=Buffer.allocUnsafe(Qa)}append(t){var r=t;if(typeof t=="string"){var n=t,i=Buffer.byteLength(n,this.encoding);r=Buffer.allocUnsafe(i),r.write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=r.length)r.copy(this.buffer,this.index,0,r.length);else{var s=(Math.ceil((this.index+r.length)/Qa)+1)*Qa;this.index===0?(this.buffer=Buffer.allocUnsafe(s),r.copy(this.buffer,0,0,r.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),r],s)}this.index+=r.length}tryReadHeaders(){let t,r=0;for(;r+3<this.index&&(this.buffer[r]!==Oh||this.buffer[r+1]!==Ch||this.buffer[r+2]!==Oh||this.buffer[r+3]!==Ch);)r++;if(r+3>=this.index)return t;t=Object.create(null),this.buffer.toString("ascii",0,r).split(s0).forEach(s=>{let o=s.indexOf(":");if(o===-1)throw new Error("Message header must separate key and value using :");let a=s.substr(0,o),u=s.substr(o+1).trim();t[a]=u});let i=r+4;return this.buffer=this.buffer.slice(i),this.index=this.index-i,t}tryReadContent(t){if(this.index<t)return null;let r=this.buffer.toString(this.encoding,0,t),n=t;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,r}get numberOfBytes(){return this.index}},o0;(function(e){function t(r){let n=r;return n&&$r.func(n.listen)&&$r.func(n.dispose)&&$r.func(n.onError)&&$r.func(n.onClose)&&$r.func(n.onPartialMessage)}e.is=t})(o0=tr.MessageReader||(tr.MessageReader={}));var Mn=class{constructor(){this.errorEmitter=new Va.Emitter,this.closeEmitter=new Va.Emitter,this.partialMessageEmitter=new Va.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${$r.string(t.message)?t.message:"unknown"}`)}};tr.AbstractMessageReader=Mn;var Mi=class extends Mn{constructor(t,r="utf8"){super(),this.readable=t,this.buffer=new Ya(r),this._partialMessageTimeout=1e4}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t,this.readable.on("data",r=>{this.onData(r)}),this.readable.on("error",r=>this.fireError(r)),this.readable.on("close",()=>this.fireClose())}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i["Content-Length"];if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}var r=this.buffer.tryReadContent(this.nextMessageLength);if(r===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(r);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};tr.StreamMessageReader=Mi;var za=class extends Mn{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){this.process.on("message",t)}};tr.IPCMessageReader=za;var Xa=class extends Mi{constructor(t,r="utf-8"){super(t,r)}};tr.SocketMessageReader=Xa});var qi=R(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});var Ah=Dn(),kn=Wr(),Ih="Content-Length: ",xi=`\r
`,a0;(function(e){function t(r){let n=r;return n&&kn.func(n.dispose)&&kn.func(n.onClose)&&kn.func(n.onError)&&kn.func(n.write)}e.is=t})(a0=rr.MessageWriter||(rr.MessageWriter={}));var Vr=class{constructor(){this.errorEmitter=new Ah.Emitter,this.closeEmitter=new Ah.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${kn.string(t.message)?t.message:"unknown"}`)}};rr.AbstractMessageWriter=Vr;var Ka=class extends Vr{constructor(t,r="utf8"){super(),this.writable=t,this.encoding=r,this.errorCount=0,this.writable.on("error",n=>this.fireError(n)),this.writable.on("close",()=>this.fireClose())}write(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[Ih,n.toString(),xi,xi];try{this.writable.write(i.join(""),"ascii"),this.writable.write(r,this.encoding),this.errorCount=0}catch(s){this.errorCount++,this.fireError(s,t,this.errorCount)}}};rr.StreamMessageWriter=Ka;var Ja=class extends Vr{constructor(t){super(),this.process=t,this.errorCount=0,this.queue=[],this.sending=!1;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){try{this.process.send&&(this.sending=!0,this.process.send(t,void 0,void 0,r=>{this.sending=!1,r?(this.errorCount++,this.fireError(r,t,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.errorCount++,this.fireError(r,t,this.errorCount)}}};rr.IPCMessageWriter=Ja;var Za=class extends Vr{constructor(t,r="utf8"){super(),this.socket=t,this.queue=[],this.sending=!1,this.encoding=r,this.errorCount=0,this.socket.on("error",n=>this.fireError(n)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[Ih,n.toString(),xi,xi];try{this.sending=!0,this.socket.write(i.join(""),"ascii",s=>{s&&this.handleError(s,t);try{this.socket.write(r,this.encoding,o=>{this.sending=!1,o?this.handleError(o,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(o){this.handleError(o,t)}})}catch(s){this.handleError(s,t)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}};rr.SocketMessageWriter=Za});var bh=R(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var eu=Dn(),u0=Wr(),tu;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:eu.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:eu.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||u0.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(tu=xn.CancellationToken||(xn.CancellationToken={}));var c0=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Fi=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?c0:(this._emitter||(this._emitter=new eu.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ru=class{get token(){return this._token||(this._token=new Fi),this._token}cancel(){this._token?this._token.cancel():this._token=tu.Cancelled}dispose(){this._token?this._token instanceof Fi&&this._token.dispose():this._token=tu.None}};xn.CancellationTokenSource=ru});var Lh=R(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});var Pt;(function(e){e.None=0,e.First=1,e.Last=2})(Pt=qn.Touch||(qn.Touch={}));var nu=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(t){return this._map.has(t)}get(t){let r=this._map.get(t);if(!!r)return r.value}set(t,r,n=Pt.None){let i=this._map.get(t);if(i)i.value=r,n!==Pt.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Pt.None:this.addItemLast(i);break;case Pt.First:this.addItemFirst(i);break;case Pt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}}delete(t){let r=this._map.get(t);return r?(this._map.delete(t),this.removeItem(r),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._head;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.next}forEachReverse(t,r){let n=this._tail;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.previous}values(){let t=[],r=this._head;for(;r;)t.push(r.value),r=r.next;return t}keys(){let t=[],r=this._head;for(;r;)t.push(r.key),r=r.next;return t}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head)this._head=t.next;else if(t===this._tail)this._tail=t.previous;else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Pt.First&&r!==Pt.Last)){if(r===Pt.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(r===Pt.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}}}};qn.LinkedMap=nu});var Mh=R(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var l0=require("path"),f0=require("os"),h0=require("crypto"),wh=require("net"),Ph=ki(),Dh=qi();function d0(){let e=h0.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:l0.join(f0.tmpdir(),`vscode-${e}.sock`)}Fn.generateRandomPipeName=d0;function p0(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=wh.createServer(a=>{o.close(),r([new Ph.SocketMessageReader(a,t),new Dh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Fn.createClientPipeTransport=p0;function E0(e,t="utf-8"){let r=wh.createConnection(e);return[new Ph.SocketMessageReader(r,t),new Dh.SocketMessageWriter(r,t)]}Fn.createServerPipeTransport=E0});var Fh=R(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var kh=require("net"),xh=ki(),qh=qi();function m0(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=kh.createServer(a=>{o.close(),r([new xh.SocketMessageReader(a,t),new qh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Ui.createClientSocketTransport=m0;function g0(e,t="utf-8"){let r=kh.createConnection(e,"127.0.0.1");return[new xh.SocketMessageReader(r,t),new qh.SocketMessageWriter(r,t)]}Ui.createServerSocketTransport=g0});var St=R(V=>{"use strict";function Bh(e){for(var t in e)V.hasOwnProperty(t)||(V[t]=e[t])}Object.defineProperty(V,"__esModule",{value:!0});var We=Wr(),X=Nh();V.RequestType=X.RequestType;V.RequestType0=X.RequestType0;V.RequestType1=X.RequestType1;V.RequestType2=X.RequestType2;V.RequestType3=X.RequestType3;V.RequestType4=X.RequestType4;V.RequestType5=X.RequestType5;V.RequestType6=X.RequestType6;V.RequestType7=X.RequestType7;V.RequestType8=X.RequestType8;V.RequestType9=X.RequestType9;V.ResponseError=X.ResponseError;V.ErrorCodes=X.ErrorCodes;V.NotificationType=X.NotificationType;V.NotificationType0=X.NotificationType0;V.NotificationType1=X.NotificationType1;V.NotificationType2=X.NotificationType2;V.NotificationType3=X.NotificationType3;V.NotificationType4=X.NotificationType4;V.NotificationType5=X.NotificationType5;V.NotificationType6=X.NotificationType6;V.NotificationType7=X.NotificationType7;V.NotificationType8=X.NotificationType8;V.NotificationType9=X.NotificationType9;var Bn=ki();V.MessageReader=Bn.MessageReader;V.StreamMessageReader=Bn.StreamMessageReader;V.IPCMessageReader=Bn.IPCMessageReader;V.SocketMessageReader=Bn.SocketMessageReader;var jn=qi();V.MessageWriter=jn.MessageWriter;V.StreamMessageWriter=jn.StreamMessageWriter;V.IPCMessageWriter=jn.IPCMessageWriter;V.SocketMessageWriter=jn.SocketMessageWriter;var nr=Dn();V.Disposable=nr.Disposable;V.Event=nr.Event;V.Emitter=nr.Emitter;var Qr=bh();V.CancellationTokenSource=Qr.CancellationTokenSource;V.CancellationToken=Qr.CancellationToken;var Uh=Lh();Bh(Mh());Bh(Fh());var Un;(function(e){e.type=new X.NotificationType("$/cancelRequest")})(Un||(Un={}));var ji;(function(e){e.type=new X.NotificationType("$/progress")})(ji||(ji={}));var iu=class{constructor(){}};V.ProgressType=iu;V.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Me;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(Me=V.Trace||(V.Trace={}));(function(e){function t(n){if(!We.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Me=V.Trace||(V.Trace={}));var Rt;(function(e){e.Text="text",e.JSON="json"})(Rt=V.TraceFormat||(V.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(Rt=V.TraceFormat||(V.TraceFormat={}));var jh;(function(e){e.type=new X.NotificationType("$/setTraceNotification")})(jh=V.SetTraceNotification||(V.SetTraceNotification={}));var su;(function(e){e.type=new X.NotificationType("$/logTraceNotification")})(su=V.LogTraceNotification||(V.LogTraceNotification={}));var Bi;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Bi=V.ConnectionErrors||(V.ConnectionErrors={}));var ir=class extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,ir.prototype)}};V.ConnectionError=ir;var v0;(function(e){function t(r){let n=r;return n&&We.func(n.cancelUndispatched)}e.is=t})(v0=V.ConnectionStrategy||(V.ConnectionStrategy={}));var _t;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(_t||(_t={}));function y0(e,t,r,n){let i=0,s=0,o=0,a="2.0",u,h=Object.create(null),E,g=Object.create(null),v=new Map,M,P=new Uh.LinkedMap,B=Object.create(null),j=Object.create(null),F=Me.Off,K=Rt.Text,H,S=_t.New,y=new nr.Emitter,C=new nr.Emitter,$=new nr.Emitter,k=new nr.Emitter,G=new nr.Emitter;function ee(f){return"req-"+f.toString()}function Y(f){return f===null?"res-unknown-"+(++o).toString():"res-"+f.toString()}function ne(){return"not-"+(++s).toString()}function Ne(f,l){X.isRequestMessage(l)?f.set(ee(l.id),l):X.isResponseMessage(l)?f.set(Y(l.id),l):f.set(ne(),l)}function Ee(f){}function le(){return S===_t.Listening}function Oe(){return S===_t.Closed}function Ce(){return S===_t.Disposed}function De(){(S===_t.New||S===_t.Listening)&&(S=_t.Closed,C.fire(void 0))}function ke(f){y.fire([f,void 0,void 0])}function Re(f){y.fire(f)}e.onClose(De),e.onError(ke),t.onClose(De),t.onError(Re);function Ke(){M||P.size===0||(M=setImmediate(()=>{M=void 0,we()}))}function we(){if(P.size===0)return;let f=P.shift();try{X.isRequestMessage(f)?xe(f):X.isNotificationMessage(f)?lt(f):X.isResponseMessage(f)?Je(f):Qe(f)}finally{Ke()}}let Ue=f=>{try{if(X.isNotificationMessage(f)&&f.method===Un.type.method){let l=ee(f.params.id),_=P.get(l);if(X.isRequestMessage(_)){let b=n&&n.cancelUndispatched?n.cancelUndispatched(_,Ee):void 0;if(b&&(b.error!==void 0||b.result!==void 0)){P.delete(l),b.id=_.id,It(b,f.method,Date.now()),t.write(b);return}}}Ne(P,f)}finally{Ke()}};function xe(f){if(Ce())return;function l(N,q,W){let z={jsonrpc:a,id:f.id};N instanceof X.ResponseError?z.error=N.toJson():z.result=N===void 0?null:N,It(z,q,W),t.write(z)}function _(N,q,W){let z={jsonrpc:a,id:f.id,error:N.toJson()};It(z,q,W),t.write(z)}function b(N,q,W){N===void 0&&(N=null);let z={jsonrpc:a,id:f.id,result:N};It(z,q,W),t.write(z)}wr(f);let c=h[f.method],p,m;c&&(p=c.type,m=c.handler);let T=Date.now();if(m||u){let N=new Qr.CancellationTokenSource,q=String(f.id);j[q]=N;try{let W;f.params===void 0||p!==void 0&&p.numberOfParams===0?W=m?m(N.token):u(f.method,N.token):We.array(f.params)&&(p===void 0||p.numberOfParams>1)?W=m?m(...f.params,N.token):u(f.method,...f.params,N.token):W=m?m(f.params,N.token):u(f.method,f.params,N.token);let z=W;W?z.then?z.then(ye=>{delete j[q],l(ye,f.method,T)},ye=>{delete j[q],ye instanceof X.ResponseError?_(ye,f.method,T):ye&&We.string(ye.message)?_(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${ye.message}`),f.method,T):_(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,T)}):(delete j[q],l(W,f.method,T)):(delete j[q],b(W,f.method,T))}catch(W){delete j[q],W instanceof X.ResponseError?l(W,f.method,T):W&&We.string(W.message)?_(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${W.message}`),f.method,T):_(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,T)}}else _(new X.ResponseError(X.ErrorCodes.MethodNotFound,`Unhandled method ${f.method}`),f.method,T)}function Je(f){if(!Ce())if(f.id===null)f.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(f.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let l=String(f.id),_=B[l];if(dn(f,_),_){delete B[l];try{if(f.error){let b=f.error;_.reject(new X.ResponseError(b.code,b.message,b.data))}else if(f.result!==void 0)_.resolve(f.result);else throw new Error("Should never happen.")}catch(b){b.message?r.error(`Response handler '${_.method}' failed with message: ${b.message}`):r.error(`Response handler '${_.method}' failed unexpectedly.`)}}}}function lt(f){if(Ce())return;let l,_;if(f.method===Un.type.method)_=b=>{let c=b.id,p=j[String(c)];p&&p.cancel()};else{let b=g[f.method];b&&(_=b.handler,l=b.type)}if(_||E)try{hn(f),f.params===void 0||l!==void 0&&l.numberOfParams===0?_?_():E(f.method):We.array(f.params)&&(l===void 0||l.numberOfParams>1)?_?_(...f.params):E(f.method,...f.params):_?_(f.params):E(f.method,f.params)}catch(b){b.message?r.error(`Notification handler '${f.method}' failed with message: ${b.message}`):r.error(`Notification handler '${f.method}' failed unexpectedly.`)}else $.fire(f)}function Qe(f){if(!f){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(f,null,4)}`);let l=f;if(We.string(l.id)||We.number(l.id)){let _=String(l.id),b=B[_];b&&b.reject(new Error("The received response has neither a result nor an error property."))}}function Ze(f){if(!(F===Me.Off||!H))if(K===Rt.Text){let l;F===Me.Verbose&&f.params&&(l=`Params: ${JSON.stringify(f.params,null,4)}

`),H.log(`Sending request '${f.method} - (${f.id})'.`,l)}else bt("send-request",f)}function Ft(f){if(!(F===Me.Off||!H))if(K===Rt.Text){let l;F===Me.Verbose&&(f.params?l=`Params: ${JSON.stringify(f.params,null,4)}

`:l=`No parameters provided.

`),H.log(`Sending notification '${f.method}'.`,l)}else bt("send-notification",f)}function It(f,l,_){if(!(F===Me.Off||!H))if(K===Rt.Text){let b;F===Me.Verbose&&(f.error&&f.error.data?b=`Error data: ${JSON.stringify(f.error.data,null,4)}

`:f.result?b=`Result: ${JSON.stringify(f.result,null,4)}

`:f.error===void 0&&(b=`No result returned.

`)),H.log(`Sending response '${l} - (${f.id})'. Processing request took ${Date.now()-_}ms`,b)}else bt("send-response",f)}function wr(f){if(!(F===Me.Off||!H))if(K===Rt.Text){let l;F===Me.Verbose&&f.params&&(l=`Params: ${JSON.stringify(f.params,null,4)}

`),H.log(`Received request '${f.method} - (${f.id})'.`,l)}else bt("receive-request",f)}function hn(f){if(!(F===Me.Off||!H||f.method===su.type.method))if(K===Rt.Text){let l;F===Me.Verbose&&(f.params?l=`Params: ${JSON.stringify(f.params,null,4)}

`:l=`No parameters provided.

`),H.log(`Received notification '${f.method}'.`,l)}else bt("receive-notification",f)}function dn(f,l){if(!(F===Me.Off||!H))if(K===Rt.Text){let _;if(F===Me.Verbose&&(f.error&&f.error.data?_=`Error data: ${JSON.stringify(f.error.data,null,4)}

`:f.result?_=`Result: ${JSON.stringify(f.result,null,4)}

`:f.error===void 0&&(_=`No result returned.

`)),l){let b=f.error?` Request failed: ${f.error.message} (${f.error.code}).`:"";H.log(`Received response '${l.method} - (${f.id})' in ${Date.now()-l.timerStart}ms.${b}`,_)}else H.log(`Received response ${f.id} without active response promise.`,_)}else bt("receive-response",f)}function bt(f,l){if(!H||F===Me.Off)return;let _={isLSPMessage:!0,type:f,message:l,timestamp:Date.now()};H.log(_)}function Lt(){if(Oe())throw new ir(Bi.Closed,"Connection is closed.");if(Ce())throw new ir(Bi.Disposed,"Connection is disposed.")}function pn(){if(le())throw new ir(Bi.AlreadyListening,"Connection is already listening")}function L(){if(!le())throw new Error("Call listen() first.")}function d(f){return f===void 0?null:f}function O(f,l){let _,b=f.numberOfParams;switch(b){case 0:_=null;break;case 1:_=d(l[0]);break;default:_=[];for(let c=0;c<l.length&&c<b;c++)_.push(d(l[c]));if(l.length<b)for(let c=l.length;c<b;c++)_.push(null);break}return _}let I={sendNotification:(f,...l)=>{Lt();let _,b;if(We.string(f))switch(_=f,l.length){case 0:b=null;break;case 1:b=l[0];break;default:b=l;break}else _=f.method,b=O(f,l);let c={jsonrpc:a,method:_,params:b};Ft(c),t.write(c)},onNotification:(f,l)=>{Lt(),We.func(f)?E=f:l&&(We.string(f)?g[f]={type:void 0,handler:l}:g[f.method]={type:f,handler:l})},onProgress:(f,l,_)=>{if(v.has(l))throw new Error(`Progress handler for token ${l} already registered`);return v.set(l,_),{dispose:()=>{v.delete(l)}}},sendProgress:(f,l,_)=>{I.sendNotification(ji.type,{token:l,value:_})},onUnhandledProgress:k.event,sendRequest:(f,...l)=>{Lt(),L();let _,b,c;if(We.string(f))switch(_=f,l.length){case 0:b=null;break;case 1:Qr.CancellationToken.is(l[0])?(b=null,c=l[0]):b=d(l[0]);break;default:let T=l.length-1;Qr.CancellationToken.is(l[T])?(c=l[T],l.length===2?b=d(l[0]):b=l.slice(0,T).map(N=>d(N))):b=l.map(N=>d(N));break}else{_=f.method,b=O(f,l);let T=f.numberOfParams;c=Qr.CancellationToken.is(l[T])?l[T]:void 0}let p=i++,m=new Promise((T,N)=>{let q={jsonrpc:a,id:p,method:_,params:b},W={method:_,timerStart:Date.now(),resolve:T,reject:N};Ze(q);try{t.write(q)}catch(z){W.reject(new X.ResponseError(X.ErrorCodes.MessageWriteError,z.message?z.message:"Unknown reason")),W=null}W&&(B[String(p)]=W)});return c&&c.onCancellationRequested(()=>{I.sendNotification(Un.type,{id:p})}),m},onRequest:(f,l)=>{Lt(),We.func(f)?u=f:l&&(We.string(f)?h[f]={type:void 0,handler:l}:h[f.method]={type:f,handler:l})},trace:(f,l,_)=>{let b=!1,c=Rt.Text;_!==void 0&&(We.boolean(_)?b=_:(b=_.sendNotification||!1,c=_.traceFormat||Rt.Text)),F=f,K=c,F===Me.Off?H=void 0:H=l,b&&!Oe()&&!Ce()&&I.sendNotification(jh.type,{value:Me.toString(f)})},onError:y.event,onClose:C.event,onUnhandledNotification:$.event,onDispose:G.event,dispose:()=>{if(Ce())return;S=_t.Disposed,G.fire(void 0);let f=new Error("Connection got disposed.");Object.keys(B).forEach(l=>{B[l].reject(f)}),B=Object.create(null),j=Object.create(null),P=new Uh.LinkedMap,We.func(t.dispose)&&t.dispose(),We.func(e.dispose)&&e.dispose()},listen:()=>{Lt(),pn(),S=_t.Listening,e.listen(Ue)},inspect:()=>{console.log("inspect")}};return I.onNotification(su.type,f=>{F===Me.Off||!H||H.log(f.message,F===Me.Verbose?f.verbose:void 0)}),I.onNotification(ji.type,f=>{let l=v.get(f.token);l?l(f.value):k.fire(f)}),I}function T0(e){return e.listen!==void 0&&e.read===void 0}function R0(e){return e.write!==void 0&&e.end===void 0}function _0(e,t,r,n){r||(r=V.NullLogger);let i=T0(e)?e:new Bn.StreamMessageReader(e),s=R0(t)?t:new jn.StreamMessageWriter(t);return y0(i,s,r,n)}V.createMessageConnection=_0});var Wh=R((Hh,Hi)=>{(function(e){if(typeof Hi=="object"&&typeof Hi.exports=="object"){var t=e(require,Hh);t!==void 0&&(Hi.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;(function(d){function O(f,l){return{line:f,character:l}}d.create=O;function I(f){var l=f;return L.objectLiteral(l)&&L.number(l.line)&&L.number(l.character)}d.is=I})(r=t.Position||(t.Position={}));var n;(function(d){function O(f,l,_,b){if(L.number(f)&&L.number(l)&&L.number(_)&&L.number(b))return{start:r.create(f,l),end:r.create(_,b)};if(r.is(f)&&r.is(l))return{start:f,end:l};throw new Error("Range#create called with invalid arguments["+f+", "+l+", "+_+", "+b+"]")}d.create=O;function I(f){var l=f;return L.objectLiteral(l)&&r.is(l.start)&&r.is(l.end)}d.is=I})(n=t.Range||(t.Range={}));var i;(function(d){function O(f,l){return{uri:f,range:l}}d.create=O;function I(f){var l=f;return L.defined(l)&&n.is(l.range)&&(L.string(l.uri)||L.undefined(l.uri))}d.is=I})(i=t.Location||(t.Location={}));var s;(function(d){function O(f,l,_,b){return{targetUri:f,targetRange:l,targetSelectionRange:_,originSelectionRange:b}}d.create=O;function I(f){var l=f;return L.defined(l)&&n.is(l.targetRange)&&L.string(l.targetUri)&&(n.is(l.targetSelectionRange)||L.undefined(l.targetSelectionRange))&&(n.is(l.originSelectionRange)||L.undefined(l.originSelectionRange))}d.is=I})(s=t.LocationLink||(t.LocationLink={}));var o;(function(d){function O(f,l,_,b){return{red:f,green:l,blue:_,alpha:b}}d.create=O;function I(f){var l=f;return L.number(l.red)&&L.number(l.green)&&L.number(l.blue)&&L.number(l.alpha)}d.is=I})(o=t.Color||(t.Color={}));var a;(function(d){function O(f,l){return{range:f,color:l}}d.create=O;function I(f){var l=f;return n.is(l.range)&&o.is(l.color)}d.is=I})(a=t.ColorInformation||(t.ColorInformation={}));var u;(function(d){function O(f,l,_){return{label:f,textEdit:l,additionalTextEdits:_}}d.create=O;function I(f){var l=f;return L.string(l.label)&&(L.undefined(l.textEdit)||j.is(l))&&(L.undefined(l.additionalTextEdits)||L.typedArray(l.additionalTextEdits,j.is))}d.is=I})(u=t.ColorPresentation||(t.ColorPresentation={}));var h;(function(d){d.Comment="comment",d.Imports="imports",d.Region="region"})(h=t.FoldingRangeKind||(t.FoldingRangeKind={}));var E;(function(d){function O(f,l,_,b,c){var p={startLine:f,endLine:l};return L.defined(_)&&(p.startCharacter=_),L.defined(b)&&(p.endCharacter=b),L.defined(c)&&(p.kind=c),p}d.create=O;function I(f){var l=f;return L.number(l.startLine)&&L.number(l.startLine)&&(L.undefined(l.startCharacter)||L.number(l.startCharacter))&&(L.undefined(l.endCharacter)||L.number(l.endCharacter))&&(L.undefined(l.kind)||L.string(l.kind))}d.is=I})(E=t.FoldingRange||(t.FoldingRange={}));var g;(function(d){function O(f,l){return{location:f,message:l}}d.create=O;function I(f){var l=f;return L.defined(l)&&i.is(l.location)&&L.string(l.message)}d.is=I})(g=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var v;(function(d){d.Error=1,d.Warning=2,d.Information=3,d.Hint=4})(v=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var M;(function(d){d.Unnecessary=1,d.Deprecated=2})(M=t.DiagnosticTag||(t.DiagnosticTag={}));var P;(function(d){function O(f,l,_,b,c,p){var m={range:f,message:l};return L.defined(_)&&(m.severity=_),L.defined(b)&&(m.code=b),L.defined(c)&&(m.source=c),L.defined(p)&&(m.relatedInformation=p),m}d.create=O;function I(f){var l=f;return L.defined(l)&&n.is(l.range)&&L.string(l.message)&&(L.number(l.severity)||L.undefined(l.severity))&&(L.number(l.code)||L.string(l.code)||L.undefined(l.code))&&(L.string(l.source)||L.undefined(l.source))&&(L.undefined(l.relatedInformation)||L.typedArray(l.relatedInformation,g.is))}d.is=I})(P=t.Diagnostic||(t.Diagnostic={}));var B;(function(d){function O(f,l){for(var _=[],b=2;b<arguments.length;b++)_[b-2]=arguments[b];var c={title:f,command:l};return L.defined(_)&&_.length>0&&(c.arguments=_),c}d.create=O;function I(f){var l=f;return L.defined(l)&&L.string(l.title)&&L.string(l.command)}d.is=I})(B=t.Command||(t.Command={}));var j;(function(d){function O(_,b){return{range:_,newText:b}}d.replace=O;function I(_,b){return{range:{start:_,end:_},newText:b}}d.insert=I;function f(_){return{range:_,newText:""}}d.del=f;function l(_){var b=_;return L.objectLiteral(b)&&L.string(b.newText)&&n.is(b.range)}d.is=l})(j=t.TextEdit||(t.TextEdit={}));var F;(function(d){function O(f,l){return{textDocument:f,edits:l}}d.create=O;function I(f){var l=f;return L.defined(l)&&G.is(l.textDocument)&&Array.isArray(l.edits)}d.is=I})(F=t.TextDocumentEdit||(t.TextDocumentEdit={}));var K;(function(d){function O(f,l){var _={kind:"create",uri:f};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(_.options=l),_}d.create=O;function I(f){var l=f;return l&&l.kind==="create"&&L.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||L.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||L.boolean(l.options.ignoreIfExists)))}d.is=I})(K=t.CreateFile||(t.CreateFile={}));var H;(function(d){function O(f,l,_){var b={kind:"rename",oldUri:f,newUri:l};return _!==void 0&&(_.overwrite!==void 0||_.ignoreIfExists!==void 0)&&(b.options=_),b}d.create=O;function I(f){var l=f;return l&&l.kind==="rename"&&L.string(l.oldUri)&&L.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||L.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||L.boolean(l.options.ignoreIfExists)))}d.is=I})(H=t.RenameFile||(t.RenameFile={}));var S;(function(d){function O(f,l){var _={kind:"delete",uri:f};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(_.options=l),_}d.create=O;function I(f){var l=f;return l&&l.kind==="delete"&&L.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||L.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||L.boolean(l.options.ignoreIfNotExists)))}d.is=I})(S=t.DeleteFile||(t.DeleteFile={}));var y;(function(d){function O(I){var f=I;return f&&(f.changes!==void 0||f.documentChanges!==void 0)&&(f.documentChanges===void 0||f.documentChanges.every(function(l){return L.string(l.kind)?K.is(l)||H.is(l)||S.is(l):F.is(l)}))}d.is=O})(y=t.WorkspaceEdit||(t.WorkspaceEdit={}));var C=function(){function d(O){this.edits=O}return d.prototype.insert=function(O,I){this.edits.push(j.insert(O,I))},d.prototype.replace=function(O,I){this.edits.push(j.replace(O,I))},d.prototype.delete=function(O){this.edits.push(j.del(O))},d.prototype.add=function(O){this.edits.push(O)},d.prototype.all=function(){return this.edits},d.prototype.clear=function(){this.edits.splice(0,this.edits.length)},d}(),$=function(){function d(O){var I=this;this._textEditChanges=Object.create(null),O&&(this._workspaceEdit=O,O.documentChanges?O.documentChanges.forEach(function(f){if(F.is(f)){var l=new C(f.edits);I._textEditChanges[f.textDocument.uri]=l}}):O.changes&&Object.keys(O.changes).forEach(function(f){var l=new C(O.changes[f]);I._textEditChanges[f]=l}))}return Object.defineProperty(d.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),d.prototype.getTextEditChange=function(O){if(G.is(O)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var I=O,f=this._textEditChanges[I.uri];if(!f){var l=[],_={textDocument:I,edits:l};this._workspaceEdit.documentChanges.push(_),f=new C(l),this._textEditChanges[I.uri]=f}return f}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var f=this._textEditChanges[O];if(!f){var l=[];this._workspaceEdit.changes[O]=l,f=new C(l),this._textEditChanges[O]=f}return f}},d.prototype.createFile=function(O,I){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(K.create(O,I))},d.prototype.renameFile=function(O,I,f){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(H.create(O,I,f))},d.prototype.deleteFile=function(O,I){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(S.create(O,I))},d.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},d}();t.WorkspaceChange=$;var k;(function(d){function O(f){return{uri:f}}d.create=O;function I(f){var l=f;return L.defined(l)&&L.string(l.uri)}d.is=I})(k=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var G;(function(d){function O(f,l){return{uri:f,version:l}}d.create=O;function I(f){var l=f;return L.defined(l)&&L.string(l.uri)&&(l.version===null||L.number(l.version))}d.is=I})(G=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var ee;(function(d){function O(f,l,_,b){return{uri:f,languageId:l,version:_,text:b}}d.create=O;function I(f){var l=f;return L.defined(l)&&L.string(l.uri)&&L.string(l.languageId)&&L.number(l.version)&&L.string(l.text)}d.is=I})(ee=t.TextDocumentItem||(t.TextDocumentItem={}));var Y;(function(d){d.PlainText="plaintext",d.Markdown="markdown"})(Y=t.MarkupKind||(t.MarkupKind={})),function(d){function O(I){var f=I;return f===d.PlainText||f===d.Markdown}d.is=O}(Y=t.MarkupKind||(t.MarkupKind={}));var ne;(function(d){function O(I){var f=I;return L.objectLiteral(I)&&Y.is(f.kind)&&L.string(f.value)}d.is=O})(ne=t.MarkupContent||(t.MarkupContent={}));var Ne;(function(d){d.Text=1,d.Method=2,d.Function=3,d.Constructor=4,d.Field=5,d.Variable=6,d.Class=7,d.Interface=8,d.Module=9,d.Property=10,d.Unit=11,d.Value=12,d.Enum=13,d.Keyword=14,d.Snippet=15,d.Color=16,d.File=17,d.Reference=18,d.Folder=19,d.EnumMember=20,d.Constant=21,d.Struct=22,d.Event=23,d.Operator=24,d.TypeParameter=25})(Ne=t.CompletionItemKind||(t.CompletionItemKind={}));var Ee;(function(d){d.PlainText=1,d.Snippet=2})(Ee=t.InsertTextFormat||(t.InsertTextFormat={}));var le;(function(d){d.Deprecated=1})(le=t.CompletionItemTag||(t.CompletionItemTag={}));var Oe;(function(d){function O(I){return{label:I}}d.create=O})(Oe=t.CompletionItem||(t.CompletionItem={}));var Ce;(function(d){function O(I,f){return{items:I||[],isIncomplete:!!f}}d.create=O})(Ce=t.CompletionList||(t.CompletionList={}));var De;(function(d){function O(f){return f.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}d.fromPlainText=O;function I(f){var l=f;return L.string(l)||L.objectLiteral(l)&&L.string(l.language)&&L.string(l.value)}d.is=I})(De=t.MarkedString||(t.MarkedString={}));var ke;(function(d){function O(I){var f=I;return!!f&&L.objectLiteral(f)&&(ne.is(f.contents)||De.is(f.contents)||L.typedArray(f.contents,De.is))&&(I.range===void 0||n.is(I.range))}d.is=O})(ke=t.Hover||(t.Hover={}));var Re;(function(d){function O(I,f){return f?{label:I,documentation:f}:{label:I}}d.create=O})(Re=t.ParameterInformation||(t.ParameterInformation={}));var Ke;(function(d){function O(I,f){for(var l=[],_=2;_<arguments.length;_++)l[_-2]=arguments[_];var b={label:I};return L.defined(f)&&(b.documentation=f),L.defined(l)?b.parameters=l:b.parameters=[],b}d.create=O})(Ke=t.SignatureInformation||(t.SignatureInformation={}));var we;(function(d){d.Text=1,d.Read=2,d.Write=3})(we=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Ue;(function(d){function O(I,f){var l={range:I};return L.number(f)&&(l.kind=f),l}d.create=O})(Ue=t.DocumentHighlight||(t.DocumentHighlight={}));var xe;(function(d){d.File=1,d.Module=2,d.Namespace=3,d.Package=4,d.Class=5,d.Method=6,d.Property=7,d.Field=8,d.Constructor=9,d.Enum=10,d.Interface=11,d.Function=12,d.Variable=13,d.Constant=14,d.String=15,d.Number=16,d.Boolean=17,d.Array=18,d.Object=19,d.Key=20,d.Null=21,d.EnumMember=22,d.Struct=23,d.Event=24,d.Operator=25,d.TypeParameter=26})(xe=t.SymbolKind||(t.SymbolKind={}));var Je;(function(d){d.Deprecated=1})(Je=t.SymbolTag||(t.SymbolTag={}));var lt;(function(d){function O(I,f,l,_,b){var c={name:I,kind:f,location:{uri:_,range:l}};return b&&(c.containerName=b),c}d.create=O})(lt=t.SymbolInformation||(t.SymbolInformation={}));var Qe;(function(d){function O(f,l,_,b,c,p){var m={name:f,detail:l,kind:_,range:b,selectionRange:c};return p!==void 0&&(m.children=p),m}d.create=O;function I(f){var l=f;return l&&L.string(l.name)&&L.number(l.kind)&&n.is(l.range)&&n.is(l.selectionRange)&&(l.detail===void 0||L.string(l.detail))&&(l.deprecated===void 0||L.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))}d.is=I})(Qe=t.DocumentSymbol||(t.DocumentSymbol={}));var Ze;(function(d){d.Empty="",d.QuickFix="quickfix",d.Refactor="refactor",d.RefactorExtract="refactor.extract",d.RefactorInline="refactor.inline",d.RefactorRewrite="refactor.rewrite",d.Source="source",d.SourceOrganizeImports="source.organizeImports",d.SourceFixAll="source.fixAll"})(Ze=t.CodeActionKind||(t.CodeActionKind={}));var Ft;(function(d){function O(f,l){var _={diagnostics:f};return l!=null&&(_.only=l),_}d.create=O;function I(f){var l=f;return L.defined(l)&&L.typedArray(l.diagnostics,P.is)&&(l.only===void 0||L.typedArray(l.only,L.string))}d.is=I})(Ft=t.CodeActionContext||(t.CodeActionContext={}));var It;(function(d){function O(f,l,_){var b={title:f};return B.is(l)?b.command=l:b.edit=l,_!==void 0&&(b.kind=_),b}d.create=O;function I(f){var l=f;return l&&L.string(l.title)&&(l.diagnostics===void 0||L.typedArray(l.diagnostics,P.is))&&(l.kind===void 0||L.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||B.is(l.command))&&(l.isPreferred===void 0||L.boolean(l.isPreferred))&&(l.edit===void 0||y.is(l.edit))}d.is=I})(It=t.CodeAction||(t.CodeAction={}));var wr;(function(d){function O(f,l){var _={range:f};return L.defined(l)&&(_.data=l),_}d.create=O;function I(f){var l=f;return L.defined(l)&&n.is(l.range)&&(L.undefined(l.command)||B.is(l.command))}d.is=I})(wr=t.CodeLens||(t.CodeLens={}));var hn;(function(d){function O(f,l){return{tabSize:f,insertSpaces:l}}d.create=O;function I(f){var l=f;return L.defined(l)&&L.number(l.tabSize)&&L.boolean(l.insertSpaces)}d.is=I})(hn=t.FormattingOptions||(t.FormattingOptions={}));var dn;(function(d){function O(f,l,_){return{range:f,target:l,data:_}}d.create=O;function I(f){var l=f;return L.defined(l)&&n.is(l.range)&&(L.undefined(l.target)||L.string(l.target))}d.is=I})(dn=t.DocumentLink||(t.DocumentLink={}));var bt;(function(d){function O(f,l){return{range:f,parent:l}}d.create=O;function I(f){var l=f;return l!==void 0&&n.is(l.range)&&(l.parent===void 0||d.is(l.parent))}d.is=I})(bt=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var Lt;(function(d){function O(_,b,c,p){return new pn(_,b,c,p)}d.create=O;function I(_){var b=_;return!!(L.defined(b)&&L.string(b.uri)&&(L.undefined(b.languageId)||L.string(b.languageId))&&L.number(b.lineCount)&&L.func(b.getText)&&L.func(b.positionAt)&&L.func(b.offsetAt))}d.is=I;function f(_,b){for(var c=_.getText(),p=l(b,function(z,ye){var wt=z.range.start.line-ye.range.start.line;return wt===0?z.range.start.character-ye.range.start.character:wt}),m=c.length,T=p.length-1;T>=0;T--){var N=p[T],q=_.offsetAt(N.range.start),W=_.offsetAt(N.range.end);if(W<=m)c=c.substring(0,q)+N.newText+c.substring(W,c.length);else throw new Error("Overlapping edit");m=q}return c}d.applyEdits=f;function l(_,b){if(_.length<=1)return _;var c=_.length/2|0,p=_.slice(0,c),m=_.slice(c);l(p,b),l(m,b);for(var T=0,N=0,q=0;T<p.length&&N<m.length;){var W=b(p[T],m[N]);W<=0?_[q++]=p[T++]:_[q++]=m[N++]}for(;T<p.length;)_[q++]=p[T++];for(;N<m.length;)_[q++]=m[N++];return _}})(Lt=t.TextDocument||(t.TextDocument={}));var pn=function(){function d(O,I,f,l){this._uri=O,this._languageId=I,this._version=f,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(d.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),d.prototype.getText=function(O){if(O){var I=this.offsetAt(O.start),f=this.offsetAt(O.end);return this._content.substring(I,f)}return this._content},d.prototype.update=function(O,I){this._content=O.text,this._version=I,this._lineOffsets=void 0},d.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var O=[],I=this._content,f=!0,l=0;l<I.length;l++){f&&(O.push(l),f=!1);var _=I.charAt(l);f=_==="\r"||_===`
`,_==="\r"&&l+1<I.length&&I.charAt(l+1)===`
`&&l++}f&&I.length>0&&O.push(I.length),this._lineOffsets=O}return this._lineOffsets},d.prototype.positionAt=function(O){O=Math.max(Math.min(O,this._content.length),0);var I=this.getLineOffsets(),f=0,l=I.length;if(l===0)return r.create(0,O);for(;f<l;){var _=Math.floor((f+l)/2);I[_]>O?l=_:f=_+1}var b=f-1;return r.create(b,O-I[b])},d.prototype.offsetAt=function(O){var I=this.getLineOffsets();if(O.line>=I.length)return this._content.length;if(O.line<0)return 0;var f=I[O.line],l=O.line+1<I.length?I[O.line+1]:this._content.length;return Math.max(Math.min(f+O.character,l),f)},Object.defineProperty(d.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),d}(),L;(function(d){var O=Object.prototype.toString;function I(T){return typeof T!="undefined"}d.defined=I;function f(T){return typeof T=="undefined"}d.undefined=f;function l(T){return T===!0||T===!1}d.boolean=l;function _(T){return O.call(T)==="[object String]"}d.string=_;function b(T){return O.call(T)==="[object Number]"}d.number=b;function c(T){return O.call(T)==="[object Function]"}d.func=c;function p(T){return T!==null&&typeof T=="object"}d.objectLiteral=p;function m(T,N){return Array.isArray(T)&&T.every(N)}d.typedArray=m})(L||(L={}))})});var Vh=R(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});function S0(e){return e===!0||e===!1}Nt.boolean=S0;function Gh(e){return typeof e=="string"||e instanceof String}Nt.string=Gh;function N0(e){return typeof e=="number"||e instanceof Number}Nt.number=N0;function O0(e){return e instanceof Error}Nt.error=O0;function C0(e){return typeof e=="function"}Nt.func=C0;function $h(e){return Array.isArray(e)}Nt.array=$h;function A0(e){return $h(e)&&e.every(t=>Gh(t))}Nt.stringArray=A0;function I0(e,t){return Array.isArray(e)&&e.every(t)}Nt.typedArray=I0;function b0(e){return e!==null&&typeof e=="object"}Nt.objectLiteral=b0});var ut=R(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var Wi=St(),ou=class extends Wi.RequestType0{constructor(t){super(t)}};Yr.ProtocolRequestType0=ou;var au=class extends Wi.RequestType{constructor(t){super(t)}};Yr.ProtocolRequestType=au;var uu=class extends Wi.NotificationType{constructor(t){super(t)}};Yr.ProtocolNotificationType=uu;var cu=class extends Wi.NotificationType0{constructor(t){super(t)}};Yr.ProtocolNotificationType0=cu});var Qh=R(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});var L0=St(),w0=ut(),P0;(function(e){e.method="textDocument/implementation",e.type=new w0.ProtocolRequestType(e.method),e.resultType=new L0.ProgressType})(P0=Gi.ImplementationRequest||(Gi.ImplementationRequest={}))});var Yh=R($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var D0=St(),M0=ut(),k0;(function(e){e.method="textDocument/typeDefinition",e.type=new M0.ProtocolRequestType(e.method),e.resultType=new D0.ProgressType})(k0=$i.TypeDefinitionRequest||($i.TypeDefinitionRequest={}))});var Xh=R(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});var zh=ut(),x0;(function(e){e.type=new zh.ProtocolRequestType0("workspace/workspaceFolders")})(x0=zr.WorkspaceFoldersRequest||(zr.WorkspaceFoldersRequest={}));var q0;(function(e){e.type=new zh.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(q0=zr.DidChangeWorkspaceFoldersNotification||(zr.DidChangeWorkspaceFoldersNotification={}))});var Kh=R(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var F0=ut(),U0;(function(e){e.type=new F0.ProtocolRequestType("workspace/configuration")})(U0=Vi.ConfigurationRequest||(Vi.ConfigurationRequest={}))});var Zh=R(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});var B0=St(),Jh=ut(),j0;(function(e){e.method="textDocument/documentColor",e.type=new Jh.ProtocolRequestType(e.method),e.resultType=new B0.ProgressType})(j0=Xr.DocumentColorRequest||(Xr.DocumentColorRequest={}));var H0;(function(e){e.type=new Jh.ProtocolRequestType("textDocument/colorPresentation")})(H0=Xr.ColorPresentationRequest||(Xr.ColorPresentationRequest={}))});var ed=R(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var W0=St(),G0=ut(),$0;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})($0=Kr.FoldingRangeKind||(Kr.FoldingRangeKind={}));var V0;(function(e){e.method="textDocument/foldingRange",e.type=new G0.ProtocolRequestType(e.method),e.resultType=new W0.ProgressType})(V0=Kr.FoldingRangeRequest||(Kr.FoldingRangeRequest={}))});var td=R(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var Q0=St(),Y0=ut(),z0;(function(e){e.method="textDocument/declaration",e.type=new Y0.ProtocolRequestType(e.method),e.resultType=new Q0.ProgressType})(z0=Qi.DeclarationRequest||(Qi.DeclarationRequest={}))});var rd=R(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var X0=St(),K0=ut(),J0;(function(e){e.method="textDocument/selectionRange",e.type=new K0.ProtocolRequestType(e.method),e.resultType=new X0.ProgressType})(J0=Yi.SelectionRangeRequest||(Yi.SelectionRangeRequest={}))});var id=R(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var Z0=St(),nd=ut(),e_;(function(e){e.type=new Z0.ProgressType})(e_=sr.WorkDoneProgress||(sr.WorkDoneProgress={}));var t_;(function(e){e.type=new nd.ProtocolRequestType("window/workDoneProgress/create")})(t_=sr.WorkDoneProgressCreateRequest||(sr.WorkDoneProgressCreateRequest={}));var r_;(function(e){e.type=new nd.ProtocolNotificationType("window/workDoneProgress/cancel")})(r_=sr.WorkDoneProgressCancelNotification||(sr.WorkDoneProgressCancelNotification={}))});var cd=R(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var or=Vh(),Gt=St(),ie=ut(),n_=Qh();w.ImplementationRequest=n_.ImplementationRequest;var i_=Yh();w.TypeDefinitionRequest=i_.TypeDefinitionRequest;var sd=Xh();w.WorkspaceFoldersRequest=sd.WorkspaceFoldersRequest;w.DidChangeWorkspaceFoldersNotification=sd.DidChangeWorkspaceFoldersNotification;var s_=Kh();w.ConfigurationRequest=s_.ConfigurationRequest;var od=Zh();w.DocumentColorRequest=od.DocumentColorRequest;w.ColorPresentationRequest=od.ColorPresentationRequest;var o_=ed();w.FoldingRangeRequest=o_.FoldingRangeRequest;var a_=td();w.DeclarationRequest=a_.DeclarationRequest;var u_=rd();w.SelectionRangeRequest=u_.SelectionRangeRequest;var lu=id();w.WorkDoneProgress=lu.WorkDoneProgress;w.WorkDoneProgressCreateRequest=lu.WorkDoneProgressCreateRequest;w.WorkDoneProgressCancelNotification=lu.WorkDoneProgressCancelNotification;var ad;(function(e){function t(r){let n=r;return or.string(n.language)||or.string(n.scheme)||or.string(n.pattern)}e.is=t})(ad=w.DocumentFilter||(w.DocumentFilter={}));var ud;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!or.string(n)&&!ad.is(n))return!1;return!0}e.is=t})(ud=w.DocumentSelector||(w.DocumentSelector={}));var c_;(function(e){e.type=new ie.ProtocolRequestType("client/registerCapability")})(c_=w.RegistrationRequest||(w.RegistrationRequest={}));var l_;(function(e){e.type=new ie.ProtocolRequestType("client/unregisterCapability")})(l_=w.UnregistrationRequest||(w.UnregistrationRequest={}));var f_;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(f_=w.ResourceOperationKind||(w.ResourceOperationKind={}));var h_;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(h_=w.FailureHandlingKind||(w.FailureHandlingKind={}));var d_;(function(e){function t(r){let n=r;return n&&or.string(n.id)&&n.id.length>0}e.hasId=t})(d_=w.StaticRegistrationOptions||(w.StaticRegistrationOptions={}));var p_;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||ud.is(n.documentSelector))}e.is=t})(p_=w.TextDocumentRegistrationOptions||(w.TextDocumentRegistrationOptions={}));var E_;(function(e){function t(n){let i=n;return or.objectLiteral(i)&&(i.workDoneProgress===void 0||or.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&or.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(E_=w.WorkDoneProgressOptions||(w.WorkDoneProgressOptions={}));var m_;(function(e){e.type=new ie.ProtocolRequestType("initialize")})(m_=w.InitializeRequest||(w.InitializeRequest={}));var g_;(function(e){e.unknownProtocolVersion=1})(g_=w.InitializeError||(w.InitializeError={}));var v_;(function(e){e.type=new ie.ProtocolNotificationType("initialized")})(v_=w.InitializedNotification||(w.InitializedNotification={}));var y_;(function(e){e.type=new ie.ProtocolRequestType0("shutdown")})(y_=w.ShutdownRequest||(w.ShutdownRequest={}));var T_;(function(e){e.type=new ie.ProtocolNotificationType0("exit")})(T_=w.ExitNotification||(w.ExitNotification={}));var R_;(function(e){e.type=new ie.ProtocolNotificationType("workspace/didChangeConfiguration")})(R_=w.DidChangeConfigurationNotification||(w.DidChangeConfigurationNotification={}));var __;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(__=w.MessageType||(w.MessageType={}));var S_;(function(e){e.type=new ie.ProtocolNotificationType("window/showMessage")})(S_=w.ShowMessageNotification||(w.ShowMessageNotification={}));var N_;(function(e){e.type=new ie.ProtocolRequestType("window/showMessageRequest")})(N_=w.ShowMessageRequest||(w.ShowMessageRequest={}));var O_;(function(e){e.type=new ie.ProtocolNotificationType("window/logMessage")})(O_=w.LogMessageNotification||(w.LogMessageNotification={}));var C_;(function(e){e.type=new ie.ProtocolNotificationType("telemetry/event")})(C_=w.TelemetryEventNotification||(w.TelemetryEventNotification={}));var A_;(function(e){e.None=0,e.Full=1,e.Incremental=2})(A_=w.TextDocumentSyncKind||(w.TextDocumentSyncKind={}));var I_;(function(e){e.method="textDocument/didOpen",e.type=new ie.ProtocolNotificationType(e.method)})(I_=w.DidOpenTextDocumentNotification||(w.DidOpenTextDocumentNotification={}));var b_;(function(e){e.method="textDocument/didChange",e.type=new ie.ProtocolNotificationType(e.method)})(b_=w.DidChangeTextDocumentNotification||(w.DidChangeTextDocumentNotification={}));var L_;(function(e){e.method="textDocument/didClose",e.type=new ie.ProtocolNotificationType(e.method)})(L_=w.DidCloseTextDocumentNotification||(w.DidCloseTextDocumentNotification={}));var w_;(function(e){e.method="textDocument/didSave",e.type=new ie.ProtocolNotificationType(e.method)})(w_=w.DidSaveTextDocumentNotification||(w.DidSaveTextDocumentNotification={}));var P_;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(P_=w.TextDocumentSaveReason||(w.TextDocumentSaveReason={}));var D_;(function(e){e.method="textDocument/willSave",e.type=new ie.ProtocolNotificationType(e.method)})(D_=w.WillSaveTextDocumentNotification||(w.WillSaveTextDocumentNotification={}));var M_;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new ie.ProtocolRequestType(e.method)})(M_=w.WillSaveTextDocumentWaitUntilRequest||(w.WillSaveTextDocumentWaitUntilRequest={}));var k_;(function(e){e.type=new ie.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(k_=w.DidChangeWatchedFilesNotification||(w.DidChangeWatchedFilesNotification={}));var x_;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(x_=w.FileChangeType||(w.FileChangeType={}));var q_;(function(e){e.Create=1,e.Change=2,e.Delete=4})(q_=w.WatchKind||(w.WatchKind={}));var F_;(function(e){e.type=new ie.ProtocolNotificationType("textDocument/publishDiagnostics")})(F_=w.PublishDiagnosticsNotification||(w.PublishDiagnosticsNotification={}));var U_;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(U_=w.CompletionTriggerKind||(w.CompletionTriggerKind={}));var B_;(function(e){e.method="textDocument/completion",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(B_=w.CompletionRequest||(w.CompletionRequest={}));var j_;(function(e){e.method="completionItem/resolve",e.type=new ie.ProtocolRequestType(e.method)})(j_=w.CompletionResolveRequest||(w.CompletionResolveRequest={}));var H_;(function(e){e.method="textDocument/hover",e.type=new ie.ProtocolRequestType(e.method)})(H_=w.HoverRequest||(w.HoverRequest={}));var W_;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(W_=w.SignatureHelpTriggerKind||(w.SignatureHelpTriggerKind={}));var G_;(function(e){e.method="textDocument/signatureHelp",e.type=new ie.ProtocolRequestType(e.method)})(G_=w.SignatureHelpRequest||(w.SignatureHelpRequest={}));var $_;(function(e){e.method="textDocument/definition",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})($_=w.DefinitionRequest||(w.DefinitionRequest={}));var V_;(function(e){e.method="textDocument/references",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(V_=w.ReferencesRequest||(w.ReferencesRequest={}));var Q_;(function(e){e.method="textDocument/documentHighlight",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(Q_=w.DocumentHighlightRequest||(w.DocumentHighlightRequest={}));var Y_;(function(e){e.method="textDocument/documentSymbol",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(Y_=w.DocumentSymbolRequest||(w.DocumentSymbolRequest={}));var z_;(function(e){e.method="textDocument/codeAction",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(z_=w.CodeActionRequest||(w.CodeActionRequest={}));var X_;(function(e){e.method="workspace/symbol",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(X_=w.WorkspaceSymbolRequest||(w.WorkspaceSymbolRequest={}));var K_;(function(e){e.type=new ie.ProtocolRequestType("textDocument/codeLens"),e.resultType=new Gt.ProgressType})(K_=w.CodeLensRequest||(w.CodeLensRequest={}));var J_;(function(e){e.type=new ie.ProtocolRequestType("codeLens/resolve")})(J_=w.CodeLensResolveRequest||(w.CodeLensResolveRequest={}));var Z_;(function(e){e.method="textDocument/documentLink",e.type=new ie.ProtocolRequestType(e.method),e.resultType=new Gt.ProgressType})(Z_=w.DocumentLinkRequest||(w.DocumentLinkRequest={}));var eS;(function(e){e.type=new ie.ProtocolRequestType("documentLink/resolve")})(eS=w.DocumentLinkResolveRequest||(w.DocumentLinkResolveRequest={}));var tS;(function(e){e.method="textDocument/formatting",e.type=new ie.ProtocolRequestType(e.method)})(tS=w.DocumentFormattingRequest||(w.DocumentFormattingRequest={}));var rS;(function(e){e.method="textDocument/rangeFormatting",e.type=new ie.ProtocolRequestType(e.method)})(rS=w.DocumentRangeFormattingRequest||(w.DocumentRangeFormattingRequest={}));var nS;(function(e){e.method="textDocument/onTypeFormatting",e.type=new ie.ProtocolRequestType(e.method)})(nS=w.DocumentOnTypeFormattingRequest||(w.DocumentOnTypeFormattingRequest={}));var iS;(function(e){e.method="textDocument/rename",e.type=new ie.ProtocolRequestType(e.method)})(iS=w.RenameRequest||(w.RenameRequest={}));var sS;(function(e){e.method="textDocument/prepareRename",e.type=new ie.ProtocolRequestType(e.method)})(sS=w.PrepareRenameRequest||(w.PrepareRenameRequest={}));var oS;(function(e){e.type=new ie.ProtocolRequestType("workspace/executeCommand")})(oS=w.ExecuteCommandRequest||(w.ExecuteCommandRequest={}));var aS;(function(e){e.type=new ie.ProtocolRequestType("workspace/applyEdit")})(aS=w.ApplyWorkspaceEditRequest||(w.ApplyWorkspaceEditRequest={}))});var ld=R(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var fu=ut(),uS;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new fu.ProtocolRequestType(e.method)})(uS=ar.CallHierarchyPrepareRequest||(ar.CallHierarchyPrepareRequest={}));var cS;(function(e){e.method="callHierarchy/incomingCalls",e.type=new fu.ProtocolRequestType(e.method)})(cS=ar.CallHierarchyIncomingCallsRequest||(ar.CallHierarchyIncomingCallsRequest={}));var lS;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new fu.ProtocolRequestType(e.method)})(lS=ar.CallHierarchyOutgoingCallsRequest||(ar.CallHierarchyOutgoingCallsRequest={}))});var fd=R(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var hu=ut(),fS;(function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"})(fS=nt.SemanticTokenTypes||(nt.SemanticTokenTypes={}));var hS;(function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"})(hS=nt.SemanticTokenModifiers||(nt.SemanticTokenModifiers={}));var dS;(function(e){function t(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(dS=nt.SemanticTokens||(nt.SemanticTokens={}));var pS;(function(e){e.method="textDocument/semanticTokens",e.type=new hu.ProtocolRequestType(e.method)})(pS=nt.SemanticTokensRequest||(nt.SemanticTokensRequest={}));var ES;(function(e){e.method="textDocument/semanticTokens/edits",e.type=new hu.ProtocolRequestType(e.method)})(ES=nt.SemanticTokensEditsRequest||(nt.SemanticTokensEditsRequest={}));var mS;(function(e){e.method="textDocument/semanticTokens/range",e.type=new hu.ProtocolRequestType(e.method)})(mS=nt.SemanticTokensRangeRequest||(nt.SemanticTokensRangeRequest={}))});var ur=R(ce=>{"use strict";function hd(e){for(var t in e)ce.hasOwnProperty(t)||(ce[t]=e[t])}Object.defineProperty(ce,"__esModule",{value:!0});var me=St();ce.ErrorCodes=me.ErrorCodes;ce.ResponseError=me.ResponseError;ce.CancellationToken=me.CancellationToken;ce.CancellationTokenSource=me.CancellationTokenSource;ce.Disposable=me.Disposable;ce.Event=me.Event;ce.Emitter=me.Emitter;ce.Trace=me.Trace;ce.TraceFormat=me.TraceFormat;ce.SetTraceNotification=me.SetTraceNotification;ce.LogTraceNotification=me.LogTraceNotification;ce.RequestType=me.RequestType;ce.RequestType0=me.RequestType0;ce.NotificationType=me.NotificationType;ce.NotificationType0=me.NotificationType0;ce.MessageReader=me.MessageReader;ce.MessageWriter=me.MessageWriter;ce.ConnectionStrategy=me.ConnectionStrategy;ce.StreamMessageReader=me.StreamMessageReader;ce.StreamMessageWriter=me.StreamMessageWriter;ce.IPCMessageReader=me.IPCMessageReader;ce.IPCMessageWriter=me.IPCMessageWriter;ce.createClientPipeTransport=me.createClientPipeTransport;ce.createServerPipeTransport=me.createServerPipeTransport;ce.generateRandomPipeName=me.generateRandomPipeName;ce.createClientSocketTransport=me.createClientSocketTransport;ce.createServerSocketTransport=me.createServerSocketTransport;ce.ProgressType=me.ProgressType;hd(Wh());hd(cd());var Jr=ld(),$t=fd(),gS;(function(e){let t;(function(a){a.method=Jr.CallHierarchyPrepareRequest.method,a.type=Jr.CallHierarchyPrepareRequest.type})(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));let r;(function(a){a.method=Jr.CallHierarchyIncomingCallsRequest.method,a.type=Jr.CallHierarchyIncomingCallsRequest.type})(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));let n;(function(a){a.method=Jr.CallHierarchyOutgoingCallsRequest.method,a.type=Jr.CallHierarchyOutgoingCallsRequest.type})(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=$t.SemanticTokenTypes,e.SemanticTokenModifiers=$t.SemanticTokenModifiers,e.SemanticTokens=$t.SemanticTokens;let i;(function(a){a.method=$t.SemanticTokensRequest.method,a.type=$t.SemanticTokensRequest.type})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));let s;(function(a){a.method=$t.SemanticTokensEditsRequest.method,a.type=$t.SemanticTokensEditsRequest.type})(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={}));let o;(function(a){a.method=$t.SemanticTokensRangeRequest.method,a.type=$t.SemanticTokensRangeRequest.type})(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))})(gS=ce.Proposed||(ce.Proposed={}));function vS(e,t,r,n){return me.createMessageConnection(e,t,r,n)}ce.createProtocolConnection=vS});var du=R(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});function yS(e){return e===!0||e===!1}Ot.boolean=yS;function dd(e){return typeof e=="string"||e instanceof String}Ot.string=dd;function TS(e){return typeof e=="number"||e instanceof Number}Ot.number=TS;function RS(e){return e instanceof Error}Ot.error=RS;function pd(e){return typeof e=="function"}Ot.func=pd;function Ed(e){return Array.isArray(e)}Ot.array=Ed;function _S(e){return Ed(e)&&e.every(t=>dd(t))}Ot.stringArray=_S;function SS(e,t){return Array.isArray(e)&&e.every(t)}Ot.typedArray=SS;function NS(e){return e&&pd(e.then)}Ot.thenable=NS});var md=R(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});var OS=ur(),CS=du();pu.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?CS.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(OS.ConfigurationRequest.type,r).then(n=>Array.isArray(t)?n:n[0])}}});var gd=R(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var zi=ur();Eu.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new zi.Emitter,this.connection.onNotification(zi.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(zi.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(zi.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var mu=R(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});var Hn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},se=class extends Hn{constructor(){super([se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),"-",se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),"-","4",se._randomHex(),se._randomHex(),se._randomHex(),"-",se._oneOf(se._timeHighBits),se._randomHex(),se._randomHex(),se._randomHex(),"-",se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex(),se._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return se._oneOf(se._chars)}};se._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];se._timeHighBits=["8","9","a","b"];yr.empty=new Hn("00000000-0000-0000-0000-000000000000");function vd(){return new se}yr.v4=vd;var AS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function yd(e){return AS.test(e)}yr.isUUID=yd;function IS(e){if(!yd(e))throw new Error("invalid uuid");return new Hn(e)}yr.parse=IS;function bS(){return vd().asHex()}yr.generateUuid=bS});var Td=R(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var cr=ur(),LS=mu(),Dt=class{constructor(t,r){this._connection=t,this._token=r,Dt.Instances.set(this._token,this),this._source=new cr.CancellationTokenSource}get token(){return this._source.token}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(cr.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(cr.WorkDoneProgress.type,this._token,n)}done(){Dt.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(cr.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}};Dt.Instances=new Map;var Wn=class{constructor(){this._source=new cr.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}};function wS(e,t){if(t===void 0||t.workDoneToken===void 0)return new Wn;let r=t.workDoneToken;return delete t.workDoneToken,new Dt(e,r)}Gn.attachWorkDone=wS;Gn.ProgressFeature=e=>class extends e{initialize(t){var r;((r=t==null?void 0:t.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(cr.WorkDoneProgressCancelNotification.type,n=>{let i=Dt.Instances.get(n.token);i!==void 0&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Wn:new Dt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=LS.generateUuid();return this.connection.sendRequest(cr.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Dt(this.connection,t))}else return Promise.resolve(new Wn)}};var gu;(function(e){e.type=new cr.ProgressType})(gu||(gu={}));var vu=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(gu.type,this._token,t)}};function PS(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new vu(e,r)}Gn.attachPartialResult=PS});var _d=R(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var DS=require("url"),Ct=require("path"),yu=require("fs"),_u=require("child_process");function MS(e){let t=DS.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return Ct.normalize(r.join("/"))}Vt.uriToFilePath=MS;function Tu(){return process.platform==="win32"}function Xi(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let u=process.env,h=Object.create(null);Object.keys(u).forEach(E=>h[E]=u[E]),t&&yu.existsSync(t)&&(h[i]?h[i]=t+Ct.delimiter+h[i]:h[i]=t,n&&n(`NODE_PATH value is: ${h[i]}`)),h.ELECTRON_RUN_AS_NODE="1";try{let E=_u.fork("",[],{cwd:r,env:h,execArgv:["-e",s]});if(E.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}E.on("error",v=>{a(v)}),E.on("message",v=>{v.c==="r"&&(E.send({c:"e"}),v.s?o(v.r):a(new Error(`Failed to resolve module: ${e}`)))});let g={c:"rs",a:e};E.send(g)}catch(E){a(E)}})}Vt.resolve=Xi;function Ru(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};Tu()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=_u.spawnSync(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let o=s.trim();return e&&e(`'npm config get prefix' value is: ${o}`),o.length>0?Tu()?Ct.join(o,"node_modules"):Ct.join(o,"lib","node_modules"):void 0}catch(s){return}finally{process.removeListener("SIGPIPE",i)}}Vt.resolveGlobalNodePath=Ru;function kS(e){let t="yarn",r={encoding:"utf8"};Tu()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=_u.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let u=JSON.parse(a);if(u.type==="log")return Ct.join(u.data,"node_modules")}catch(u){}return}catch(i){return}finally{process.removeListener("SIGPIPE",n)}}Vt.resolveGlobalYarnPath=kS;var Rd;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!yu.existsSync(__filename.toUpperCase())||!yu.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=r;function n(i,s){return r()?Ct.normalize(s).indexOf(Ct.normalize(i))===0:Ct.normalize(s).toLowerCase().indexOf(Ct.normalize(i).toLowerCase())===0}e.isParent=n})(Rd=Vt.FileSystem||(Vt.FileSystem={}));function xS(e,t,r,n){return r?(Ct.isAbsolute(r)||(r=Ct.join(e,r)),Xi(t,r,r,n).then(i=>Rd.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>Xi(t,Ru(n),e,n))):Xi(t,Ru(n),e,n)}Vt.resolveModulePath=xS});var Sd=R(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});var Su=ur();Nu.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Su.Proposed.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:t=>{let r=Su.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=Su.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}}});var Nd=R(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});var Ou=ur();Ki.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{let r=Ou.Proposed.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onEdits:t=>{let r=Ou.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=Ou.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};var Cu=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let o=t,a=r;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,r=this._data.length,n=0;for(;n<r&&n<t&&this._prevData[n]===this._data[n];)n++;if(n<r&&n<t){let i=0;for(;i<r&&i<t&&this._prevData[t-1-i]===this._data[r-1-i];)i++;let s=this._data.slice(n,r-i);return{resultId:this.id,edits:[{start:n,deleteCount:t-i-n,data:s}]}}else return n<r?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<t?{resultId:this.id,edits:[{start:n,deleteCount:t-n}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ki.SemanticTokensBuilder=Cu});var xd=R(Se=>{"use strict";function qS(e){for(var t in e)Se.hasOwnProperty(t)||(Se[t]=e[t])}Object.defineProperty(Se,"__esModule",{value:!0});var U=ur();Se.Event=U.Event;var FS=md(),US=gd(),te=Td(),ze=du(),Iu=mu();qS(ur());var $n=_d(),BS;(function(e){e.uriToFilePath=$n.uriToFilePath,e.resolveGlobalNodePath=$n.resolveGlobalNodePath,e.resolveGlobalYarnPath=$n.resolveGlobalYarnPath,e.resolve=$n.resolve,e.resolveModulePath=$n.resolveModulePath})(BS=Se.Files||(Se.Files={}));var Zr=!1,Id;function jS(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(Id=setInterval(()=>{try{process.kill(n,0)}catch(i){process.exit(Zr?0:1)}},3e3))}catch(n){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}jS();function Au(e){if(e!==null)return e}var bu=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new U.Emitter,this._onDidOpen=new U.Emitter,this._onDidClose=new U.Emitter,this._onDidSave=new U.Emitter,this._onWillSave=new U.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=U.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(r=>{let n=r.textDocument,i=this._configuration.create(n.uri,n.languageId,n.version,n.text);this._documents[n.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),t.onDidChangeTextDocument(r=>{let n=r.textDocument,i=r.contentChanges;if(i.length===0)return;let s=this._documents[n.uri],{version:o}=n;if(o==null)throw new Error(`Received document change event for ${n.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[n.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),t.onDidCloseTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&(delete this._documents[r.textDocument.uri],this._onDidClose.fire(Object.freeze({document:n})))}),t.onWillSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onWillSave.fire(Object.freeze({document:n,reason:r.reason}))}),t.onWillSaveTextDocumentWaitUntil((r,n)=>{let i=this._documents[r.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:r.reason}),n):[]}),t.onDidSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onDidSave.fire(Object.freeze({document:n}))})}};Se.TextDocuments=bu;var Lu=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Se.ErrorMessageTracker=Lu;var Ji=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(U.MessageType.Error,t)}warn(t){this.send(U.MessageType.Warning,t)}info(t){this.send(U.MessageType.Info,t)}log(t){this.send(U.MessageType.Log,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(U.LogMessageNotification.type,{type:t,message:r})}},wu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:U.MessageType.Error,message:t,actions:r};return this._connection.sendRequest(U.ShowMessageRequest.type,n).then(Au)}showWarningMessage(t,...r){let n={type:U.MessageType.Warning,message:t,actions:r};return this._connection.sendRequest(U.ShowMessageRequest.type,n).then(Au)}showInformationMessage(t,...r){let n={type:U.MessageType.Info,message:t,actions:r};return this._connection.sendRequest(U.ShowMessageRequest.type,n).then(Au)}},Od=te.ProgressFeature(wu),HS;(function(e){function t(){return new Zi}e.create=t})(HS=Se.BulkRegistration||(Se.BulkRegistration={}));var Zi=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=ze.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Iu.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},WS;(function(e){function t(){return new Vn(void 0,[])}e.create=t})(WS=Se.BulkUnregistration||(Se.BulkUnregistration={}));var Vn=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(U.UnregistrationRequest.type,r).then(void 0,n=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=ze.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(U.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}},es=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof Zi?this.registerMany(t):t instanceof Vn?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=ze.string(r)?r:r.method,s=Iu.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this._connection),this._connection.sendRequest(U.RegistrationRequest.type,o).then(a=>(t.add({id:s,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=ze.string(t)?t:t.method,i=Iu.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this._connection.sendRequest(U.RegistrationRequest.type,s).then(o=>U.Disposable.create(()=>{this.unregisterSingle(i,n)}),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this._connection.sendRequest(U.UnregistrationRequest.type,n).then(void 0,i=>{this.connection.console.info(`Unregistering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this._connection.sendRequest(U.RegistrationRequest.type,r).then(()=>new Vn(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},Pu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this._connection.sendRequest(U.ApplyWorkspaceEditRequest.type,n)}},Cd=US.WorkspaceFoldersFeature(FS.ConfigurationFeature(Pu)),ts=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this._connection.sendNotification(U.TelemetryEventNotification.type,t)}},rs=class{constructor(){this._trace=U.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==U.Trace.Off&&this._connection.sendNotification(U.LogTraceNotification.type,{message:t,verbose:this._trace===U.Trace.Verbose?r:void 0})}},Qn=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return te.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,r){return te.attachPartialResult(this.connection,r)}};Se.LanguagesImpl=Qn;function bd(e,t){return function(r){return t(e(r))}}Se.combineConsoleFeatures=bd;function Ld(e,t){return function(r){return t(e(r))}}Se.combineTelemetryFeatures=Ld;function wd(e,t){return function(r){return t(e(r))}}Se.combineTracerFeatures=wd;function Pd(e,t){return function(r){return t(e(r))}}Se.combineClientFeatures=Pd;function Dd(e,t){return function(r){return t(e(r))}}Se.combineWindowFeatures=Dd;function Md(e,t){return function(r){return t(e(r))}}Se.combineWorkspaceFeatures=Md;function kd(e,t){return function(r){return t(e(r))}}Se.combineLanguagesFeatures=kd;function GS(e,t){function r(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:r(e.console,t.console,bd),tracer:r(e.tracer,t.tracer,wd),telemetry:r(e.telemetry,t.telemetry,Ld),client:r(e.client,t.client,Pd),window:r(e.window,t.window,Dd),workspace:r(e.workspace,t.workspace,Md)}}Se.combineFeatures=GS;function $S(e,t,r,n){let i,s,o,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),U.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),VS(s,o,a,i)}Se.createConnection=$S;function VS(e,t,r,n){if(!e&&!t&&process.argv.length>2){let S,y,C=process.argv.slice(2);for(let $=0;$<C.length;$++){let k=C[$];if(k==="--node-ipc"){e=new U.IPCMessageReader(process),t=new U.IPCMessageWriter(process);break}else if(k==="--stdio"){e=process.stdin,t=process.stdout;break}else if(k==="--socket"){S=parseInt(C[$+1]);break}else if(k==="--pipe"){y=C[$+1];break}else{var i=k.split("=");if(i[0]==="--socket"){S=parseInt(i[1]);break}else if(i[0]==="--pipe"){y=i[1];break}}}if(S){let $=U.createServerSocketTransport(S);e=$[0],t=$[1]}else if(y){let $=U.createServerPipeTransport(y);e=$[0],t=$[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(ze.func(e.read)&&ze.func(e.on)){let S=e;S.on("end",()=>{process.exit(Zr?0:1)}),S.on("close",()=>{process.exit(Zr?0:1)})}let o=n&&n.console?new(n.console(Ji)):new Ji,a=U.createProtocolConnection(e,t,o,r);o.rawAttach(a);let u=n&&n.tracer?new(n.tracer(rs)):new rs,h=n&&n.telemetry?new(n.telemetry(ts)):new ts,E=n&&n.client?new(n.client(es)):new es,g=n&&n.window?new(n.window(Od)):new Od,v=n&&n.workspace?new(n.workspace(Cd)):new Cd,M=n&&n.languages?new(n.languages(Qn)):new Qn,P=[o,u,h,E,g,v,M];function B(S){return S instanceof Promise?S:ze.thenable(S)?new Promise((y,C)=>{S.then($=>y($),$=>C($))}):Promise.resolve(S)}let j,F,K,H={listen:()=>a.listen(),sendRequest:(S,...y)=>a.sendRequest(ze.string(S)?S:S.method,...y),onRequest:(S,y)=>a.onRequest(S,y),sendNotification:(S,y)=>{let C=ze.string(S)?S:S.method;arguments.length===1?a.sendNotification(C):a.sendNotification(C,y)},onNotification:(S,y)=>a.onNotification(S,y),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:S=>F=S,onInitialized:S=>a.onNotification(U.InitializedNotification.type,S),onShutdown:S=>j=S,onExit:S=>K=S,get console(){return o},get telemetry(){return h},get tracer(){return u},get client(){return E},get window(){return g},get workspace(){return v},get languages(){return M},onDidChangeConfiguration:S=>a.onNotification(U.DidChangeConfigurationNotification.type,S),onDidChangeWatchedFiles:S=>a.onNotification(U.DidChangeWatchedFilesNotification.type,S),__textDocumentSync:void 0,onDidOpenTextDocument:S=>a.onNotification(U.DidOpenTextDocumentNotification.type,S),onDidChangeTextDocument:S=>a.onNotification(U.DidChangeTextDocumentNotification.type,S),onDidCloseTextDocument:S=>a.onNotification(U.DidCloseTextDocumentNotification.type,S),onWillSaveTextDocument:S=>a.onNotification(U.WillSaveTextDocumentNotification.type,S),onWillSaveTextDocumentWaitUntil:S=>a.onRequest(U.WillSaveTextDocumentWaitUntilRequest.type,S),onDidSaveTextDocument:S=>a.onNotification(U.DidSaveTextDocumentNotification.type,S),sendDiagnostics:S=>a.sendNotification(U.PublishDiagnosticsNotification.type,S),onHover:S=>a.onRequest(U.HoverRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),void 0)),onCompletion:S=>a.onRequest(U.CompletionRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onCompletionResolve:S=>a.onRequest(U.CompletionResolveRequest.type,S),onSignatureHelp:S=>a.onRequest(U.SignatureHelpRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),void 0)),onDeclaration:S=>a.onRequest(U.DeclarationRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onDefinition:S=>a.onRequest(U.DefinitionRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onTypeDefinition:S=>a.onRequest(U.TypeDefinitionRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onImplementation:S=>a.onRequest(U.ImplementationRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onReferences:S=>a.onRequest(U.ReferencesRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onDocumentHighlight:S=>a.onRequest(U.DocumentHighlightRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onDocumentSymbol:S=>a.onRequest(U.DocumentSymbolRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onWorkspaceSymbol:S=>a.onRequest(U.WorkspaceSymbolRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onCodeAction:S=>a.onRequest(U.CodeActionRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onCodeLens:S=>a.onRequest(U.CodeLensRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onCodeLensResolve:S=>a.onRequest(U.CodeLensResolveRequest.type,(y,C)=>S(y,C)),onDocumentFormatting:S=>a.onRequest(U.DocumentFormattingRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),void 0)),onDocumentRangeFormatting:S=>a.onRequest(U.DocumentRangeFormattingRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),void 0)),onDocumentOnTypeFormatting:S=>a.onRequest(U.DocumentOnTypeFormattingRequest.type,(y,C)=>S(y,C)),onRenameRequest:S=>a.onRequest(U.RenameRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),void 0)),onPrepareRename:S=>a.onRequest(U.PrepareRenameRequest.type,(y,C)=>S(y,C)),onDocumentLinks:S=>a.onRequest(U.DocumentLinkRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onDocumentLinkResolve:S=>a.onRequest(U.DocumentLinkResolveRequest.type,(y,C)=>S(y,C)),onDocumentColor:S=>a.onRequest(U.DocumentColorRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onColorPresentation:S=>a.onRequest(U.ColorPresentationRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onFoldingRanges:S=>a.onRequest(U.FoldingRangeRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onSelectionRanges:S=>a.onRequest(U.SelectionRangeRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),te.attachPartialResult(a,y))),onExecuteCommand:S=>a.onRequest(U.ExecuteCommandRequest.type,(y,C)=>S(y,C,te.attachWorkDone(a,y),void 0)),dispose:()=>a.dispose()};for(let S of P)S.attach(H);return a.onRequest(U.InitializeRequest.type,S=>{let y=S.processId;ze.number(y)&&Id===void 0&&setInterval(()=>{try{process.kill(y,0)}catch(C){process.exit(Zr?0:1)}},3e3),ze.string(S.trace)&&(u.trace=U.Trace.fromString(S.trace));for(let C of P)C.initialize(S.capabilities);if(F){let C=F(S,new U.CancellationTokenSource().token,te.attachWorkDone(a,S),void 0);return B(C).then($=>{if($ instanceof U.ResponseError)return $;let k=$;k||(k={capabilities:{}});let G=k.capabilities;G||(G={},k.capabilities=G),G.textDocumentSync===void 0||G.textDocumentSync===null?G.textDocumentSync=ze.number(H.__textDocumentSync)?H.__textDocumentSync:U.TextDocumentSyncKind.None:!ze.number(G.textDocumentSync)&&!ze.number(G.textDocumentSync.change)&&(G.textDocumentSync.change=ze.number(H.__textDocumentSync)?H.__textDocumentSync:U.TextDocumentSyncKind.None);for(let ee of P)ee.fillServerCapabilities(G);return k})}else{let C={capabilities:{textDocumentSync:U.TextDocumentSyncKind.None}};for(let $ of P)$.fillServerCapabilities(C.capabilities);return C}}),a.onRequest(U.ShutdownRequest.type,()=>{if(Zr=!0,j)return j(new U.CancellationTokenSource().token)}),a.onNotification(U.ExitNotification.type,()=>{try{K&&K()}finally{Zr?process.exit(0):process.exit(1)}}),a.onNotification(U.SetTraceNotification.type,S=>{u.trace=U.Trace.fromString(S.value)}),H}var QS=Sd(),Ad=Nd(),YS;(function(e){e.all={__brand:"features",languages:kd(QS.CallHierarchyFeature,Ad.SemanticTokensFeature)},e.SemanticTokensBuilder=Ad.SemanticTokensBuilder})(YS=Se.ProposedFeatures||(Se.ProposedFeatures={}))});var Du=R(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.NotifyResponseError=void 0;var zS=xd(),ns=class extends zS.ResponseError{constructor(t,r,n){super(t,r,n)}};Yn.NotifyResponseError=ns;Yn.default=ns});var Mu=R(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.MissingModuleNotification=en.ElectronNotSupportedNotification=void 0;en.ElectronNotSupportedNotification="Core/electronNotSupported";en.MissingModuleNotification="Core/missingModule"});var qd=R(Tr=>{"use strict";var XS=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ElectronNotSupportedError=void 0;var KS=XS(Du()),JS=Mu(),is=class extends KS.default{constructor(t="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,t,{notification:JS.ElectronNotSupportedNotification,dontNotify:!0})}};Tr.ElectronNotSupportedError=is;Tr.default=is});var Fd=R(Rr=>{"use strict";var ZS=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.MissingModuleError=void 0;var eN=ZS(Du()),tN=Mu(),ss=class extends eN.default{constructor(t,r,n=!1){super(1e3,`Missing module "${t.map((i,s)=>`${i.name}@${i.version||"latest"}${s===t.length-2?" and ":s===t.length-1?"":", "}`).join("")}". Need to ${n?"upgrade":"install"}.`,{notification:tN.MissingModuleNotification,dontNotify:!0,args:{conn:r,action:n?"upgrade":"install",deps:t}})}};Rr.MissingModuleError=ss;Rr.default=ss});var jd=R((FP,xu)=>{"use strict";var be=require("path"),Ud=require("os"),lr=Ud.homedir(),ku=Ud.tmpdir(),{env:tn}=process,rN=e=>{let t=be.join(lr,"Library");return{data:be.join(t,"Application Support",e),config:be.join(t,"Preferences",e),cache:be.join(t,"Caches",e),log:be.join(t,"Logs",e),temp:be.join(ku,e)}},nN=e=>{let t=tn.APPDATA||be.join(lr,"AppData","Roaming"),r=tn.LOCALAPPDATA||be.join(lr,"AppData","Local");return{data:be.join(r,e,"Data"),config:be.join(t,e,"Config"),cache:be.join(r,e,"Cache"),log:be.join(r,e,"Log"),temp:be.join(ku,e)}},iN=e=>{let t=be.basename(lr);return{data:be.join(tn.XDG_DATA_HOME||be.join(lr,".local","share"),e),config:be.join(tn.XDG_CONFIG_HOME||be.join(lr,".config"),e),cache:be.join(tn.XDG_CACHE_HOME||be.join(lr,".cache"),e),log:be.join(tn.XDG_STATE_HOME||be.join(lr,".local","state"),e),temp:be.join(ku,t,e)}},Bd=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?rN(e):process.platform==="win32"?nN(e):iN(e)};xu.exports=Bd;xu.exports.default=Bd});var qu=R((UP,Hd)=>{Hd.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var Wd=R((BP,zn)=>{"use strict";var sN=process.platform==="win32",oN=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Fu={};function aN(e){return oN.exec(e).slice(1)}Fu.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=aN(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var uN=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Uu={};function cN(e){return uN.exec(e).slice(1)}Uu.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=cN(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};sN?zn.exports=Fu.parse:zn.exports=Uu.parse;zn.exports.posix=Uu.parse;zn.exports.win32=Fu.parse});var Bu=R((jP,Qd)=>{var Vd=require("path"),Gd=Vd.parse||Wd(),$d=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var i=[t],s=Gd(t);s.dir!==i[i.length-1];)i.push(s.dir),s=Gd(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(u){return Vd.resolve(n,a,u)}))},[])};Qd.exports=function(t,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return $d(t,i)},r);var s=$d(t,i);return r&&r.paths?s.concat(r.paths):s}});var ju=R((HP,Yd)=>{Yd.exports=function(e,t){return t||{}}});var zd=R((WP,lN)=>{lN.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":[">= 10 && < 10.1",">= 14"],_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:!0,wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7",zlib:!0}});var Wu=R((GP,Jd)=>{var fN=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function hN(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(fN[i]||0),o=Number(n[i]||0);if(s!==o)return r==="<"?s<o:r===">="?s>=o:!1}return r===">="}function Xd(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!hN(t[r]))return!1;return!0}function dN(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(Xd(e[t]))return!0;return!1}return Xd(e)}var Hu=zd(),Kd={};for(os in Hu)Object.prototype.hasOwnProperty.call(Hu,os)&&(Kd[os]=dN(Hu[os]));var os;Jd.exports=Kd});var as=R(($P,Zd)=>{var pN=Wu();Zd.exports=function(t){return Object.prototype.hasOwnProperty.call(pN,t)}});var tp=R((VP,ep)=>{var _r=require("fs"),je=require("path"),EN=qu(),mN=Bu(),gN=ju(),vN=as(),yN=_r.realpath&&typeof _r.realpath.native=="function"?_r.realpath.native:_r.realpath,TN=function(t,r){_r.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},RN=function(t,r){_r.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},_N=function(t,r){yN(t,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?t:i)})},Xn=function(t,r,n,i){n&&n.preserveSymlinks===!1?t(r,i):i(null,r)},SN=function(t,r,n){for(var i=mN(r,n,t),s=0;s<i.length;s++)i[s]=je.join(i[s],t);return i};ep.exports=function(t,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof t!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=gN(t,s);var a=s.isFile||TN,u=s.isDirectory||RN,h=s.readFile||_r.readFile,E=s.realpath||_N,g=s.packageIterator,v=s.extensions||[".js"],M=s.basedir||je.dirname(EN()),P=s.filename||M;s.paths=s.paths||[];var B=je.resolve(M);Xn(E,B,s,function(k,G){k?i(k):F(G)});var j;function F(k){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))j=je.resolve(k,t),(t==="."||t===".."||t.slice(-1)==="/")&&(j+="/"),/\/$/.test(t)&&j===k?y(j,s.package,K):H(j,s.package,K);else{if(vN(t))return i(null,t);$(t,k,function(G,ee,Y){if(G)i(G);else{if(ee)return Xn(E,ee,s,function(Ne,Ee){Ne?i(Ne):i(null,Ee,Y)});var ne=new Error("Cannot find module '"+t+"' from '"+P+"'");ne.code="MODULE_NOT_FOUND",i(ne)}})}}function K(k,G,ee){k?i(k):G?i(null,G,ee):y(j,function(Y,ne,Ne){if(Y)i(Y);else if(ne)Xn(E,ne,s,function(le,Oe){le?i(le):i(null,Oe,Ne)});else{var Ee=new Error("Cannot find module '"+t+"' from '"+P+"'");Ee.code="MODULE_NOT_FOUND",i(Ee)}})}function H(k,G,ee){var Y=G,ne=ee;typeof Y=="function"&&(ne=Y,Y=void 0);var Ne=[""].concat(v);Ee(Ne,k,Y);function Ee(le,Oe,Ce){if(le.length===0)return ne(null,void 0,Ce);var De=Oe+le[0],ke=Ce;ke?Re(null,ke):S(je.dirname(De),Re);function Re(we,Ue,xe){if(ke=Ue,we)return ne(we);if(xe&&ke&&s.pathFilter){var Je=je.relative(xe,De),lt=Je.slice(0,Je.length-le[0].length),Qe=s.pathFilter(ke,Oe,lt);if(Qe)return Ee([""].concat(v.slice()),je.resolve(xe,Qe),ke)}a(De,Ke)}function Ke(we,Ue){if(we)return ne(we);if(Ue)return ne(null,De,ke);Ee(le.slice(1),Oe,ke)}}}function S(k,G){if(k===""||k==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(k)||/[/\\]node_modules[/\\]*$/.test(k))return G(null);Xn(E,k,s,function(ee,Y){if(ee)return S(je.dirname(k),G);var ne=je.join(Y,"package.json");a(ne,function(Ne,Ee){if(!Ee)return S(je.dirname(k),G);h(ne,function(le,Oe){le&&G(le);try{var Ce=JSON.parse(Oe)}catch(De){}Ce&&s.packageFilter&&(Ce=s.packageFilter(Ce,ne)),G(null,Ce,k)})})})}function y(k,G,ee){var Y=ee,ne=G;typeof ne=="function"&&(Y=ne,ne=s.package),Xn(E,k,s,function(Ne,Ee){if(Ne)return Y(Ne);var le=je.join(Ee,"package.json");a(le,function(Oe,Ce){if(Oe)return Y(Oe);if(!Ce)return H(je.join(k,"index"),ne,Y);h(le,function(De,ke){if(De)return Y(De);try{var Re=JSON.parse(ke)}catch(we){}if(Re&&s.packageFilter&&(Re=s.packageFilter(Re,le)),Re&&Re.main){if(typeof Re.main!="string"){var Ke=new TypeError("package \u201C"+Re.name+"\u201D `main` must be a string");return Ke.code="INVALID_PACKAGE_MAIN",Y(Ke)}(Re.main==="."||Re.main==="./")&&(Re.main="index"),H(je.resolve(k,Re.main),Re,function(we,Ue,xe){if(we)return Y(we);if(Ue)return Y(null,Ue,xe);if(!xe)return H(je.join(k,"index"),xe,Y);var Je=je.resolve(k,xe.main);y(Je,xe,function(lt,Qe,Ze){if(lt)return Y(lt);if(Qe)return Y(null,Qe,Ze);H(je.join(k,"index"),Ze,Y)})});return}H(je.join(k,"/index"),Re,Y)})})})}function C(k,G){if(G.length===0)return k(null,void 0);var ee=G[0];u(je.dirname(ee),Y);function Y(Ee,le){if(Ee)return k(Ee);if(!le)return C(k,G.slice(1));H(ee,s.package,ne)}function ne(Ee,le,Oe){if(Ee)return k(Ee);if(le)return k(null,le,Oe);y(ee,s.package,Ne)}function Ne(Ee,le,Oe){if(Ee)return k(Ee);if(le)return k(null,le,Oe);C(k,G.slice(1))}}function $(k,G,ee){var Y=function(){return SN(k,G,s)};C(ee,g?g(k,G,Y,s):Y())}}});var np=R((QP,rp)=>{var NN=as(),Sr=require("fs"),it=require("path"),ON=qu(),CN=Bu(),AN=ju(),IN=Sr.realpathSync&&typeof Sr.realpathSync.native=="function"?Sr.realpathSync.native:Sr.realpathSync,bN=function(t){try{var r=Sr.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isFile()||r.isFIFO()},LN=function(t){try{var r=Sr.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isDirectory()},wN=function(t){try{return IN(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},Kn=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},PN=function(t,r,n){for(var i=CN(r,n,t),s=0;s<i.length;s++)i[s]=it.join(i[s],t);return i};rp.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=AN(t,r),i=n.isFile||bN,s=n.readFileSync||Sr.readFileSync,o=n.isDirectory||LN,a=n.realpathSync||wN,u=n.packageIterator,h=n.extensions||[".js"],E=n.basedir||it.dirname(ON()),g=n.filename||E;n.paths=n.paths||[];var v=Kn(a,it.resolve(E),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var M=it.resolve(v,t);(t==="."||t===".."||t.slice(-1)==="/")&&(M+="/");var P=F(M)||H(M);if(P)return Kn(a,P,n)}else{if(NN(t))return t;var B=S(t,v);if(B)return Kn(a,B,n)}var j=new Error("Cannot find module '"+t+"' from '"+g+"'");throw j.code="MODULE_NOT_FOUND",j;function F(y){var C=K(it.dirname(y));if(C&&C.dir&&C.pkg&&n.pathFilter){var $=it.relative(C.dir,y),k=n.pathFilter(C.pkg,y,$);k&&(y=it.resolve(C.dir,k))}if(i(y))return y;for(var G=0;G<h.length;G++){var ee=y+h[G];if(i(ee))return ee}}function K(y){if(!(y===""||y==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(y))&&!/[/\\]node_modules[/\\]*$/.test(y)){var C=it.join(Kn(a,y,n),"package.json");if(!i(C))return K(it.dirname(y));var $=s(C);try{var k=JSON.parse($)}catch(G){}return k&&n.packageFilter&&(k=n.packageFilter(k,y)),{pkg:k,dir:y}}}function H(y){var C=it.join(Kn(a,y,n),"/package.json");if(i(C)){try{var $=s(C,"UTF8"),k=JSON.parse($)}catch(ne){}if(k&&n.packageFilter&&(k=n.packageFilter(k,y)),k&&k.main){if(typeof k.main!="string"){var G=new TypeError("package \u201C"+k.name+"\u201D `main` must be a string");throw G.code="INVALID_PACKAGE_MAIN",G}(k.main==="."||k.main==="./")&&(k.main="index");try{var ee=F(it.resolve(y,k.main));if(ee)return ee;var Y=H(it.resolve(y,k.main));if(Y)return Y}catch(ne){}}}return F(it.join(y,"/index"))}function S(y,C){for(var $=function(){return PN(y,C,n)},k=u?u(y,C,$,n):$(),G=0;G<k.length;G++){var ee=k[G];if(o(it.dirname(ee))){var Y=F(ee);if(Y)return Y;var ne=H(ee);if(ne)return ne}}}}});var sp=R((YP,ip)=>{var us=tp();us.core=Wu();us.isCore=as();us.sync=np();ip.exports=us});var fp=R((Z,lp)=>{Z=lp.exports=oe;var pe;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?pe=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:pe=function(){};Z.SEMVER_SPEC_VERSION="2.0.0";var $u=256,cs=Number.MAX_SAFE_INTEGER||9007199254740991,Gu=16,he=Z.re=[],D=Z.src=[],A=Z.tokens={},up=0;function ae(e){A[e]=up++}ae("NUMERICIDENTIFIER");D[A.NUMERICIDENTIFIER]="0|[1-9]\\d*";ae("NUMERICIDENTIFIERLOOSE");D[A.NUMERICIDENTIFIERLOOSE]="[0-9]+";ae("NONNUMERICIDENTIFIER");D[A.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";ae("MAINVERSION");D[A.MAINVERSION]="("+D[A.NUMERICIDENTIFIER]+")\\.("+D[A.NUMERICIDENTIFIER]+")\\.("+D[A.NUMERICIDENTIFIER]+")";ae("MAINVERSIONLOOSE");D[A.MAINVERSIONLOOSE]="("+D[A.NUMERICIDENTIFIERLOOSE]+")\\.("+D[A.NUMERICIDENTIFIERLOOSE]+")\\.("+D[A.NUMERICIDENTIFIERLOOSE]+")";ae("PRERELEASEIDENTIFIER");D[A.PRERELEASEIDENTIFIER]="(?:"+D[A.NUMERICIDENTIFIER]+"|"+D[A.NONNUMERICIDENTIFIER]+")";ae("PRERELEASEIDENTIFIERLOOSE");D[A.PRERELEASEIDENTIFIERLOOSE]="(?:"+D[A.NUMERICIDENTIFIERLOOSE]+"|"+D[A.NONNUMERICIDENTIFIER]+")";ae("PRERELEASE");D[A.PRERELEASE]="(?:-("+D[A.PRERELEASEIDENTIFIER]+"(?:\\."+D[A.PRERELEASEIDENTIFIER]+")*))";ae("PRERELEASELOOSE");D[A.PRERELEASELOOSE]="(?:-?("+D[A.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+D[A.PRERELEASEIDENTIFIERLOOSE]+")*))";ae("BUILDIDENTIFIER");D[A.BUILDIDENTIFIER]="[0-9A-Za-z-]+";ae("BUILD");D[A.BUILD]="(?:\\+("+D[A.BUILDIDENTIFIER]+"(?:\\."+D[A.BUILDIDENTIFIER]+")*))";ae("FULL");ae("FULLPLAIN");D[A.FULLPLAIN]="v?"+D[A.MAINVERSION]+D[A.PRERELEASE]+"?"+D[A.BUILD]+"?";D[A.FULL]="^"+D[A.FULLPLAIN]+"$";ae("LOOSEPLAIN");D[A.LOOSEPLAIN]="[v=\\s]*"+D[A.MAINVERSIONLOOSE]+D[A.PRERELEASELOOSE]+"?"+D[A.BUILD]+"?";ae("LOOSE");D[A.LOOSE]="^"+D[A.LOOSEPLAIN]+"$";ae("GTLT");D[A.GTLT]="((?:<|>)?=?)";ae("XRANGEIDENTIFIERLOOSE");D[A.XRANGEIDENTIFIERLOOSE]=D[A.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";ae("XRANGEIDENTIFIER");D[A.XRANGEIDENTIFIER]=D[A.NUMERICIDENTIFIER]+"|x|X|\\*";ae("XRANGEPLAIN");D[A.XRANGEPLAIN]="[v=\\s]*("+D[A.XRANGEIDENTIFIER]+")(?:\\.("+D[A.XRANGEIDENTIFIER]+")(?:\\.("+D[A.XRANGEIDENTIFIER]+")(?:"+D[A.PRERELEASE]+")?"+D[A.BUILD]+"?)?)?";ae("XRANGEPLAINLOOSE");D[A.XRANGEPLAINLOOSE]="[v=\\s]*("+D[A.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+D[A.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+D[A.XRANGEIDENTIFIERLOOSE]+")(?:"+D[A.PRERELEASELOOSE]+")?"+D[A.BUILD]+"?)?)?";ae("XRANGE");D[A.XRANGE]="^"+D[A.GTLT]+"\\s*"+D[A.XRANGEPLAIN]+"$";ae("XRANGELOOSE");D[A.XRANGELOOSE]="^"+D[A.GTLT]+"\\s*"+D[A.XRANGEPLAINLOOSE]+"$";ae("COERCE");D[A.COERCE]="(^|[^\\d])(\\d{1,"+Gu+"})(?:\\.(\\d{1,"+Gu+"}))?(?:\\.(\\d{1,"+Gu+"}))?(?:$|[^\\d])";ae("COERCERTL");he[A.COERCERTL]=new RegExp(D[A.COERCE],"g");ae("LONETILDE");D[A.LONETILDE]="(?:~>?)";ae("TILDETRIM");D[A.TILDETRIM]="(\\s*)"+D[A.LONETILDE]+"\\s+";he[A.TILDETRIM]=new RegExp(D[A.TILDETRIM],"g");var DN="$1~";ae("TILDE");D[A.TILDE]="^"+D[A.LONETILDE]+D[A.XRANGEPLAIN]+"$";ae("TILDELOOSE");D[A.TILDELOOSE]="^"+D[A.LONETILDE]+D[A.XRANGEPLAINLOOSE]+"$";ae("LONECARET");D[A.LONECARET]="(?:\\^)";ae("CARETTRIM");D[A.CARETTRIM]="(\\s*)"+D[A.LONECARET]+"\\s+";he[A.CARETTRIM]=new RegExp(D[A.CARETTRIM],"g");var MN="$1^";ae("CARET");D[A.CARET]="^"+D[A.LONECARET]+D[A.XRANGEPLAIN]+"$";ae("CARETLOOSE");D[A.CARETLOOSE]="^"+D[A.LONECARET]+D[A.XRANGEPLAINLOOSE]+"$";ae("COMPARATORLOOSE");D[A.COMPARATORLOOSE]="^"+D[A.GTLT]+"\\s*("+D[A.LOOSEPLAIN]+")$|^$";ae("COMPARATOR");D[A.COMPARATOR]="^"+D[A.GTLT]+"\\s*("+D[A.FULLPLAIN]+")$|^$";ae("COMPARATORTRIM");D[A.COMPARATORTRIM]="(\\s*)"+D[A.GTLT]+"\\s*("+D[A.LOOSEPLAIN]+"|"+D[A.XRANGEPLAIN]+")";he[A.COMPARATORTRIM]=new RegExp(D[A.COMPARATORTRIM],"g");var kN="$1$2$3";ae("HYPHENRANGE");D[A.HYPHENRANGE]="^\\s*("+D[A.XRANGEPLAIN]+")\\s+-\\s+("+D[A.XRANGEPLAIN]+")\\s*$";ae("HYPHENRANGELOOSE");D[A.HYPHENRANGELOOSE]="^\\s*("+D[A.XRANGEPLAINLOOSE]+")\\s+-\\s+("+D[A.XRANGEPLAINLOOSE]+")\\s*$";ae("STAR");D[A.STAR]="(<|>)?=?\\s*\\*";for(fr=0;fr<up;fr++)pe(fr,D[fr]),he[fr]||(he[fr]=new RegExp(D[fr]));var fr;Z.parse=Or;function Or(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e;if(typeof e!="string"||e.length>$u)return null;var r=t.loose?he[A.LOOSE]:he[A.FULL];if(!r.test(e))return null;try{return new oe(e,t)}catch(n){return null}}Z.valid=xN;function xN(e,t){var r=Or(e,t);return r?r.version:null}Z.clean=qN;function qN(e,t){var r=Or(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}Z.SemVer=oe;function oe(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>$u)throw new TypeError("version is longer than "+$u+" characters");if(!(this instanceof oe))return new oe(e,t);pe("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?he[A.LOOSE]:he[A.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>cs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cs||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<cs)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}oe.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};oe.prototype.toString=function(){return this.version};oe.prototype.compare=function(e){return pe("SemVer.compare",this.version,this.options,e),e instanceof oe||(e=new oe(e,this.options)),this.compareMain(e)||this.comparePre(e)};oe.prototype.compareMain=function(e){return e instanceof oe||(e=new oe(e,this.options)),Nr(this.major,e.major)||Nr(this.minor,e.minor)||Nr(this.patch,e.patch)};oe.prototype.comparePre=function(e){if(e instanceof oe||(e=new oe(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(pe("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Nr(r,n)}while(++t)};oe.prototype.compareBuild=function(e){e instanceof oe||(e=new oe(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(pe("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Nr(r,n)}while(++t)};oe.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Z.inc=FN;function FN(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new oe(e,r).inc(t,n).version}catch(i){return null}}Z.diff=UN;function UN(e,t){if(Vu(e,t))return null;var r=Or(e),n=Or(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}Z.compareIdentifiers=Nr;var op=/^[0-9]+$/;function Nr(e,t){var r=op.test(e),n=op.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}Z.rcompareIdentifiers=BN;function BN(e,t){return Nr(t,e)}Z.major=jN;function jN(e,t){return new oe(e,t).major}Z.minor=HN;function HN(e,t){return new oe(e,t).minor}Z.patch=WN;function WN(e,t){return new oe(e,t).patch}Z.compare=Qt;function Qt(e,t,r){return new oe(e,r).compare(new oe(t,r))}Z.compareLoose=GN;function GN(e,t){return Qt(e,t,!0)}Z.compareBuild=$N;function $N(e,t,r){var n=new oe(e,r),i=new oe(t,r);return n.compare(i)||n.compareBuild(i)}Z.rcompare=VN;function VN(e,t,r){return Qt(t,e,r)}Z.sort=QN;function QN(e,t){return e.sort(function(r,n){return Z.compareBuild(r,n,t)})}Z.rsort=YN;function YN(e,t){return e.sort(function(r,n){return Z.compareBuild(n,r,t)})}Z.gt=Jn;function Jn(e,t,r){return Qt(e,t,r)>0}Z.lt=ls;function ls(e,t,r){return Qt(e,t,r)<0}Z.eq=Vu;function Vu(e,t,r){return Qt(e,t,r)===0}Z.neq=cp;function cp(e,t,r){return Qt(e,t,r)!==0}Z.gte=Qu;function Qu(e,t,r){return Qt(e,t,r)>=0}Z.lte=Yu;function Yu(e,t,r){return Qt(e,t,r)<=0}Z.cmp=fs;function fs(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Vu(e,r,n);case"!=":return cp(e,r,n);case">":return Jn(e,r,n);case">=":return Qu(e,r,n);case"<":return ls(e,r,n);case"<=":return Yu(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}Z.Comparator=gt;function gt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof gt){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof gt))return new gt(e,t);pe("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===rn?this.value="":this.value=this.operator+this.semver.version,pe("comp",this)}var rn={};gt.prototype.parse=function(e){var t=this.options.loose?he[A.COMPARATORLOOSE]:he[A.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new oe(r[2],this.options.loose):this.semver=rn};gt.prototype.toString=function(){return this.value};gt.prototype.test=function(e){if(pe("Comparator.test",e,this.options.loose),this.semver===rn||e===rn)return!0;if(typeof e=="string")try{e=new oe(e,this.options)}catch(t){return!1}return fs(e,this.operator,this.semver,this.options)};gt.prototype.intersects=function(e,t){if(!(e instanceof gt))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new Le(e.value,t),hs(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new Le(this.value,t),hs(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=fs(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=fs(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u};Z.Range=Le;function Le(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Le)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Le(e.raw,t);if(e instanceof gt)return new Le(e.value,t);if(!(this instanceof Le))return new Le(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Le.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Le.prototype.toString=function(){return this.range};Le.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?he[A.HYPHENRANGELOOSE]:he[A.HYPHENRANGE];e=e.replace(r,iO),pe("hyphen replace",e),e=e.replace(he[A.COMPARATORTRIM],kN),pe("comparator trim",e,he[A.COMPARATORTRIM]),e=e.replace(he[A.TILDETRIM],DN),e=e.replace(he[A.CARETTRIM],MN),e=e.split(/\s+/).join(" ");var n=t?he[A.COMPARATORLOOSE]:he[A.COMPARATOR],i=e.split(" ").map(function(s){return XN(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new gt(s,this.options)},this),i};Le.prototype.intersects=function(e,t){if(!(e instanceof Le))throw new TypeError("a Range is required");return this.set.some(function(r){return ap(r,t)&&e.set.some(function(n){return ap(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function ap(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}Z.toComparators=zN;function zN(e,t){return new Le(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function XN(e,t){return pe("comp",e,t),e=ZN(e,t),pe("caret",e),e=KN(e,t),pe("tildes",e),e=tO(e,t),pe("xrange",e),e=nO(e,t),pe("stars",e),e}function Xe(e){return!e||e.toLowerCase()==="x"||e==="*"}function KN(e,t){return e.trim().split(/\s+/).map(function(r){return JN(r,t)}).join(" ")}function JN(e,t){var r=t.loose?he[A.TILDELOOSE]:he[A.TILDE];return e.replace(r,function(n,i,s,o,a){pe("tilde",e,n,i,s,o,a);var u;return Xe(i)?u="":Xe(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Xe(o)?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(pe("replaceTilde pr",a),u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",pe("tilde return",u),u})}function ZN(e,t){return e.trim().split(/\s+/).map(function(r){return eO(r,t)}).join(" ")}function eO(e,t){pe("caret",e,t);var r=t.loose?he[A.CARETLOOSE]:he[A.CARET];return e.replace(r,function(n,i,s,o,a){pe("caret",e,n,i,s,o,a);var u;return Xe(i)?u="":Xe(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Xe(o)?i==="0"?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(pe("replaceCaret pr",a),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(pe("no pr"),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),pe("caret return",u),u})}function tO(e,t){return pe("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return rO(r,t)}).join(" ")}function rO(e,t){e=e.trim();var r=t.loose?he[A.XRANGELOOSE]:he[A.XRANGE];return e.replace(r,function(n,i,s,o,a,u){pe("xRange",e,n,i,s,o,a,u);var h=Xe(s),E=h||Xe(o),g=E||Xe(a),v=g;return i==="="&&v&&(i=""),u=t.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&v?(E&&(o=0),a=0,i===">"?(i=">=",E?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",E?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+u):E?n=">="+s+".0.0"+u+" <"+(+s+1)+".0.0"+u:g&&(n=">="+s+"."+o+".0"+u+" <"+s+"."+(+o+1)+".0"+u),pe("xRange return",n),n})}function nO(e,t){return pe("replaceStars",e,t),e.trim().replace(he[A.STAR],"")}function iO(e,t,r,n,i,s,o,a,u,h,E,g,v){return Xe(r)?t="":Xe(n)?t=">="+r+".0.0":Xe(i)?t=">="+r+"."+n+".0":t=">="+t,Xe(u)?a="":Xe(h)?a="<"+(+u+1)+".0.0":Xe(E)?a="<"+u+"."+(+h+1)+".0":g?a="<="+u+"."+h+"."+E+"-"+g:a="<="+a,(t+" "+a).trim()}Le.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new oe(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(sO(this.set[t],e,this.options))return!0;return!1};function sO(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(pe(e[n].semver),e[n].semver!==rn&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Z.satisfies=hs;function hs(e,t,r){try{t=new Le(t,r)}catch(n){return!1}return t.test(e)}Z.maxSatisfying=oO;function oO(e,t,r){var n=null,i=null;try{var s=new Le(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new oe(n,r))}),n}Z.minSatisfying=aO;function aO(e,t,r){var n=null,i=null;try{var s=new Le(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new oe(n,r))}),n}Z.minVersion=uO;function uO(e,t){e=new Le(e,t);var r=new oe("0.0.0");if(e.test(r)||(r=new oe("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new oe(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Jn(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}Z.validRange=cO;function cO(e,t){try{return new Le(e,t).range||"*"}catch(r){return null}}Z.ltr=lO;function lO(e,t,r){return zu(e,t,"<",r)}Z.gtr=fO;function fO(e,t,r){return zu(e,t,">",r)}Z.outside=zu;function zu(e,t,r,n){e=new oe(e,n),t=new Le(t,n);var i,s,o,a,u;switch(r){case">":i=Jn,s=Yu,o=ls,a=">",u=">=";break;case"<":i=ls,s=Qu,o=Jn,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hs(e,t,n))return!1;for(var h=0;h<t.set.length;++h){var E=t.set[h],g=null,v=null;if(E.forEach(function(M){M.semver===rn&&(M=new gt(">=0.0.0")),g=g||M,v=v||M,i(M.semver,g.semver,n)?g=M:o(M.semver,v.semver,n)&&(v=M)}),g.operator===a||g.operator===u||(!v.operator||v.operator===a)&&s(e,v.semver))return!1;if(v.operator===u&&o(e,v.semver))return!1}return!0}Z.prerelease=hO;function hO(e,t){var r=Or(e,t);return r&&r.prerelease.length?r.prerelease:null}Z.intersects=dO;function dO(e,t,r){return e=new Le(e,r),t=new Le(t,r),e.intersects(t)}Z.coerce=pO;function pO(e,t){if(e instanceof oe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(he[A.COERCE]);else{for(var n;(n=he[A.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),he[A.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;he[A.COERCERTL].lastIndex=-1}return r===null?null:Or(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var gp=R((Xu,Ku)=>{"use strict";var ds=require("fs"),Yt=require("path"),{promisify:hp}=require("util"),EO=fp(),dp=EO.satisfies(process.version,">=10.12.0"),pp=e=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Yt.parse(e).root,""))){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}},Ep=e=>ot(ot({},{mode:511,fs:ds}),e),mp=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},mO=(e,t)=>ht(Xu,null,function*(){pp(e),t=Ep(t);let r=hp(t.fs.mkdir),n=hp(t.fs.stat);if(dp&&t.fs.mkdir===ds.mkdir){let s=Yt.resolve(e);return yield r(s,{mode:t.mode,recursive:!0}),s}let i=s=>ht(Xu,null,function*(){try{return yield r(s,t.mode),s}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Yt.dirname(s)===s)throw mp(s);if(o.message.includes("null bytes"))throw o;return yield i(Yt.dirname(s)),i(s)}try{if(!(yield n(s)).isDirectory())throw new Error("The path is not a directory")}catch(a){throw o}return s}});return i(Yt.resolve(e))});Ku.exports=mO;Ku.exports.sync=(e,t)=>{if(pp(e),t=Ep(t),dp&&t.fs.mkdirSync===ds.mkdirSync){let n=Yt.resolve(e);return ds.mkdirSync(n,{mode:t.mode,recursive:!0}),n}let r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Yt.dirname(n)===n)throw mp(n);if(i.message.includes("null bytes"))throw i;return r(Yt.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(s){throw i}}return n};return r(Yt.resolve(e))}});var Tp=R(st=>{"use strict";var gO=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vO=st&&st.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yO=st&&st.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&gO(t,e,r);return vO(t,e),t},ec=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(st,"__esModule",{value:!0});st.sqltoolsResolve=void 0;var TO=ec(jd()),RO=ec(require("path")),vp=ec(require("fs")),_O=sp(),yp=yO(gp()),Ju=TO.default(`vscode-${process.env.EXT_NAMESPACE||"sqltools"}`,{suffix:null});vp.default.existsSync(Ju.data)||yp.sync(Ju.data);vp.default.existsSync(Zu("node_modules"))||yp.sync(Zu("node_modules"));function Zu(...e){return RO.default.resolve(Ju.data,...e)}st.sqltoolsResolve=e=>_O.sync(e,{basedir:Zu()});var SO=e=>require(st.sqltoolsResolve(e));st.default=SO});var Np=R((XP,Sp)=>{"use strict";Sp.exports=_p;var tc=Symbol("circular-ref-tag"),rc=Symbol("pino-raw-err-ref"),Rp=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[rc]},set:function(e){this[rc]=e}}});Object.defineProperty(Rp,rc,{writable:!0,value:{}});function _p(e){if(!(e instanceof Error))return e;e[tc]=void 0;let t=Object.create(Rp);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(let r in e)if(t[r]===void 0){let n=e[r];n instanceof Error?n.hasOwnProperty(tc)||(t[r]=_p(n)):t[r]=n}return delete e[tc],t.raw=e,t}});var Ip=R((KP,Ap)=>{"use strict";Ap.exports={mapHttpRequest:NO,reqSerializer:Cp};var nc=Symbol("pino-raw-req-ref"),Op=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[nc]},set:function(e){this[nc]=e}}});Object.defineProperty(Op,nc,{writable:!0,value:{}});function Cp(e){var t=e.info||e.connection;let r=Object.create(Op);return r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.path||(e.url?e.url.path||e.url:void 0),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function NO(e){return{req:Cp(e)}}});var Pp=R((JP,wp)=>{"use strict";wp.exports={mapHttpResponse:OO,resSerializer:Lp};var ic=Symbol("pino-raw-res-ref"),bp=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[ic]},set:function(e){this[ic]=e}}});Object.defineProperty(bp,ic,{writable:!0,value:{}});function Lp(e){let t=Object.create(bp);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function OO(e){return{res:Lp(e)}}});var oc=R((ZP,Dp)=>{"use strict";var sc=Np(),ps=Ip(),Es=Pp();Dp.exports={err:sc,mapHttpRequest:ps.mapHttpRequest,mapHttpResponse:Es.mapHttpResponse,req:ps.reqSerializer,res:Es.resSerializer,wrapErrorSerializer:function(t){return t===sc?t:function(n){return t(sc(n))}},wrapRequestSerializer:function(t){return t===ps.reqSerializer?t:function(n){return t(ps.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===Es.resSerializer?t:function(n){return t(Es.resSerializer(n))}}}});var kp=R((eD,Mp)=>{"use strict";var{createContext:CO,runInContext:AO}=require("vm");Mp.exports=IO;function IO(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(//.test(s))throw Error();let o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(a)||/\/\*/.test(a))throw Error();AO(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,CO({o,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(o){throw Error(r(s))}})}}});var ms=R((tD,xp)=>{"use strict";xp.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var Fp=R((rD,qp)=>{"use strict";var bO=ms();qp.exports=LO;function LO({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,o){var a=s.match(bO).map(E=>E.replace(/'|"|`/g,""));let u=s[0]==="[";a=a.map(E=>E[0]==="["?E.substr(1,E.length-2):E);let h=a.indexOf("*");if(h>-1){let E=a.slice(0,h),g=E.join("."),v=a.slice(h+1,a.length);if(v.indexOf("*")>-1)throw Error("fast-redact \u2013 Only one wildcard per path is supported");let M=v.length>0;r++,t.push({before:E,beforeStr:g,after:v,nested:M})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:u};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var Bp=R((nD,Up)=>{"use strict";var wO=ms();Up.exports=PO;function PO({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${xO(n,t)}
    }
    const { censor, secret } = this
    ${DO(e,i)}
    this.compileRestore()
    ${MO(r>0,i)}
    ${kO(t)}
  `).bind(s);return t===!1&&(o.restore=a=>s.restore(a)),o}function DO(e,t){return Object.keys(e).map(r=>{let{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var u;(u=wO.exec(r))!==null;){let[,g]=u,{index:v,input:M}=u;v>s&&a.push(M.substring(0,v-(g?0:1)))}var h=a.map(g=>`o${o}${g}`).join(" && ");h.length===0?h+=`o${o}${r} != null`:h+=` && o${o}${r} != null`;let E=`
      switch (true) {
        ${a.reverse().map(g=>`
          case o${o}${g} === censor:
            secret[${n}].circle = ${JSON.stringify(g)}
            break
        `).join(`
`)}
      }
    `;return`
      if (${h}) {
        const val = o${o}${r}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${o}${r} = ${t?"censor(val)":"censor"}
          ${E}
        }
      }
    `}).join(`
`)}function MO(e,t){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})
      }
    }
  `:""}function kO(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function xO(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var ac=R((iD,Hp)=>{"use strict";Hp.exports={groupRedact:FO,groupRestore:qO,nestedRedact:BO,nestedRestore:UO};function qO({keys:e,values:t,target:r}){if(r==null)return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}function FO(e,t,r,n){let i=jp(e,t);if(i==null)return{keys:null,values:null,target:null,flat:!0};let s=Object.keys(i),o=s.length,a=new Array(o);for(var u=0;u<o;u++){let h=s[u];a[u]=i[h],i[h]=n?r(i[h]):r}return{keys:s,values:a,target:i,flat:!0}}function UO(e){let t=e.length;for(var r=0;r<t;r++){let{key:n,target:i,value:s}=e[r];i[n]=s}}function BO(e,t,r,n,i,s){let o=jp(t,r);if(o==null)return;let a=Object.keys(o),u=a.length;for(var h=0;h<u;h++){let E=a[h],{value:g,parent:v,exists:M}=HO(o,E,n,i,s);M===!0&&v!==null&&e.push({key:n[n.length-1],target:v,value:g})}return e}function jO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function HO(e,t,r,n,i){var s=-1,o=r.length,a=o-1,u,h,E,g=null,v=!0;if(E=u=e[t],typeof u!="object")return{value:null,parent:null,exists:v};for(;u!=null&&++s<o;){if(t=r[s],g=E,!(t in u)){v=!1;break}if(E=u[t],h=i?n(E):n,h=s!==a?E:h,u[t]=jO(u,t)&&h===E||h===void 0&&n!==void 0?u[t]:h,u=u[t],typeof u!="object")break}return{value:E,parent:g,exists:v}}function jp(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var Gp=R((sD,Wp)=>{"use strict";var{groupRestore:WO,nestedRestore:GO}=ac();Wp.exports=$O;function $O({secret:e,wcLen:t}){return function(){if(this.restore)return;let n=Object.keys(e).filter(a=>e[a].precensored===!1),i=VO(e,n),s=t>0,o=s?{secret:e,groupRestore:WO,nestedRestore:GO}:{secret:e};this.restore=Function("o",QO(i,n,s)).bind(o)}}function VO(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],a=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,u=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${u}
      }
    `}).join("")}function QO(e,t,r){let n=r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = ${t.length}; i < len; i++) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:"";return`
    const secret = this.secret
    ${e}
    ${n}
    return o
  `}});var Vp=R((oD,$p)=>{"use strict";$p.exports=YO;function YO(e){let{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:u,wcLen:h}=e,E=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return E.push({secret:t}),s!==!1&&E.push({serialize:s}),h>0&&E.push({groupRedact:o,nestedRedact:a,wildcards:u,wcLen:h}),Object.assign(...E)}});var zp=R((aD,Yp)=>{"use strict";var Qp=kp(),zO=Fp(),XO=Bp(),KO=Gp(),{groupRedact:JO,nestedRedact:ZO}=ac(),eC=Vp(),tC=ms(),rC=Qp(),uc=e=>e;uc.restore=uc;var nC="[REDACTED]";cc.rx=tC;cc.validator=Qp;Yp.exports=cc;function cc(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:nC,s=typeof i=="function";if(t.length===0)return r||uc;rC({paths:t,serialize:r,censor:i});let{wildcards:o,wcLen:a,secret:u}=zO({paths:t,censor:i}),h=KO({secret:u,wcLen:a}),E="strict"in e?e.strict:!0;return XO({secret:u,wcLen:a,serialize:r,strict:E,isCensorFct:s},eC({secret:u,censor:i,compileRestore:h,serialize:r,groupRedact:JO,nestedRedact:ZO,wildcards:o,wcLen:a}))}});var nn=R((uD,Xp)=>{"use strict";var iC=Symbol("pino.setLevel"),sC=Symbol("pino.getLevel"),oC=Symbol("pino.levelVal"),aC=Symbol("pino.useLevelLabels"),uC=Symbol("pino.useOnlyCustomLevels"),cC=Symbol("pino.mixin"),lC=Symbol("pino.lsCache"),fC=Symbol("pino.chindings"),hC=Symbol("pino.parsedChindings"),dC=Symbol("pino.asJson"),pC=Symbol("pino.write"),EC=Symbol("pino.redactFmt"),mC=Symbol("pino.time"),gC=Symbol("pino.timeSliceIndex"),vC=Symbol("pino.stream"),yC=Symbol("pino.stringify"),TC=Symbol("pino.stringifiers"),RC=Symbol("pino.end"),_C=Symbol("pino.formatOpts"),SC=Symbol("pino.messageKey"),NC=Symbol("pino.nestedKey"),OC=Symbol("pino.wildcardFirst"),CC=Symbol.for("pino.serializers"),AC=Symbol.for("pino.formatters"),IC=Symbol.for("pino.hooks"),bC=Symbol.for("pino.metadata");Xp.exports={setLevelSym:iC,getLevelSym:sC,levelValSym:oC,useLevelLabelsSym:aC,mixinSym:cC,lsCacheSym:lC,chindingsSym:fC,parsedChindingsSym:hC,asJsonSym:dC,writeSym:pC,serializersSym:CC,redactFmtSym:EC,timeSym:mC,timeSliceIndexSym:gC,streamSym:vC,stringifySym:yC,stringifiersSym:TC,endSym:RC,formatOptsSym:_C,messageKeySym:SC,nestedKeySym:NC,wildcardFirstSym:OC,needsMetadataGsym:bC,useOnlyCustomLevelsSym:uC,formattersSym:AC,hooksSym:IC}});var tE=R((cD,eE)=>{"use strict";var fc=zp(),{redactFmtSym:LC,wildcardFirstSym:gs}=nn(),{rx:lc,validator:wC}=fc,Kp=wC({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),Jp="[Redacted]",Zp=!1;function PC(e,t){let{paths:r,censor:n}=DC(e),i=r.reduce((a,u)=>{lc.lastIndex=0;let h=lc.exec(u),E=lc.exec(u),g=h[1]!==void 0?h[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):h[0];if(g==="*"&&(g=gs),E===null)return a[g]=null,a;if(a[g]===null)return a;let{index:v}=E,M=`${u.substr(v,u.length-1)}`;return a[g]=a[g]||[],g!==gs&&a[g].length===0&&a[g].push(...a[gs]||[]),g===gs&&Object.keys(a).forEach(function(P){a[P]&&a[P].push(M)}),a[g].push(M),a},{}),s={[LC]:fc({paths:r,censor:n,serialize:t,strict:Zp})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,u)=>(i[u]===null?a[u]=o:a[u]=fc({paths:i[u],censor:n,serialize:t,strict:Zp}),a),s)}function DC(e){if(Array.isArray(e))return e={paths:e,censor:Jp},Kp(e),e;var{paths:t,censor:r=Jp,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),Kp({paths:t,censor:r}),{paths:t,censor:r}}eE.exports=PC});var nE=R((lD,rE)=>{"use strict";var MC=()=>"",kC=()=>`,"time":${Date.now()}`,xC=()=>`,"time":${Math.round(Date.now()/1e3)}`,qC=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;rE.exports={nullTime:MC,epochTime:kC,unixTime:xC,isoTime:qC}});var vs=R((fD,iE)=>{"use strict";function FC(e){return e|0,e}iE.exports=FC});var sE=R((hD,hc)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));hc.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};hc.exports=e}});var pc=R((dD,uE)=>{"use strict";var Mt=require("fs"),UC=require("events"),BC=vs(),jC=require("util").inherits,oE=100,HC=sE(),dc=16*1024*1024;function aE(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1,t.file=e;function r(n,i){if(n){t.emit("error",n);return}if(t.fd=i,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),!t._reopening){var s=t._buf.length;s>0&&s>t.minLength&&!t.destroyed&&sn(t)}}if(t.sync){let n=Mt.openSync(e,"a");r(null,n),process.nextTick(()=>t.emit("ready"))}else Mt.open(e,"a",r)}function kt(e){if(!(this instanceof kt))return new kt(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")aE(t,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(s,o)=>{if(s){if(s.code==="EAGAIN")if(this.sync)try{HC(oE),this.release(void 0,0)}catch(u){this.release(u)}else setTimeout(()=>{Mt.write(this.fd,this._writingBuf,"utf8",this.release)},oE);else this.emit("error",s);return}if(this._writingBuf.length!==o)if(this._writingBuf=this._writingBuf.slice(o),this.sync)try{do o=Mt.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(o);while(this._writingBuf.length!==0)}catch(u){this.release(u);return}else{Mt.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",!this.destroyed){var a=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>0&&a>this.minLength?sn(this):this._ending?a>0?sn(this):(this._writing=!1,ys(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(WC,this)):this.emit("drain"))}},this.on("newListener",function(s){s==="drain"&&(this._asyncDrainScheduled=!1)})}function WC(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}jC(kt,UC);kt.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&sn(this),t<16384};kt.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||sn(this)};kt.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,!this._writing&&(Mt.close(this.fd,t=>{if(t)return this.emit("error",t)}),aE(e||this.file,this))}};kt.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(!this._ending){if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){sn(this);return}this._writing||ys(this)}};kt.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(Mt.writeSync(this.fd,this._buf,"utf8"),this._buf="")};kt.prototype.destroy=function(){this.destroyed||ys(this)};function sn(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>dc?(t=t.slice(0,dc),e._buf=e._buf.slice(dc)):e._buf="",BC(t),e._writingBuf=t,e.sync)try{var n=Mt.writeSync(e.fd,t,"utf8");r(null,n)}catch(i){r(i)}else Mt.write(e.fd,t,"utf8",r)}function ys(e){if(e.fd===-1){e.once("ready",ys.bind(null,e));return}Mt.close(e.fd,t=>{if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}),e.destroyed=!0,e._buf=""}uE.exports=kt});var lE=R((pD,cE)=>{"use strict";function GC(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}cE.exports=$C;function $C(e,t,r){var n=r&&r.stringify||GC,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var h="",E="",g=1-i,v=-1,M=e&&e.length||0,P=0;P<M;){if(e.charCodeAt(P)===37&&P+1<M){switch(v=v>-1?v:0,e.charCodeAt(P+1)){case 100:if(g>=u||(v<P&&(E+=e.slice(v,P)),t[g]==null))break;E+=Number(t[g]),v=P=P+2;break;case 79:case 111:case 106:if(g>=u||(v<P&&(E+=e.slice(v,P)),t[g]===void 0))break;var B=typeof t[g];if(B==="string"){E+="'"+t[g]+"'",v=P+2,P++;break}if(B==="function"){E+=t[g].name||"<anonymous>",v=P+2,P++;break}E+=n(t[g]),v=P+2,P++;break;case 115:if(g>=u)break;v<P&&(E+=e.slice(v,P)),E+=String(t[g]),v=P+2,P++;break;case 37:v<P&&(E+=e.slice(v,P)),E+="%",v=P+2,P++;break}++g}++P}return v===-1?e:(v<M&&(E+=e.slice(v)),E)}});var gc=R((ED,dE)=>{dE.exports=Zn;Zn.default=Zn;Zn.stable=fE;Zn.stableStringify=fE;var zt=[],hr=[];function Zn(e,t,r){Ec(e,"",[],void 0);var n;for(hr.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,hE(t),r);zt.length!==0;){var i=zt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function Ec(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),zt.push([n,t,e,s])):hr.push([e,t]):(n[t]="[Circular]",zt.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Ec(e[i],i,r,e);else{var o=Object.keys(e);for(i=0;i<o.length;i++){var a=o[i];Ec(e[a],a,r,e)}}r.pop()}}function VC(e,t){return e<t?-1:e>t?1:0}function fE(e,t,r){var n=mc(e,"",[],void 0)||e,i;for(hr.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,hE(t),r);zt.length!==0;){var s=zt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function mc(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),zt.push([n,t,e,s])):hr.push([e,t]):(n[t]="[Circular]",zt.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)mc(e[i],i,r,e);else{var o={},a=Object.keys(e).sort(VC);for(i=0;i<a.length;i++){var u=a[i];mc(e[u],u,r,e),o[u]=e[u]}if(n!==void 0)zt.push([n,t,e]),n[t]=o;else return o}r.pop()}}function hE(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(hr.length>0)for(var n=0;n<hr.length;n++){var i=hr[n];if(i[1]===t&&i[0]===r){r="[Circular]",hr.splice(n,1);break}}return e.call(this,t,r)}}});var EE=R((mD,pE)=>{"use strict";pE.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var vc=R((gD,gE)=>{var ei=EE(),mE={};for(let e of Object.keys(ei))mE[ei[e]]=e;var Q={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};gE.exports=Q;for(let e of Object.keys(Q)){if(!("channels"in Q[e]))throw new Error("missing channels property: "+e);if(!("labels"in Q[e]))throw new Error("missing channel labels property: "+e);if(Q[e].labels.length!==Q[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=Q[e];delete Q[e].channels,delete Q[e].labels,Object.defineProperty(Q[e],"channels",{value:t}),Object.defineProperty(Q[e],"labels",{value:r})}Q.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let h=(i+s)/2;return s===i?u=0:h<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,h*100]};Q.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,h=Math.max(o,a,u),E=h-Math.min(o,a,u),g=function(v){return(h-v)/6/E+1/2};return E===0?(i=0,s=0):(s=E/h,t=g(o),r=g(a),n=g(u),o===h?i=n-r:a===h?i=1/3+t-n:u===h&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,h*100]};Q.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=Q.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};Q.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function QC(e,t){return qe(e[0]-t[0],2)+qe(e[1]-t[1],2)+qe(e[2]-t[2],2)}Q.rgb.keyword=function(e){let t=mE[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(ei)){let s=ei[i],o=QC(e,s);o<r&&(r=o,n=i)}return n};Q.keyword.rgb=function(e){return ei[e]};Q.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?qe((t+.055)/1.055,2.4):t/12.92,r=r>.04045?qe((r+.055)/1.055,2.4):r/12.92,n=n>.04045?qe((n+.055)/1.055,2.4):n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};Q.rgb.lab=function(e){let t=Q.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?qe(r,1/3):7.787*r+16/116,n=n>.008856?qe(n,1/3):7.787*n+16/116,i=i>.008856?qe(i,1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};Q.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let h=0;h<3;h++)s=t+1/3*-(h-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[h]=o*255;return u};Q.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};Q.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};Q.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};Q.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),h,E,g;switch(o){default:case 6:case 0:h=a,E=u,g=r;break;case 1:h=u,E=a,g=r;break;case 2:h=r,E=a,g=u;break;case 3:h=r,E=u,g=a;break;case 4:h=u,E=r,g=a;break;case 5:h=a,E=r,g=u;break}return[h*255,E*255,g*255]};Q.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};Q.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*qe(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*qe(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*qe(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};Q.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?qe(t,1/3):7.787*t+16/116,r=r>.008856?qe(r,1/3):7.787*r+16/116,n=n>.008856?qe(n,1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};Q.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=qe(s,3),u=qe(i,3),h=qe(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=h>.008856?h:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};Q.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};Q.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};Q.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?Q.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};Q.hsv.ansi16=function(e){return Q.rgb.ansi16(Q.hsv.rgb(e),e[2])};Q.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};Q.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};Q.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};Q.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};Q.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};Q.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};Q.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};Q.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};Q.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};Q.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};Q.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};Q.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};Q.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};Q.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Q.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Q.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Q.gray.hsl=function(e){return[0,0,e[0]]};Q.gray.hsv=Q.gray.hsl;Q.gray.hwb=function(e){return[0,100,e[0]]};Q.gray.cmyk=function(e){return[0,0,0,e[0]]};Q.gray.lab=function(e){return[e[0],0,0]};Q.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};Q.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var yE=R((vD,vE)=>{var Ts=vc();function YC(){let e={},t=Object.keys(Ts);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function zC(e){let t=YC(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(Ts[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function XC(e,t){return function(r){return t(e(r))}}function KC(e,t){let r=[t[e].parent,e],n=Ts[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=XC(Ts[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}vE.exports=function(e){let t=zC(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=KC(o,t))}return r}});var RE=R((yD,TE)=>{var yc=vc(),JC=yE(),on={},ZC=Object.keys(yc);function eA(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function tA(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}ZC.forEach(e=>{on[e]={},Object.defineProperty(on[e],"channels",{value:yc[e].channels}),Object.defineProperty(on[e],"labels",{value:yc[e].labels});let t=JC(e);Object.keys(t).forEach(n=>{let i=t[n];on[e][n]=tA(i),on[e][n].raw=eA(i)})});TE.exports=on});var AE=R((TD,CE)=>{"use strict";var _E=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,SE=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},NE=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Rs=e=>e,OE=(e,t,r)=>[e,t,r],an=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Tc,un=(e,t,r,n)=>{Tc===void 0&&(Tc=RE());let i=n?10:0,s={};for(let[o,a]of Object.entries(Tc)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function rA(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",an(t.color,"ansi",()=>un(_E,"ansi16",Rs,!1)),an(t.color,"ansi256",()=>un(SE,"ansi256",Rs,!1)),an(t.color,"ansi16m",()=>un(NE,"rgb",OE,!1)),an(t.bgColor,"ansi",()=>un(_E,"ansi16",Rs,!0)),an(t.bgColor,"ansi256",()=>un(SE,"ansi256",Rs,!0)),an(t.bgColor,"ansi16m",()=>un(NE,"rgb",OE,!0)),t}Object.defineProperty(CE,"exports",{enumerable:!0,get:rA})});var bE=R((RD,IE)=>{"use strict";IE.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var PE=R((_D,wE)=>{"use strict";var nA=require("os"),LE=require("tty"),vt=bE(),{env:Fe}=process,dr;vt("no-color")||vt("no-colors")||vt("color=false")||vt("color=never")?dr=0:(vt("color")||vt("colors")||vt("color=true")||vt("color=always"))&&(dr=1);"FORCE_COLOR"in Fe&&(Fe.FORCE_COLOR==="true"?dr=1:Fe.FORCE_COLOR==="false"?dr=0:dr=Fe.FORCE_COLOR.length===0?1:Math.min(parseInt(Fe.FORCE_COLOR,10),3));function Rc(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function _c(e,t){if(dr===0)return 0;if(vt("color=16m")||vt("color=full")||vt("color=truecolor"))return 3;if(vt("color=256"))return 2;if(e&&!t&&dr===void 0)return 0;let r=dr||0;if(Fe.TERM==="dumb")return r;if(process.platform==="win32"){let n=nA.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Fe)||Fe.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Fe.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in Fe)return 1;if(Fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Fe){let n=parseInt((Fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Fe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Fe.TERM)||"COLORTERM"in Fe?1:r}function iA(e){let t=_c(e,e&&e.isTTY);return Rc(t)}wE.exports={supportsColor:iA,stdout:Rc(_c(!0,LE.isatty(1))),stderr:Rc(_c(!0,LE.isatty(2)))}});var ME=R((SD,DE)=>{"use strict";var sA=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;let i=t.length,s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},oA=(e,t,r,n)=>{let i=0,s="";do{let o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};DE.exports={stringReplaceAll:sA,stringEncaseCRLFWithFirstIndex:oA}});var UE=R((ND,FE)=>{"use strict";var aA=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,kE=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,uA=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,cA=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,lA=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function qE(e){let t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):lA.get(e)||e}function fA(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(uA))r.push(i[2].replace(cA,(a,u,h)=>u?qE(u):h));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function hA(e){kE.lastIndex=0;let t=[],r;for(;(r=kE.exec(e))!==null;){let n=r[1];if(r[2]){let i=fA(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function xE(e,t){let r={};for(let i of t)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}FE.exports=(e,t)=>{let r=[],n=[],i=[];if(t.replace(aA,(s,o,a,u,h,E)=>{if(o)i.push(qE(o));else if(u){let g=i.join("");i=[],n.push(r.length===0?g:xE(e,r)(g)),r.push({inverse:a,styles:hA(u)})}else if(h){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(xE(e,r)(i.join(""))),i=[],r.pop()}else i.push(E)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Ic=R((OD,$E)=>{"use strict";var ti=AE(),{stdout:Nc,stderr:Oc}=PE(),{stringReplaceAll:dA,stringEncaseCRLFWithFirstIndex:pA}=ME(),{isArray:_s}=Array,jE=["ansi","ansi","ansi256","ansi16m"],cn=Object.create(null),EA=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Nc?Nc.level:0;e.level=t.level===void 0?r:t.level},Cc=class{constructor(t){return HE(t)}},HE=e=>{let t={};return EA(t,e),t.template=(...r)=>GE(t.template,...r),Object.setPrototypeOf(t,Ss.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Cc,t.template};function Ss(e){return HE(e)}for(let[e,t]of Object.entries(ti))cn[e]={get(){let r=Ns(this,Ac(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};cn.visible={get(){let e=Ns(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var WE=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of WE)cn[e]={get(){let{level:t}=this;return function(...r){let n=Ac(ti.color[jE[t]][e](...r),ti.color.close,this._styler);return Ns(this,n,this._isEmpty)}}};for(let e of WE){let t="bg"+e[0].toUpperCase()+e.slice(1);cn[t]={get(){let{level:r}=this;return function(...n){let i=Ac(ti.bgColor[jE[r]][e](...n),ti.bgColor.close,this._styler);return Ns(this,i,this._isEmpty)}}}}var mA=Object.defineProperties(()=>{},mn(ot({},cn),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),Ac=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Ns=(e,t,r)=>{let n=(...i)=>_s(i[0])&&_s(i[0].raw)?BE(n,GE(n,...i)):BE(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,mA),n._generator=e,n._styler=t,n._isEmpty=r,n},BE=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.indexOf("\x1B")!==-1)for(;r!==void 0;)t=dA(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=pA(t,i,n,s)),n+t+i},Sc,GE=(e,...t)=>{let[r]=t;if(!_s(r)||!_s(r.raw))return t.join(" ");let n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return Sc===void 0&&(Sc=UE()),Sc(e,i.join(""))};Object.defineProperties(Ss.prototype,cn);var Os=Ss();Os.supportsColor=Nc;Os.stderr=Ss({level:Oc?Oc.level:0});Os.stderr.supportsColor=Oc;$E.exports=Os});var VE=R(Cs=>{(function(e){"use strict";function t(c){return c!==null?Object.prototype.toString.call(c)==="[object Array]":!1}function r(c){return c!==null?Object.prototype.toString.call(c)==="[object Object]":!1}function n(c,p){if(c===p)return!0;var m=Object.prototype.toString.call(c);if(m!==Object.prototype.toString.call(p))return!1;if(t(c)===!0){if(c.length!==p.length)return!1;for(var T=0;T<c.length;T++)if(n(c[T],p[T])===!1)return!1;return!0}if(r(c)===!0){var N={};for(var q in c)if(hasOwnProperty.call(c,q)){if(n(c[q],p[q])===!1)return!1;N[q]=!0}for(var W in p)if(hasOwnProperty.call(p,W)&&N[W]!==!0)return!1;return!0}return!1}function i(c){if(c===""||c===!1||c===null)return!0;if(t(c)&&c.length===0)return!0;if(r(c)){for(var p in c)if(c.hasOwnProperty(p))return!1;return!0}else return!1}function s(c){for(var p=Object.keys(c),m=[],T=0;T<p.length;T++)m.push(c[p[T]]);return m}function o(c,p){var m={};for(var T in c)m[T]=c[T];for(var N in p)m[N]=p[N];return m}var a;typeof String.prototype.trimLeft=="function"?a=function(c){return c.trimLeft()}:a=function(c){return c.match(/^\s*(.*)/)[1]};var u=0,h=1,E=2,g=3,v=4,M=5,P=6,B=7,j=8,F=9,K="EOF",H="UnquotedIdentifier",S="QuotedIdentifier",y="Rbracket",C="Rparen",$="Comma",k="Colon",G="Rbrace",ee="Number",Y="Current",ne="Expref",Ne="Pipe",Ee="Or",le="And",Oe="EQ",Ce="GT",De="LT",ke="GTE",Re="LTE",Ke="NE",we="Flatten",Ue="Star",xe="Filter",Je="Dot",lt="Not",Qe="Lbrace",Ze="Lbracket",Ft="Lparen",It="Literal",wr={".":Je,"*":Ue,",":$,":":k,"{":Qe,"}":G,"]":y,"(":Ft,")":C,"@":Y},hn={"<":!0,">":!0,"=":!0,"!":!0},dn={" ":!0,"	":!0,"\n":!0};function bt(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"||c==="_"}function Lt(c){return c>="0"&&c<="9"||c==="-"}function pn(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"||c>="0"&&c<="9"||c==="_"}function L(){}L.prototype={tokenize:function(c){var p=[];this._current=0;for(var m,T,N;this._current<c.length;)if(bt(c[this._current]))m=this._current,T=this._consumeUnquotedIdentifier(c),p.push({type:H,value:T,start:m});else if(wr[c[this._current]]!==void 0)p.push({type:wr[c[this._current]],value:c[this._current],start:this._current}),this._current++;else if(Lt(c[this._current]))N=this._consumeNumber(c),p.push(N);else if(c[this._current]==="[")N=this._consumeLBracket(c),p.push(N);else if(c[this._current]==='"')m=this._current,T=this._consumeQuotedIdentifier(c),p.push({type:S,value:T,start:m});else if(c[this._current]==="'")m=this._current,T=this._consumeRawStringLiteral(c),p.push({type:It,value:T,start:m});else if(c[this._current]==="`"){m=this._current;var q=this._consumeLiteral(c);p.push({type:It,value:q,start:m})}else if(hn[c[this._current]]!==void 0)p.push(this._consumeOperator(c));else if(dn[c[this._current]]!==void 0)this._current++;else if(c[this._current]==="&")m=this._current,this._current++,c[this._current]==="&"?(this._current++,p.push({type:le,value:"&&",start:m})):p.push({type:ne,value:"&",start:m});else if(c[this._current]==="|")m=this._current,this._current++,c[this._current]==="|"?(this._current++,p.push({type:Ee,value:"||",start:m})):p.push({type:Ne,value:"|",start:m});else{var W=new Error("Unknown character:"+c[this._current]);throw W.name="LexerError",W}return p},_consumeUnquotedIdentifier:function(c){var p=this._current;for(this._current++;this._current<c.length&&pn(c[this._current]);)this._current++;return c.slice(p,this._current)},_consumeQuotedIdentifier:function(c){var p=this._current;this._current++;for(var m=c.length;c[this._current]!=='"'&&this._current<m;){var T=this._current;c[T]==="\\"&&(c[T+1]==="\\"||c[T+1]==='"')?T+=2:T++,this._current=T}return this._current++,JSON.parse(c.slice(p,this._current))},_consumeRawStringLiteral:function(c){var p=this._current;this._current++;for(var m=c.length;c[this._current]!=="'"&&this._current<m;){var T=this._current;c[T]==="\\"&&(c[T+1]==="\\"||c[T+1]==="'")?T+=2:T++,this._current=T}this._current++;var N=c.slice(p+1,this._current-1);return N.replace("\\'","'")},_consumeNumber:function(c){var p=this._current;this._current++;for(var m=c.length;Lt(c[this._current])&&this._current<m;)this._current++;var T=parseInt(c.slice(p,this._current));return{type:ee,value:T,start:p}},_consumeLBracket:function(c){var p=this._current;return this._current++,c[this._current]==="?"?(this._current++,{type:xe,value:"[?",start:p}):c[this._current]==="]"?(this._current++,{type:we,value:"[]",start:p}):{type:Ze,value:"[",start:p}},_consumeOperator:function(c){var p=this._current,m=c[p];if(this._current++,m==="!")return c[this._current]==="="?(this._current++,{type:Ke,value:"!=",start:p}):{type:lt,value:"!",start:p};if(m==="<")return c[this._current]==="="?(this._current++,{type:Re,value:"<=",start:p}):{type:De,value:"<",start:p};if(m===">")return c[this._current]==="="?(this._current++,{type:ke,value:">=",start:p}):{type:Ce,value:">",start:p};if(m==="="&&c[this._current]==="=")return this._current++,{type:Oe,value:"==",start:p}},_consumeLiteral:function(c){this._current++;for(var p=this._current,m=c.length,T;c[this._current]!=="`"&&this._current<m;){var N=this._current;c[N]==="\\"&&(c[N+1]==="\\"||c[N+1]==="`")?N+=2:N++,this._current=N}var q=a(c.slice(p,this._current));return q=q.replace("\\`","`"),this._looksLikeJSON(q)?T=JSON.parse(q):T=JSON.parse('"'+q+'"'),this._current++,T},_looksLikeJSON:function(c){var p='[{"',m=["true","false","null"],T="-0123456789";if(c==="")return!1;if(p.indexOf(c[0])>=0)return!0;if(m.indexOf(c)>=0)return!0;if(T.indexOf(c[0])>=0)try{return JSON.parse(c),!0}catch(N){return!1}else return!1}};var d={};d[K]=0,d[H]=0,d[S]=0,d[y]=0,d[C]=0,d[$]=0,d[G]=0,d[ee]=0,d[Y]=0,d[ne]=0,d[Ne]=1,d[Ee]=2,d[le]=3,d[Oe]=5,d[Ce]=5,d[De]=5,d[ke]=5,d[Re]=5,d[Ke]=5,d[we]=9,d[Ue]=20,d[xe]=21,d[Je]=40,d[lt]=45,d[Qe]=50,d[Ze]=55,d[Ft]=60;function O(){}O.prototype={parse:function(c){this._loadTokens(c),this.index=0;var p=this.expression(0);if(this._lookahead(0)!==K){var m=this._lookaheadToken(0),T=new Error("Unexpected token type: "+m.type+", value: "+m.value);throw T.name="ParserError",T}return p},_loadTokens:function(c){var p=new L,m=p.tokenize(c);m.push({type:K,value:"",start:c.length}),this.tokens=m},expression:function(c){var p=this._lookaheadToken(0);this._advance();for(var m=this.nud(p),T=this._lookahead(0);c<d[T];)this._advance(),m=this.led(T,m),T=this._lookahead(0);return m},_lookahead:function(c){return this.tokens[this.index+c].type},_lookaheadToken:function(c){return this.tokens[this.index+c]},_advance:function(){this.index++},nud:function(c){var p,m,T;switch(c.type){case It:return{type:"Literal",value:c.value};case H:return{type:"Field",name:c.value};case S:var N={type:"Field",name:c.value};if(this._lookahead(0)===Ft)throw new Error("Quoted identifier not allowed for function names.");return N;case lt:return m=this.expression(d.Not),{type:"NotExpression",children:[m]};case Ue:return p={type:"Identity"},m=null,this._lookahead(0)===y?m={type:"Identity"}:m=this._parseProjectionRHS(d.Star),{type:"ValueProjection",children:[p,m]};case xe:return this.led(c.type,{type:"Identity"});case Qe:return this._parseMultiselectHash();case we:return p={type:we,children:[{type:"Identity"}]},m=this._parseProjectionRHS(d.Flatten),{type:"Projection",children:[p,m]};case Ze:return this._lookahead(0)===ee||this._lookahead(0)===k?(m=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},m)):this._lookahead(0)===Ue&&this._lookahead(1)===y?(this._advance(),this._advance(),m=this._parseProjectionRHS(d.Star),{type:"Projection",children:[{type:"Identity"},m]}):this._parseMultiselectList();case Y:return{type:Y};case ne:return T=this.expression(d.Expref),{type:"ExpressionReference",children:[T]};case Ft:for(var q=[];this._lookahead(0)!==C;)this._lookahead(0)===Y?(T={type:Y},this._advance()):T=this.expression(0),q.push(T);return this._match(C),q[0];default:this._errorToken(c)}},led:function(c,p){var m;switch(c){case Je:var T=d.Dot;return this._lookahead(0)!==Ue?(m=this._parseDotRHS(T),{type:"Subexpression",children:[p,m]}):(this._advance(),m=this._parseProjectionRHS(T),{type:"ValueProjection",children:[p,m]});case Ne:return m=this.expression(d.Pipe),{type:Ne,children:[p,m]};case Ee:return m=this.expression(d.Or),{type:"OrExpression",children:[p,m]};case le:return m=this.expression(d.And),{type:"AndExpression",children:[p,m]};case Ft:for(var N=p.name,q=[],W,z;this._lookahead(0)!==C;)this._lookahead(0)===Y?(W={type:Y},this._advance()):W=this.expression(0),this._lookahead(0)===$&&this._match($),q.push(W);return this._match(C),z={type:"Function",name:N,children:q},z;case xe:var ye=this.expression(0);return this._match(y),this._lookahead(0)===we?m={type:"Identity"}:m=this._parseProjectionRHS(d.Filter),{type:"FilterProjection",children:[p,m,ye]};case we:var wt={type:we,children:[p]},He=this._parseProjectionRHS(d.Flatten);return{type:"Projection",children:[wt,He]};case Oe:case Ke:case Ce:case ke:case De:case Re:return this._parseComparator(p,c);case Ze:var J=this._lookaheadToken(0);return J.type===ee||J.type===k?(m=this._parseIndexExpression(),this._projectIfSlice(p,m)):(this._match(Ue),this._match(y),m=this._parseProjectionRHS(d.Star),{type:"Projection",children:[p,m]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(c){if(this._lookahead(0)===c)this._advance();else{var p=this._lookaheadToken(0),m=new Error("Expected "+c+", got: "+p.type);throw m.name="ParserError",m}},_errorToken:function(c){var p=new Error("Invalid token ("+c.type+'): "'+c.value+'"');throw p.name="ParserError",p},_parseIndexExpression:function(){if(this._lookahead(0)===k||this._lookahead(1)===k)return this._parseSliceExpression();var c={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(y),c},_projectIfSlice:function(c,p){var m={type:"IndexExpression",children:[c,p]};return p.type==="Slice"?{type:"Projection",children:[m,this._parseProjectionRHS(d.Star)]}:m},_parseSliceExpression:function(){for(var c=[null,null,null],p=0,m=this._lookahead(0);m!==y&&p<3;){if(m===k)p++,this._advance();else if(m===ee)c[p]=this._lookaheadToken(0).value,this._advance();else{var T=this._lookahead(0),N=new Error("Syntax error, unexpected token: "+T.value+"("+T.type+")");throw N.name="Parsererror",N}m=this._lookahead(0)}return this._match(y),{type:"Slice",children:c}},_parseComparator:function(c,p){var m=this.expression(d[p]);return{type:"Comparator",name:p,children:[c,m]}},_parseDotRHS:function(c){var p=this._lookahead(0),m=[H,S,Ue];if(m.indexOf(p)>=0)return this.expression(c);if(p===Ze)return this._match(Ze),this._parseMultiselectList();if(p===Qe)return this._match(Qe),this._parseMultiselectHash()},_parseProjectionRHS:function(c){var p;if(d[this._lookahead(0)]<10)p={type:"Identity"};else if(this._lookahead(0)===Ze)p=this.expression(c);else if(this._lookahead(0)===xe)p=this.expression(c);else if(this._lookahead(0)===Je)this._match(Je),p=this._parseDotRHS(c);else{var m=this._lookaheadToken(0),T=new Error("Sytanx error, unexpected token: "+m.value+"("+m.type+")");throw T.name="ParserError",T}return p},_parseMultiselectList:function(){for(var c=[];this._lookahead(0)!==y;){var p=this.expression(0);if(c.push(p),this._lookahead(0)===$&&(this._match($),this._lookahead(0)===y))throw new Error("Unexpected token Rbracket")}return this._match(y),{type:"MultiSelectList",children:c}},_parseMultiselectHash:function(){for(var c=[],p=[H,S],m,T,N,q;;){if(m=this._lookaheadToken(0),p.indexOf(m.type)<0)throw new Error("Expecting an identifier token, got: "+m.type);if(T=m.value,this._advance(),this._match(k),N=this.expression(0),q={type:"KeyValuePair",name:T,value:N},c.push(q),this._lookahead(0)===$)this._match($);else if(this._lookahead(0)===G){this._match(G);break}}return{type:"MultiSelectHash",children:c}}};function I(c){this.runtime=c}I.prototype={search:function(c,p){return this.visit(c,p)},visit:function(c,p){var m,T,N,q,W,z,ye,wt,He,J;switch(c.type){case"Field":return p===null?null:r(p)?(z=p[c.name],z===void 0?null:z):null;case"Subexpression":for(N=this.visit(c.children[0],p),J=1;J<c.children.length;J++)if(N=this.visit(c.children[1],N),N===null)return null;return N;case"IndexExpression":return ye=this.visit(c.children[0],p),wt=this.visit(c.children[1],ye),wt;case"Index":if(!t(p))return null;var Ut=c.value;return Ut<0&&(Ut=p.length+Ut),N=p[Ut],N===void 0&&(N=null),N;case"Slice":if(!t(p))return null;var vv=c.children.slice(0),Qs=this.computeSliceParams(p.length,vv),ll=Qs[0],fl=Qs[1],Ys=Qs[2];if(N=[],Ys>0)for(J=ll;J<fl;J+=Ys)N.push(p[J]);else for(J=ll;J>fl;J+=Ys)N.push(p[J]);return N;case"Projection":var Tt=this.visit(c.children[0],p);if(!t(Tt))return null;for(He=[],J=0;J<Tt.length;J++)T=this.visit(c.children[1],Tt[J]),T!==null&&He.push(T);return He;case"ValueProjection":if(Tt=this.visit(c.children[0],p),!r(Tt))return null;He=[];var hl=s(Tt);for(J=0;J<hl.length;J++)T=this.visit(c.children[1],hl[J]),T!==null&&He.push(T);return He;case"FilterProjection":if(Tt=this.visit(c.children[0],p),!t(Tt))return null;var zs=[],dl=[];for(J=0;J<Tt.length;J++)m=this.visit(c.children[2],Tt[J]),i(m)||zs.push(Tt[J]);for(var Xs=0;Xs<zs.length;Xs++)T=this.visit(c.children[1],zs[Xs]),T!==null&&dl.push(T);return dl;case"Comparator":switch(q=this.visit(c.children[0],p),W=this.visit(c.children[1],p),c.name){case Oe:N=n(q,W);break;case Ke:N=!n(q,W);break;case Ce:N=q>W;break;case ke:N=q>=W;break;case De:N=q<W;break;case Re:N=q<=W;break;default:throw new Error("Unknown comparator: "+c.name)}return N;case we:var Ks=this.visit(c.children[0],p);if(!t(Ks))return null;var li=[];for(J=0;J<Ks.length;J++)T=Ks[J],t(T)?li.push.apply(li,T):li.push(T);return li;case"Identity":return p;case"MultiSelectList":if(p===null)return null;for(He=[],J=0;J<c.children.length;J++)He.push(this.visit(c.children[J],p));return He;case"MultiSelectHash":if(p===null)return null;He={};var Js;for(J=0;J<c.children.length;J++)Js=c.children[J],He[Js.name]=this.visit(Js.value,p);return He;case"OrExpression":return m=this.visit(c.children[0],p),i(m)&&(m=this.visit(c.children[1],p)),m;case"AndExpression":return q=this.visit(c.children[0],p),i(q)===!0?q:this.visit(c.children[1],p);case"NotExpression":return q=this.visit(c.children[0],p),i(q);case"Literal":return c.value;case Ne:return ye=this.visit(c.children[0],p),this.visit(c.children[1],ye);case Y:return p;case"Function":var pl=[];for(J=0;J<c.children.length;J++)pl.push(this.visit(c.children[J],p));return this.runtime.callFunction(c.name,pl);case"ExpressionReference":var El=c.children[0];return El.jmespathType=ne,El;default:throw new Error("Unknown node type: "+c.type)}},computeSliceParams:function(c,p){var m=p[0],T=p[1],N=p[2],q=[null,null,null];if(N===null)N=1;else if(N===0){var W=new Error("Invalid slice, step cannot be 0");throw W.name="RuntimeError",W}var z=N<0;return m===null?m=z?c-1:0:m=this.capSliceRange(c,m,N),T===null?T=z?-1:c:T=this.capSliceRange(c,T,N),q[0]=m,q[1]=T,q[2]=N,q},capSliceRange:function(c,p,m){return p<0?(p+=c,p<0&&(p=m<0?-1:0)):p>=c&&(p=m<0?c-1:c),p}};function f(c){this._interpreter=c,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[j]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[E,g]},{types:[h]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[E]},{types:[E]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[E,g,v]}]},map:{_func:this._functionMap,_signature:[{types:[P]},{types:[g]}]},max:{_func:this._functionMax,_signature:[{types:[j,F]}]},merge:{_func:this._functionMerge,_signature:[{types:[v],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[g]},{types:[P]}]},sum:{_func:this._functionSum,_signature:[{types:[j]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[E]},{types:[E]}]},min:{_func:this._functionMin,_signature:[{types:[j,F]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[g]},{types:[P]}]},type:{_func:this._functionType,_signature:[{types:[h]}]},keys:{_func:this._functionKeys,_signature:[{types:[v]}]},values:{_func:this._functionValues,_signature:[{types:[v]}]},sort:{_func:this._functionSort,_signature:[{types:[F,j]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[g]},{types:[P]}]},join:{_func:this._functionJoin,_signature:[{types:[E]},{types:[F]}]},reverse:{_func:this._functionReverse,_signature:[{types:[E,g]}]},to_array:{_func:this._functionToArray,_signature:[{types:[h]}]},to_string:{_func:this._functionToString,_signature:[{types:[h]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[h]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[h],variadic:!0}]}}}f.prototype={callFunction:function(c,p){var m=this.functionTable[c];if(m===void 0)throw new Error("Unknown function: "+c+"()");return this._validateArgs(c,p,m._signature),m._func.call(this,p)},_validateArgs:function(c,p,m){var T;if(m[m.length-1].variadic){if(p.length<m.length)throw T=m.length===1?" argument":" arguments",new Error("ArgumentError: "+c+"() takes at least"+m.length+T+" but received "+p.length)}else if(p.length!==m.length)throw T=m.length===1?" argument":" arguments",new Error("ArgumentError: "+c+"() takes "+m.length+T+" but received "+p.length);for(var N,q,W,z=0;z<m.length;z++){W=!1,N=m[z].types,q=this._getTypeName(p[z]);for(var ye=0;ye<N.length;ye++)if(this._typeMatches(q,N[ye],p[z])){W=!0;break}if(!W)throw new Error("TypeError: "+c+"() expected argument "+(z+1)+" to be type "+N+" but received type "+q+" instead.")}},_typeMatches:function(c,p,m){if(p===h)return!0;if(p===F||p===j||p===g){if(p===g)return c===g;if(c===g){var T;p===j?T=u:p===F&&(T=E);for(var N=0;N<m.length;N++)if(!this._typeMatches(this._getTypeName(m[N]),T,m[N]))return!1;return!0}}else return c===p},_getTypeName:function(c){switch(Object.prototype.toString.call(c)){case"[object String]":return E;case"[object Number]":return u;case"[object Array]":return g;case"[object Boolean]":return M;case"[object Null]":return B;case"[object Object]":return c.jmespathType===ne?P:v}},_functionStartsWith:function(c){return c[0].lastIndexOf(c[1])===0},_functionEndsWith:function(c){var p=c[0],m=c[1];return p.indexOf(m,p.length-m.length)!==-1},_functionReverse:function(c){var p=this._getTypeName(c[0]);if(p===E){for(var m=c[0],T="",N=m.length-1;N>=0;N--)T+=m[N];return T}else{var q=c[0].slice(0);return q.reverse(),q}},_functionAbs:function(c){return Math.abs(c[0])},_functionCeil:function(c){return Math.ceil(c[0])},_functionAvg:function(c){for(var p=0,m=c[0],T=0;T<m.length;T++)p+=m[T];return p/m.length},_functionContains:function(c){return c[0].indexOf(c[1])>=0},_functionFloor:function(c){return Math.floor(c[0])},_functionLength:function(c){return r(c[0])?Object.keys(c[0]).length:c[0].length},_functionMap:function(c){for(var p=[],m=this._interpreter,T=c[0],N=c[1],q=0;q<N.length;q++)p.push(m.visit(T,N[q]));return p},_functionMerge:function(c){for(var p={},m=0;m<c.length;m++){var T=c[m];for(var N in T)p[N]=T[N]}return p},_functionMax:function(c){if(c[0].length>0){var p=this._getTypeName(c[0][0]);if(p===u)return Math.max.apply(Math,c[0]);for(var m=c[0],T=m[0],N=1;N<m.length;N++)T.localeCompare(m[N])<0&&(T=m[N]);return T}else return null},_functionMin:function(c){if(c[0].length>0){var p=this._getTypeName(c[0][0]);if(p===u)return Math.min.apply(Math,c[0]);for(var m=c[0],T=m[0],N=1;N<m.length;N++)m[N].localeCompare(T)<0&&(T=m[N]);return T}else return null},_functionSum:function(c){for(var p=0,m=c[0],T=0;T<m.length;T++)p+=m[T];return p},_functionType:function(c){switch(this._getTypeName(c[0])){case u:return"number";case E:return"string";case g:return"array";case v:return"object";case M:return"boolean";case P:return"expref";case B:return"null"}},_functionKeys:function(c){return Object.keys(c[0])},_functionValues:function(c){for(var p=c[0],m=Object.keys(p),T=[],N=0;N<m.length;N++)T.push(p[m[N]]);return T},_functionJoin:function(c){var p=c[0],m=c[1];return m.join(p)},_functionToArray:function(c){return this._getTypeName(c[0])===g?c[0]:[c[0]]},_functionToString:function(c){return this._getTypeName(c[0])===E?c[0]:JSON.stringify(c[0])},_functionToNumber:function(c){var p=this._getTypeName(c[0]),m;return p===u?c[0]:p===E&&(m=+c[0],!isNaN(m))?m:null},_functionNotNull:function(c){for(var p=0;p<c.length;p++)if(this._getTypeName(c[p])!==B)return c[p];return null},_functionSort:function(c){var p=c[0].slice(0);return p.sort(),p},_functionSortBy:function(c){var p=c[0].slice(0);if(p.length===0)return p;var m=this._interpreter,T=c[1],N=this._getTypeName(m.visit(T,p[0]));if([u,E].indexOf(N)<0)throw new Error("TypeError");for(var q=this,W=[],z=0;z<p.length;z++)W.push([z,p[z]]);W.sort(function(wt,He){var J=m.visit(T,wt[1]),Ut=m.visit(T,He[1]);if(q._getTypeName(J)!==N)throw new Error("TypeError: expected "+N+", received "+q._getTypeName(J));if(q._getTypeName(Ut)!==N)throw new Error("TypeError: expected "+N+", received "+q._getTypeName(Ut));return J>Ut?1:J<Ut?-1:wt[0]-He[0]});for(var ye=0;ye<W.length;ye++)p[ye]=W[ye][1];return p},_functionMaxBy:function(c){for(var p=c[1],m=c[0],T=this.createKeyFunction(p,[u,E]),N=-1/0,q,W,z=0;z<m.length;z++)W=T(m[z]),W>N&&(N=W,q=m[z]);return q},_functionMinBy:function(c){for(var p=c[1],m=c[0],T=this.createKeyFunction(p,[u,E]),N=1/0,q,W,z=0;z<m.length;z++)W=T(m[z]),W<N&&(N=W,q=m[z]);return q},createKeyFunction:function(c,p){var m=this,T=this._interpreter,N=function(q){var W=T.visit(c,q);if(p.indexOf(m._getTypeName(W))<0){var z="TypeError: expected one of "+p+", received "+m._getTypeName(W);throw new Error(z)}return W};return N}};function l(c){var p=new O,m=p.parse(c);return m}function _(c){var p=new L;return p.tokenize(c)}function b(c,p){var m=new O,T=new f,N=new I(T);T._interpreter=N;var q=m.parse(p);return N.search(q,c)}e.tokenize=_,e.compile=l,e.search=b,e.strictDeepEqual=n})(typeof Cs=="undefined"?Cs.jmespath={}:Cs)});var As=R((AD,QE)=>{"use strict";QE.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}});var bc=R((ID,ZE)=>{"use strict";var{LEVELS:Is,LEVEL_NAMES:gA}=As(),pr=e=>e,YE={default:pr,60:pr,50:pr,40:pr,30:pr,20:pr,10:pr,message:pr},vA=Ic(),Er=new vA.Instance({level:3}),zE={default:Er.white,60:Er.bgRed,50:Er.red,40:Er.yellow,30:Er.green,20:Er.blue,10:Er.grey,message:Er.cyan};function XE(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(Is,e)?t[e](Is[e]):t.default(Is.default);let r=gA[e.toLowerCase()]||"default";return t[r](Is[r])}function KE(e){return XE(e,YE)}KE.message=YE.message;function JE(e){return XE(e,zE)}JE.message=zE.message;ZE.exports=function(t=!1){return t?JE:KE}});var tm=R((Lc,em)=>{(function(e){"use strict";var t=function(){var o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g;return function(h,E,g,v){if(arguments.length===1&&s(h)==="string"&&!/\d/.test(h)&&(E=h,h=void 0),h=h||new Date,h instanceof Date||(h=new Date(h)),isNaN(h))throw TypeError("Invalid date");E=String(t.masks[E]||E||t.masks.default);var M=E.slice(0,4);(M==="UTC:"||M==="GMT:")&&(E=E.slice(4),g=!0,M==="GMT:"&&(v=!0));var P=g?"getUTC":"get",B=h[P+"Date"](),j=h[P+"Day"](),F=h[P+"Month"](),K=h[P+"FullYear"](),H=h[P+"Hours"](),S=h[P+"Minutes"](),y=h[P+"Seconds"](),C=h[P+"Milliseconds"](),$=g?0:h.getTimezoneOffset(),k=n(h),G=i(h),ee={d:B,dd:r(B),ddd:t.i18n.dayNames[j],dddd:t.i18n.dayNames[j+7],m:F+1,mm:r(F+1),mmm:t.i18n.monthNames[F],mmmm:t.i18n.monthNames[F+12],yy:String(K).slice(2),yyyy:K,h:H%12||12,hh:r(H%12||12),H,HH:r(H),M:S,MM:r(S),s:y,ss:r(y),l:r(C,3),L:r(Math.round(C/10)),t:H<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:H<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:H<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:H<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:v?"GMT":g?"UTC":(String(h).match(a)||[""]).pop().replace(u,""),o:($>0?"-":"+")+r(Math.floor(Math.abs($)/60)*100+Math.abs($)%60,4),S:["th","st","nd","rd"][B%10>3?0:(B%100-B%10!=10)*B%10],W:k,N:G};return E.replace(o,function(Y){return Y in ee?ee[Y]:Y.slice(1,Y.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(o,a){for(o=String(o),a=a||2;o.length<a;)o="0"+o;return o}function n(o){var a=new Date(o.getFullYear(),o.getMonth(),o.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var u=new Date(a.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);var h=a.getTimezoneOffset()-u.getTimezoneOffset();a.setHours(a.getHours()-h);var E=(a-u)/(864e5*7);return 1+Math.floor(E)}function i(o){var a=o.getDay();return a===0&&(a=7),a}function s(o){return o===null?"null":o===void 0?"undefined":typeof o!="object"?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof Lc=="object"?em.exports=t:e.dateFormat=t})(Lc)});var lm=R((bD,Pc)=>{"use strict";var ri=tm(),yA=gc(),nm=bc()(),{DATE_FORMAT:rm,ERROR_LIKE_KEYS:im,MESSAGE_KEY:sm,LEVEL_KEY:TA,TIMESTAMP_KEY:RA,LOGGER_KEYS:om}=As();Pc.exports={isObject:um,prettifyErrorLog:_A,prettifyLevel:SA,prettifyMessage:NA,prettifyMetadata:OA,prettifyObject:cm,prettifyTime:CA};Pc.exports.internals={formatTime:am,joinLinesWithIndentation:wc};function am(e,t=!1){if(t===!1)return e;let r=new Date(e);if(t===!0)return ri(r,"UTC:"+rm);let n=t.toUpperCase();if(n==="SYS:STANDARD")return ri(r,rm);let i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?ri(r,t):ri(r,t.slice(4)):ri(r,`UTC:${t}`)}function um(e){return Object.prototype.toString.apply(e)==="[object Object]"}function wc({input:e,ident:t="    ",eol:r=`
`}){let n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function _A({log:e,messageKey:t=sm,ident:r="    ",eol:n=`
`,errorLikeKeys:i=im,errorProperties:s=[]}){let o=e.stack,a=wc({input:o,ident:r,eol:n}),u=`${r}${a}${n}`;if(s.length>0){let E=om.concat(t,"type","stack"),g;s[0]==="*"?g=Object.keys(e).filter(v=>E.includes(v)===!1):g=s.filter(v=>E.includes(v)===!1);for(var h=0;h<g.length;h+=1){let v=g[h];if(v in e){if(um(e[v])){let M=cm({input:e[v],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r});u=`${u}${v}: {${n}${M}}${n}`;continue}u=`${u}${v}: ${e[v]}${n}`}}}return u}function SA({log:e,colorizer:t=nm,levelKey:r=TA}){if(r in e)return t(e[r])}function NA({log:e,messageFormat:t,messageKey:r=sm,colorizer:n=nm}){if(t){let i=String(t).replace(/{([^{}]+)}/g,function(s,o){return o&&e[o]?e[o]:""});return n.message(i)}if(r in e&&typeof e[r]=="string")return n.message(e[r])}function OA({log:e}){let t="";if((e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${t==="("?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${t===""?"":" "}<${e.caller}>`),t!=="")return t}function cm({input:e,ident:t="    ",eol:r=`
`,skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=im,excludeLoggerKeys:o=!0}){let a=Object.keys(e),u=[].concat(n);o===!0&&Array.prototype.push.apply(u,om);let h="",E=a.filter(M=>u.includes(M)===!1);for(var g=0;g<a.length;g+=1){let M=E[g],P=e[M];if(P===void 0)continue;let B;if(typeof i[M]=="function"?B=i[M](P,M,e):B=yA(P,null,2),B===void 0)continue;let j=wc({input:B,ident:t,eol:r});if(s.includes(M)===!0){let F=`${t}${M}: ${j}${r}`.split(r);for(var v=0;v<F.length;v+=1){v!==0&&(h+=r);let K=F[v];if(/^\s*"stack"/.test(K)){let H=/^(\s*"stack":)\s*(".*"),?$/.exec(K);if(H&&H.length===3){let S=/^\s*/.exec(K)[0].length+4,y=" ".repeat(S),C=H[2];h+=H[1]+r+y+JSON.parse(C).replace(/\n/g,r+y)}}else h+=K}}else h+=`${t}${M}: ${j}${r}`}return h}function CA({log:e,timestampKey:t=RA,translateFormat:r=void 0}){let n=null;if(t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),n!==null)return r?"["+am(n,r)+"]":`[${n}]`}});var fm=R(ln=>{"use strict";var AA={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};ln.parse=function(e,...t){let r=typeof t[0]=="object"&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return i.protoAction==="ignore"||!s||typeof s!="object"||!e.match(AA.suspectRx)||ln.scan(s,i),s};ln.scan=function(e,t={}){let r=[e];for(;r.length;){let n=r;r=[];for(let i of n){if(Object.prototype.hasOwnProperty.call(i,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}for(let s in i){let o=i[s];o&&typeof o=="object"&&r.push(i[s])}}}};ln.safeParse=function(e,t){try{return ln.parse(e,t)}catch(r){return null}}});var pm=R((wD,dm)=>{"use strict";var IA=Ic(),bA=VE(),LA=bc(),{ERROR_LIKE_KEYS:wA,MESSAGE_KEY:PA,TIMESTAMP_KEY:DA}=As(),{isObject:hm,prettifyErrorLog:MA,prettifyLevel:kA,prettifyMessage:xA,prettifyMetadata:qA,prettifyObject:FA,prettifyTime:UA}=lm(),BA=fm(),jA=e=>{try{return{value:BA.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}},HA={colorize:IA.supportsColor,crlf:!1,errorLikeObjectKeys:wA,errorProps:"",levelFirst:!1,messageKey:PA,messageFormat:!1,timestampKey:DA,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};dm.exports=function(t){let r=Object.assign({},HA,t),n=r.crlf?`\r
`:`
`,i="    ",s=r.messageKey,o=r.levelKey,a=r.messageFormat,u=r.timestampKey,h=r.errorLikeObjectKeys,E=r.errorProps.split(","),g=r.customPrettifiers,v=r.ignore?new Set(r.ignore.split(",")):void 0,M=LA(r.colorize),P=r.search;return B;function B(j){let F;if(hm(j))F=j;else{let $=jA(j);if($.err||!hm($.value))return j+n;F=$.value}if(P&&!bA.search(F,P))return;let K=xA({log:F,messageKey:s,colorizer:M,messageFormat:a});v&&(F=Object.keys(F).filter($=>!v.has($)).reduce(($,k)=>($[k]=F[k],$),{}));let H=kA({log:F,colorizer:M,levelKey:o}),S=qA({log:F}),y=UA({log:F,translateFormat:r.translateTime,timestampKey:u}),C="";if(r.levelFirst&&H&&(C=`${H}`),y&&C===""?C=`${y}`:y&&(C=`${C} ${y}`),!r.levelFirst&&H&&(C.length>0?C=`${C} ${H}`:C=H),S&&(C=`${C} ${S}:`),C.endsWith(":")===!1&&C!==""&&(C+=":"),K&&(C=`${C} ${K}`),C.length>0&&(C+=n),F.type==="Error"&&F.stack)C+=MA({log:F,errorLikeKeys:h,errorProperties:E,ident:i,eol:n});else{let $=[s,o,u].filter(G=>typeof F[G]=="string"||typeof F[G]=="number");C+=FA({input:F,skipKeys:$,customPrettifiers:g,errorLikeKeys:h,eol:n,ident:i})}return C}}});var Ls=R((PD,Cm)=>{"use strict";var Em=lE(),{mapHttpRequest:WA,mapHttpResponse:GA}=oc(),Tm=pc(),$A=gc(),{lsCacheSym:VA,chindingsSym:kc,parsedChindingsSym:Dc,writeSym:mm,serializersSym:xc,formatOptsSym:gm,endSym:QA,stringifiersSym:qc,stringifySym:Rm,wildcardFirstSym:_m,needsMetadataGsym:Sm,redactFmtSym:YA,streamSym:zA,nestedKeySym:vm,formattersSym:Fc,messageKeySym:Nm}=nn();function ni(){}function XA(e,t){if(!t)return r;return function(...i){t.call(this,i,r)};function r(n,...i){if(typeof n=="object"){var s=n;n!==null&&(n.method&&n.headers&&n.socket?n=WA(n):typeof n.setHeader=="function"&&(n=GA(n))),this[vm]&&(n={[this[vm]]:n});var o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),this[mm](n,Em(s,o,this[gm]),e)}else this[mm](null,Em(n,i,this[gm]),e)}}function KA(e){var t="",r=0,n=!1,i=255;let s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function JA(e,t,r,n){let i=this[Rm],s=this[qc],o=this[QA],a=this[kc],u=this[xc],h=this[Fc],E=this[Nm];var g=this[VA][r]+n;g=g+a;var v,M=e.hasOwnProperty===void 0;h.log&&(e=h.log(e)),t!==void 0&&(e[E]=t);let P=s[_m];for(var B in e)if(v=e[B],(M||e.hasOwnProperty(B))&&v!==void 0){v=u[B]?u[B](v):v;let j=s[B]||P;switch(typeof v){case"undefined":case"function":continue;case"number":Number.isFinite(v)===!1&&(v=null);case"boolean":j&&(v=j(v));break;case"string":v=(j||KA)(v);break;default:v=(j||i)(v)}if(v===void 0)continue;g+=',"'+B+'":'+v}return g+o}function ZA(e,t){var r,n,i=e[kc];let s=e[Rm],o=e[qc],a=o[_m],u=e[xc],h=e[Fc].bindings;t=h(t);for(r in t)if(n=t[r],(r!=="level"&&r!=="serializers"&&r!=="formatters"&&r!=="customLevels"&&t.hasOwnProperty(r)&&n!==void 0)===!0){if(n=u[r]?u[r](n):n,n=(o[r]||a||s)(n),n===void 0)continue;i+=',"'+r+'":'+n}return i}function Om(e,t,r,n){if(t&&typeof t=="function")return t=t.bind(n),Mc(t(e),r,e);try{var i=pm();return i.asMetaWrapper=Mc,Mc(i(e),r,e)}catch(s){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function Mc(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[Sm]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||n||(n=!0,ym(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let i=this.lastLogger;var s=null;return i?(i.hasOwnProperty(Dc)?s=i[Dc]:(s=JSON.parse("{"+i[kc].substr(1)+"}"),i[Dc]=s),s):null},write(i){let s=this.lastLogger,o=this.chindings();var a=this.lastTime;a.match(/^\d+/)&&(a=parseInt(a));var u=this.lastObj,h=this.lastMsg,E=null;let g=s[Fc],v=g.log?g.log(u):u,M=s[Nm];h&&v&&!v.hasOwnProperty(M)&&(v[M]=h);let P=Object.assign({level:this.lastLevel,time:a},v,E),B=s[xc],j=Object.keys(B);for(var F,K=0;K<j.length;K++)F=j[K],P[F]!==void 0&&(P[F]=B[F](P[F]));for(F in o)P.hasOwnProperty(F)||(P[F]=o[F]);let S=s[qc][YA],y=e(typeof S=="function"?S(P):P);y!==void 0&&(ym(t,this),t.write(y))}}}function eI(e){return e.write!==e.constructor.prototype.write}function bs(e){let t=new Tm(e);return t.on("error",r),t;function r(n){if(n.code==="EPIPE"){t.write=ni,t.end=ni,t.flushSync=ni,t.destroy=ni;return}t.removeListener("error",r),t.emit("error",n)}}function tI(e){return function(r,n={},i){if(typeof n=="string"?(i=bs({dest:n,sync:!0}),n={}):typeof i=="string"?i=bs({dest:i,sync:!0}):(n instanceof Tm||n.writable||n._writableState)&&(i=n,n=null),n=Object.assign({},e,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);let{enabled:s,prettyPrint:o,prettifier:a,messageKey:u}=n;if(s===!1&&(n.level="silent"),i=i||process.stdout,i===process.stdout&&i.fd>=0&&!eI(i)&&(i=bs({fd:i.fd,sync:!0})),o){let h=Object.assign({messageKey:u},o);i=Om(h,a,i,r)}return{opts:n,stream:i}}}function rI(e,t){if(typeof e=="undefined"||typeof e.child!="function")throw Error("expected a pino logger instance");let r=typeof t!="undefined";if(r&&typeof t!="function")throw Error("if supplied, the handler parameter should be a function");let n=e[zA];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");let i=new Proxy(e,{get:(s,o)=>o in s.levels.values?(...a)=>{s[o](...a),n.flushSync()}:s[o]});return r?(s=null,...o)=>{try{n.flushSync()}catch(a){}return t(s,i,...o)}:i}function nI(e){try{return JSON.stringify(e)}catch(t){return $A(e)}}function iI(e,t,r){return{level:e,bindings:t,log:r}}function ym(e,t){e[Sm]===!0&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}Cm.exports={noop:ni,buildSafeSonicBoom:bs,getPrettyStream:Om,asChindings:ZA,asJson:JA,genLog:XA,createArgsNormalizer:tI,final:rI,stringify:nI,buildFormatters:iI}});var jc=R((DD,Im)=>{"use strict";var sI=vs(),{lsCacheSym:oI,levelValSym:Uc,useOnlyCustomLevelsSym:aI,streamSym:uI,formattersSym:cI,hooksSym:lI}=nn(),{noop:fI,genLog:Cr}=Ls(),xt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Am={fatal:e=>{let t=Cr(xt.fatal,e);return function(...r){let n=this[uI];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch(i){}}},error:e=>Cr(xt.error,e),warn:e=>Cr(xt.warn,e),info:e=>Cr(xt.info,e),debug:e=>Cr(xt.debug,e),trace:e=>Cr(xt.trace,e)},Bc=Object.keys(xt).reduce((e,t)=>(e[xt[t]]=t,e),{}),hI=Object.keys(Bc).reduce((e,t)=>(e[t]=sI('{"level":'+Number(t)),e),{});function dI(e){let t=e[cI].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[oI]=n,e}function pI(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function EI(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[Uc],i=this[Uc]=r[e],s=this[aI],o=this[lI].logMethod;for(var a in r){if(i>r[a]){this[a]=fI;continue}this[a]=pI(a,s)?Am[a](o):Cr(r[a],o)}this.emit("level-change",e,i,t[n],n)}function mI(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function gI(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[Uc]}function vI(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:Bc,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:xt,e);return{labels:n,values:i}}function yI(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(Bc).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:xt,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function TI(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}Im.exports={initialLsCache:hI,genLsCache:dI,levelMethods:Am,getLevel:mI,setLevel:EI,isLevelEnabled:gI,mappings:vI,assertNoLevelCollisions:TI,assertDefaultLevelFound:yI}});var bm=R((MD,RI)=>{RI.exports={name:"pino",version:"6.5.1",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",test:"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"3.0.0",benchmark:"^2.1.4",bole:"^4.0.0",bunyan:"^1.8.14","docsify-cli":"^4.4.1",execa:"^4.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^6.0.0",loglevel:"^1.6.7","pino-pretty":"^4.1.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^7.0.0",snazzy:"^8.0.0",split2:"^3.1.1",standard:"^14.3.3",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^14.10.8",tape:"^5.0.0",through2:"^4.0.0",winston:"^3.3.3"},dependencies:{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7",flatstr:"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.2"}}});var Hc=R((kD,Lm)=>{"use strict";var{version:_I}=bm();Lm.exports={version:_I}});var Um=R((qD,Fm)=>{"use strict";var{EventEmitter:SI}=require("events"),NI=pc(),OI=vs(),{lsCacheSym:CI,levelValSym:AI,setLevelSym:Gc,getLevelSym:wm,chindingsSym:$c,parsedChindingsSym:II,mixinSym:bI,asJsonSym:Mm,writeSym:LI,timeSym:wI,timeSliceIndexSym:PI,streamSym:km,serializersSym:Ar,formattersSym:Wc,useOnlyCustomLevelsSym:DI,needsMetadataGsym:MI}=nn(),{getLevel:kI,setLevel:xI,isLevelEnabled:qI,mappings:FI,initialLsCache:UI,genLsCache:BI,assertNoLevelCollisions:jI}=jc(),{asChindings:xm,asJson:HI,buildFormatters:Pm}=Ls(),{version:WI}=Hc(),GI=class{},qm={constructor:GI,child:$I,bindings:VI,setBindings:QI,flush:zI,isLevelEnabled:qI,version:WI,get level(){return this[wm]()},set level(e){this[Gc](e)},get levelVal(){return this[AI]},set levelVal(e){throw Error("levelVal is read-only")},[CI]:UI,[LI]:YI,[Mm]:HI,[wm]:kI,[Gc]:xI};Object.setPrototypeOf(qm,SI.prototype);Fm.exports=function(){return Object.create(qm)};var Dm=e=>e;function $I(e){if(!e)throw Error("missing bindings for child Pino");let t=this[Ar],r=this[Wc],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[Ar]=Object.create(null);for(var i in t)n[Ar][i]=t[i];let h=Object.getOwnPropertySymbols(t);for(var s=0;s<h.length;s++){let g=h[s];n[Ar][g]=t[g]}for(var o in e.serializers)n[Ar][o]=e.serializers[o];let E=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<E.length;a++){let g=E[a];n[Ar][g]=e.serializers[g]}}else n[Ar]=t;if(e.hasOwnProperty("formatters")){let{level:h,bindings:E,log:g}=e.formatters;n[Wc]=Pm(h||r.level,E||Dm,g||r.log)}else n[Wc]=Pm(r.level,Dm,r.log);e.hasOwnProperty("customLevels")===!0&&(jI(this.levels,e.customLevels),n.levels=FI(e.customLevels,n[DI]),BI(n)),n[$c]=xm(n,e);let u=e.level||this.level;return n[Gc](u),n}function VI(){var t=`{${this[$c].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function QI(e){let t=xm(this,e);this[$c]=t,delete this[II]}function YI(e,t,r){let n=this[wI](),i=this[bI],s=e instanceof Error;var o;e==null?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));let a=this[Mm](o,t,r,n),u=this[km];u[MI]===!0&&(u.lastLevel=r,u.lastObj=o,u.lastMsg=t,u.lastTime=n.slice(this[PI]),u.lastLogger=this),u instanceof NI?u.write(a):u.write(OI(a))}function zI(){let e=this[km];"flush"in e&&e.flush()}});var Km=R((FD,Xm)=>{"use strict";var XI=require("os"),$m=oc(),KI=tE(),Vm=nE(),JI=Um(),Qm=nn(),{assertDefaultLevelFound:ZI,mappings:Ym,genLsCache:eb}=jc(),{createArgsNormalizer:tb,asChindings:rb,final:nb,stringify:ws,buildSafeSonicBoom:Vc,buildFormatters:ib,noop:sb}=Ls(),{version:ob}=Hc(),{chindingsSym:Bm,redactFmtSym:ab,serializersSym:jm,timeSym:ub,timeSliceIndexSym:cb,streamSym:lb,stringifySym:Hm,stringifiersSym:Wm,setLevelSym:fb,endSym:hb,formatOptsSym:db,messageKeySym:pb,nestedKeySym:Eb,mixinSym:mb,useOnlyCustomLevelsSym:gb,formattersSym:Gm,hooksSym:vb}=Qm,{epochTime:zm,nullTime:yb}=Vm,{pid:Tb}=process,Rb=XI.hostname(),_b=$m.err,Qc={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:Tb,hostname:Rb},serializers:Object.assign(Object.create(null),{err:_b}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:zm,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},Sb=tb(Qc),Nb=Object.assign(Object.create(null),$m);function Xt(...e){let t={},{opts:r,stream:n}=Sb(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:u,nestedKey:h,base:E,name:g,level:v,customLevels:M,useLevelLabels:P,changeLevelName:B,levelKey:j,mixin:F,useOnlyCustomLevels:K,formatters:H,hooks:S}=r,y=ib(H.level,H.bindings,H.log);P&&!(B||j)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),y.level=Ob):(B||j)&&!P?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=Cb(B||j)):(B||j)&&P&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=Ab(B||j)),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),y.log=o[Symbol.for("pino.*")]),y.bindings||(y.bindings=Qc.formatters.bindings),y.level||(y.level=Qc.formatters.level);let C=i?KI(i,ws):{},$=i?{stringify:C[ab]}:{stringify:ws},k="}"+(s?`\r
`:`
`),G=rb.bind(null,{[Bm]:"",[jm]:o,[Wm]:C,[Hm]:ws,[Gm]:y}),ee=E===null?"":G(g===void 0?E:Object.assign({},E,{name:g})),Y=a instanceof Function?a:a?zm:yb,ne=Y().indexOf(":")+1;if(K&&!M)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(F&&typeof F!="function")throw Error(`Unknown mixin type "${typeof F}" - expected "function"`);ZI(v,M,K);let Ne=Ym(M,K);return Object.assign(t,{levels:Ne,[gb]:K,[lb]:n,[ub]:Y,[cb]:ne,[Hm]:ws,[Wm]:C,[hb]:k,[db]:$,[pb]:u,[Eb]:h,[jm]:o,[mb]:F,[Bm]:ee,[Gm]:y,[vb]:S,silent:sb}),Object.setPrototypeOf(t,JI()),eb(t),t[fb](v),t}function Ob(e,t){return{level:e}}function Cb(e){return function(t,r){return{[e]:r}}}function Ab(e){return function(t,r){return{[e]:t}}}Xt.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),Vc({dest:e,minLength:4096,sync:!1}));Xt.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=e.dest||process.stdout.fd,Vc(e)):Vc({dest:e,minLength:0,sync:!0});Xt.final=nb;Xt.levels=Ym();Xt.stdSerializers=Nb;Xt.stdTimeFunctions=Object.assign({},Vm);Xt.symbols=Qm;Xt.version=ob;Xm.exports=Xt});var Jm=R(Ir=>{"use strict";var Yc=Ir&&Ir.__assign||function(){return Yc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yc.apply(this,arguments)},Ib=Ir&&Ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Ir.__esModule=!0;var bb=Ib(Km());function Lb(e,t){e===void 0&&(e={});var r=bb.default(Yc({name:"ls",base:{},level:"info",formatters:{level:function(n){return{level:n}}},prettyPrint:!0},e),t);return r.show=function(){},r}Ir.default=Lb});var Zm=R(ii=>{"use strict";var wb=ii&&ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};ii.__esModule=!0;var Pb=wb(Jm());ii.default=Pb.default()});var eg=R(br=>{"use strict";var Ps=br&&br.__assign||function(){return Ps=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ps.apply(this,arguments)};br.__esModule=!0;br.createLogger=void 0;var Ds;Ds=Zm().default;function Db(e,t){return t===void 0&&(t={}),e?Ds.child(Ps(Ps({},t),{ns:e})):Ds}br.createLogger=Db;br.default=Ds});var ng=R(ct=>{"use strict";var Mb=ct&&ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kb=ct&&ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xb=ct&&ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Mb(t,e,r);return kb(t,e),t},si=ct&&ct.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(E){try{h(n.next(E))}catch(g){o(g)}}function u(E){try{h(n.throw(E))}catch(g){o(g)}}function h(E){E.done?s(E.value):i(E.value).then(a,u)}h((n=n.apply(e,t||[])).next())})},Ms=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});var qb=Ms(qd()),Fb=Ms(Fd()),tg=xb(Tp()),Ub=eg(),rg=Ms(require("path")),Bb=Ms(require("fs")),fn=class{constructor(t,r){this.credentials=t,this.getWorkspaceFolders=r,this.deps=[],this.queryResults=(n,i)=>si(this,void 0,void 0,function*(){let s=yield this.singleQuery(n,i);if(s.error)throw s.rawError;return s.results}),this.requireDep=n=>tg.default(n),this.resolveDep=n=>tg.sqltoolsResolve(n),this.log=Ub.createLogger(t.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(t,r){return this.query(t,r).then(([n])=>n)}describeTable(t,r){return si(this,void 0,void 0,function*(){let n=yield this.singleQuery(this.queries.describeTable(t),r);return n.baseQuery=this.queries.describeTable.raw,[n]})}showRecords(t,r){return si(this,void 0,void 0,function*(){let{limit:n,page:i=0}=r,s=Object.assign(Object.assign({},r),{limit:n,table:t,offset:i*n});if(typeof this.queries.fetchRecords=="function"&&typeof this.queries.countRecords=="function"){let[o,a]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(s),r),this.singleQuery(this.queries.countRecords(s),r)]);return o.baseQuery=this.queries.fetchRecords.raw,o.pageSize=n,o.page=i,o.total=Number(a.results[0].total),o.queryType="showRecords",o.queryParams=t,[o]}return this.query(this.queries.fetchRecords(s),r)})}checkDependencies(){return si(this,void 0,void 0,function*(){if(!(!this.deps||this.deps.length===0)){if(Number(process.env.IS_NODE_RUNTIME||"0")!==1)throw new qb.default;this.deps.forEach(t=>{let r=!1;switch(t.type){case fn.CONSTANTS.DEPENDENCY_PACKAGE:try{let{version:n}=JSON.parse(Bb.default.readFileSync(this.resolveDep(t.name+"/package.json")).toString());if(t.version&&n!==t.version)throw r=!0,new Error(`Version not matching. We need to upgrade ${t.name}`);this.requireDep(t.name)}catch(n){throw new Fb.default(this.deps,this.credentials,r)}break}})}})}getChildrenForItem(t){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}searchItems(t,r,n){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}toAbsolutePath(t){return si(this,void 0,void 0,function*(){if(!rg.default.isAbsolute(t)&&/\$\{workspaceFolder:(.+)}/g.test(t)){let r=t.match(/\$\{workspaceFolder:(.+)}/)[1];if(r){let i=(yield this.getWorkspaceFolders()).find(s=>s.name===r);t=rg.default.resolve(i.uri.replace(/^(\w+):\/\//,""),t.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return t})}prepareMessage(t){return{message:t.toString(),date:new Date}}};ct.default=fn;fn.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"}});var sg=R((WD,ig)=>{var jb=typeof global=="object"&&global&&global.Object===Object&&global;ig.exports=jb});var zc=R((GD,og)=>{var Hb=sg(),Wb=typeof self=="object"&&self&&self.Object===Object&&self,Gb=Hb||Wb||Function("return this")();og.exports=Gb});var Xc=R(($D,ag)=>{var $b=zc(),Vb=$b.Symbol;ag.exports=Vb});var fg=R((VD,lg)=>{var ug=Xc(),cg=Object.prototype,Qb=cg.hasOwnProperty,Yb=cg.toString,oi=ug?ug.toStringTag:void 0;function zb(e){var t=Qb.call(e,oi),r=e[oi];try{e[oi]=void 0;var n=!0}catch(s){}var i=Yb.call(e);return n&&(t?e[oi]=r:delete e[oi]),i}lg.exports=zb});var dg=R((QD,hg)=>{var Xb=Object.prototype,Kb=Xb.toString;function Jb(e){return Kb.call(e)}hg.exports=Jb});var gg=R((YD,mg)=>{var pg=Xc(),Zb=fg(),e1=dg(),t1="[object Null]",r1="[object Undefined]",Eg=pg?pg.toStringTag:void 0;function n1(e){return e==null?e===void 0?r1:t1:Eg&&Eg in Object(e)?Zb(e):e1(e)}mg.exports=n1});var Kc=R((zD,vg)=>{function i1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}vg.exports=i1});var Tg=R((XD,yg)=>{var s1=gg(),o1=Kc(),a1="[object AsyncFunction]",u1="[object Function]",c1="[object GeneratorFunction]",l1="[object Proxy]";function f1(e){if(!o1(e))return!1;var t=s1(e);return t==u1||t==c1||t==a1||t==l1}yg.exports=f1});var _g=R((KD,Rg)=>{var h1=zc(),d1=h1["__core-js_shared__"];Rg.exports=d1});var Og=R((JD,Ng)=>{var Jc=_g(),Sg=function(){var e=/[^.]+$/.exec(Jc&&Jc.keys&&Jc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function p1(e){return!!Sg&&Sg in e}Ng.exports=p1});var Ag=R((ZD,Cg)=>{var E1=Function.prototype,m1=E1.toString;function g1(e){if(e!=null){try{return m1.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Cg.exports=g1});var bg=R((eM,Ig)=>{var v1=Tg(),y1=Og(),T1=Kc(),R1=Ag(),_1=/[\\^$.*+?()[\]{}|]/g,S1=/^\[object .+?Constructor\]$/,N1=Function.prototype,O1=Object.prototype,C1=N1.toString,A1=O1.hasOwnProperty,I1=RegExp("^"+C1.call(A1).replace(_1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b1(e){if(!T1(e)||y1(e))return!1;var t=v1(e)?I1:S1;return t.test(R1(e))}Ig.exports=b1});var wg=R((tM,Lg)=>{function L1(e,t){return e==null?void 0:e[t]}Lg.exports=L1});var Dg=R((rM,Pg)=>{var w1=bg(),P1=wg();function D1(e,t){var r=P1(e,t);return w1(r)?r:void 0}Pg.exports=D1});var kg=R((nM,Mg)=>{var M1=Dg(),k1=function(){try{var e=M1(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();Mg.exports=k1});var Fg=R((iM,qg)=>{var xg=kg();function x1(e,t,r){t=="__proto__"&&xg?xg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}qg.exports=x1});var Bg=R((sM,Ug)=>{function q1(e,t){return e===t||e!==e&&t!==t}Ug.exports=q1});var Hg=R((oM,jg)=>{var F1=Fg(),U1=Bg(),B1=Object.prototype,j1=B1.hasOwnProperty;function H1(e,t,r){var n=e[t];(!(j1.call(e,t)&&U1(n,r))||r===void 0&&!(t in e))&&F1(e,t,r)}jg.exports=H1});var Gg=R((aM,Wg)=>{function W1(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var a=n<s?t[n]:void 0;r(o,e[n],a)}return o}Wg.exports=W1});var Vg=R((uM,$g)=>{var G1=Hg(),$1=Gg();function V1(e,t){return $1(e||[],t||[],G1)}$g.exports=V1});var rl=R(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.default=K1;var Y1=z1(require("crypto"));function z1(e){return e&&e.__esModule?e:{default:e}}var X1=new Uint8Array(16);function K1(){return Y1.default.randomFillSync(X1)}});var zg=R(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.default=void 0;var J1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ks.default=J1});var ai=R(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.default=void 0;var Z1=eL(zg());function eL(e){return e&&e.__esModule?e:{default:e}}function tL(e){return typeof e=="string"&&Z1.default.test(e)}var rL=tL;xs.default=rL});var ui=R(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.default=void 0;var nL=iL(ai());function iL(e){return e&&e.__esModule?e:{default:e}}var Ge=[];for(let e=0;e<256;++e)Ge.push((e+256).toString(16).substr(1));function sL(e,t=0){let r=(Ge[e[t+0]]+Ge[e[t+1]]+Ge[e[t+2]]+Ge[e[t+3]]+"-"+Ge[e[t+4]]+Ge[e[t+5]]+"-"+Ge[e[t+6]]+Ge[e[t+7]]+"-"+Ge[e[t+8]]+Ge[e[t+9]]+"-"+Ge[e[t+10]]+Ge[e[t+11]]+Ge[e[t+12]]+Ge[e[t+13]]+Ge[e[t+14]]+Ge[e[t+15]]).toLowerCase();if(!(0,nL.default)(r))throw TypeError("Stringified UUID is invalid");return r}var oL=sL;qs.default=oL});var Jg=R(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.default=void 0;var aL=Kg(rl()),uL=Kg(ui());function Kg(e){return e&&e.__esModule?e:{default:e}}var Xg,nl,il=0,sl=0;function cL(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||Xg,o=e.clockseq!==void 0?e.clockseq:nl;if(s==null||o==null){let v=e.random||(e.rng||aL.default)();s==null&&(s=Xg=[v[0]|1,v[1],v[2],v[3],v[4],v[5]]),o==null&&(o=nl=(v[6]<<8|v[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:sl+1,h=a-il+(u-sl)/1e4;if(h<0&&e.clockseq===void 0&&(o=o+1&16383),(h<0||a>il)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");il=a,sl=u,nl=o,a+=122192928e5;let E=((a&268435455)*1e4+u)%4294967296;i[n++]=E>>>24&255,i[n++]=E>>>16&255,i[n++]=E>>>8&255,i[n++]=E&255;let g=a/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let v=0;v<6;++v)i[n+v]=s[v];return t||(0,uL.default)(i)}var lL=cL;Fs.default=lL});var ol=R(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.default=void 0;var fL=hL(ai());function hL(e){return e&&e.__esModule?e:{default:e}}function dL(e){if(!(0,fL.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var pL=dL;Us.default=pL});var al=R(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=vL;Lr.URL=Lr.DNS=void 0;var EL=Zg(ui()),mL=Zg(ol());function Zg(e){return e&&e.__esModule?e:{default:e}}function gL(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var ev="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Lr.DNS=ev;var tv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Lr.URL=tv;function vL(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=gL(i)),typeof s=="string"&&(s=(0,mL.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,o){a=a||0;for(let h=0;h<16;++h)o[a+h]=u[h];return o}return(0,EL.default)(u)}try{n.name=e}catch(i){}return n.DNS=ev,n.URL=tv,n}});var rv=R(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.default=void 0;var yL=TL(require("crypto"));function TL(e){return e&&e.__esModule?e:{default:e}}function RL(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),yL.default.createHash("md5").update(e).digest()}var _L=RL;Bs.default=_L});var iv=R(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.default=void 0;var SL=nv(al()),NL=nv(rv());function nv(e){return e&&e.__esModule?e:{default:e}}var OL=(0,SL.default)("v3",48,NL.default),CL=OL;js.default=CL});var ov=R(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.default=void 0;var AL=sv(rl()),IL=sv(ui());function sv(e){return e&&e.__esModule?e:{default:e}}function bL(e,t,r){e=e||{};let n=e.random||(e.rng||AL.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,IL.default)(n)}var LL=bL;Hs.default=LL});var av=R(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.default=void 0;var wL=PL(require("crypto"));function PL(e){return e&&e.__esModule?e:{default:e}}function DL(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),wL.default.createHash("sha1").update(e).digest()}var ML=DL;Ws.default=ML});var cv=R(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.default=void 0;var kL=uv(al()),xL=uv(av());function uv(e){return e&&e.__esModule?e:{default:e}}var qL=(0,kL.default)("v5",80,xL.default),FL=qL;Gs.default=FL});var lv=R($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.default=void 0;var UL="00000000-0000-0000-0000-000000000000";$s.default=UL});var fv=R(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.default=void 0;var BL=jL(ai());function jL(e){return e&&e.__esModule?e:{default:e}}function HL(e){if(!(0,BL.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var WL=HL;Vs.default=WL});var hv=R(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});Object.defineProperty(At,"v1",{enumerable:!0,get:function(){return GL.default}});Object.defineProperty(At,"v3",{enumerable:!0,get:function(){return $L.default}});Object.defineProperty(At,"v4",{enumerable:!0,get:function(){return VL.default}});Object.defineProperty(At,"v5",{enumerable:!0,get:function(){return QL.default}});Object.defineProperty(At,"NIL",{enumerable:!0,get:function(){return YL.default}});Object.defineProperty(At,"version",{enumerable:!0,get:function(){return zL.default}});Object.defineProperty(At,"validate",{enumerable:!0,get:function(){return XL.default}});Object.defineProperty(At,"stringify",{enumerable:!0,get:function(){return KL.default}});Object.defineProperty(At,"parse",{enumerable:!0,get:function(){return JL.default}});var GL=Kt(Jg()),$L=Kt(iv()),VL=Kt(ov()),QL=Kt(cv()),YL=Kt(lv()),zL=Kt(fv()),XL=Kt(ai()),KL=Kt(ui()),JL=Kt(ol());function Kt(e){return e&&e.__esModule?e:{default:e}}});var tw={};Ov(tw,{default:()=>ew});module.exports=Cv(tw);var Jt=Zt(Jo());var mt=Zt(mh());var Ta=e=>/[^a-z0-9_]/.test(e.label||e)?`"${e.label||e}"`:e.label||e;function xR(e){let t=[],r=typeof e=="string"?{label:e}:e;return r.database&&t.push(Ta(r.database)),r.schema&&t.push(Ta(r.schema)),t.push(Ta(r.label)),t.join(".")}var Ra=xR;var rt=Zt(_a()),qR=mt.default`
SELECT * FROM INFORMATION_SCHEMA.COLUMNS
WHERE
  TABLE_NAME = '${e=>e.label}'
  AND TABLE_CATALOG = '${e=>e.database}'
  AND TABLE_SCHEMA = '${e=>e.schema}'`,FR=mt.default`
SELECT
  C.COLUMN_NAME AS label,
  '${rt.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  UPPER(C.DATA_TYPE || (
    CASE WHEN C.CHARACTER_MAXIMUM_LENGTH > 0 THEN (
      '(' || C.CHARACTER_MAXIMUM_LENGTH || ')'
    ) ELSE '' END
  )) AS "detail",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS "defaultValue",
  C.IS_NULLABLE AS "isNullable",
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA = '${e=>e.schema}'
  AND C.TABLE_NAME = '${e=>e.label}'
  AND C.TABLE_CATALOG = '${e=>e.database}'
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
`,UR=mt.default`
SELECT *
FROM ${e=>Ra(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,BR=mt.default`
SELECT count(1) AS total
FROM ${e=>Ra(e.table)};
`,jR=mt.default`
SELECT
  '${rt.ContextValue.FUNCTION}' as type,
  f.proname AS name,
  f.proname AS label,
  quote_ident(f.proname) || '(' || oidvectortypes(f.proargtypes)::TEXT || ')' AS detail,
  n.nspname AS schema,
  current_database() AS database,
  quote_ident(n.nspname) || '.' || quote_ident(f.proname) AS signature,
  format_type(f.prorettype, null) AS "resultType",
  oidvectortypes(f.proargtypes) AS args,
  proargnames AS "argsNames",
  f.prosrc AS source,
  'function' as "iconName",
  '${rt.ContextValue.NO_CHILD}' as "childType"
FROM
  pg_catalog.pg_proc AS f
INNER JOIN pg_catalog.pg_namespace AS n on n.oid = f.pronamespace
WHERE
  n.nspname = '${e=>e.schema}'
ORDER BY name
;`,yh=(e,t="BASE TABLE")=>mt.default`
SELECT
  T.TABLE_NAME AS label,
  '${e}' as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  ${e===rt.ContextValue.VIEW?"TRUE":"FALSE"} AS isView
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA = '${r=>r.schema}'
  AND T.TABLE_CATALOG = '${r=>r.database}'
  AND T.TABLE_TYPE = '${t}'
ORDER BY
  T.TABLE_NAME;
`,HR=mt.default`
SELECT
  T.TABLE_NAME AS label,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN '${rt.ContextValue.TABLE}' ELSE '${rt.ContextValue.VIEW}' END) as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN FALSE ELSE TRUE END) AS "isView",
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN 'table' ELSE 'view' END) AS description,
  ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') as detail
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA !~ '^pg_'
  AND T.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.search?`AND (
    (T.TABLE_CATALOG || '.' || T.TABLE_SCHEMA || '.' || T.TABLE_NAME) ILIKE '%${e.search}%'
    OR ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') ILIKE '%${e.search}%'
    OR T.TABLE_NAME ILIKE '%${e.search}%'
  )`:""}
ORDER BY
  T.TABLE_NAME
LIMIT ${e=>e.limit||100};
`,WR=mt.default`
SELECT
  C.COLUMN_NAME AS label,
  '${rt.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS defaultValue,
  C.IS_NULLABLE AS isNullable,
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA !~ '^pg_'
  AND C.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.tables.filter(t=>!!t.label).length?`AND LOWER(C.TABLE_NAME) IN (${e.tables.filter(t=>!!t.label).map(t=>`'${t.label}'`.toLowerCase()).join(", ")})`:""}
  ${e=>e.search?`AND (
      (C.TABLE_NAME || '.' || C.COLUMN_NAME) ILIKE '%${e.search}%'
      OR C.COLUMN_NAME ILIKE '%${e.search}%'
    )`:""}
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
LIMIT ${e=>e.limit||100}
`,GR=yh(rt.ContextValue.TABLE),$R=yh(rt.ContextValue.VIEW,"VIEW"),VR=mt.default`
SELECT
  '${rt.ContextValue.MATERIALIZED_VIEW}' as type,
  (current_database())::information_schema.sql_identifier AS database,
  (nc.nspname)::information_schema.sql_identifier AS schema,
  (c.relname)::information_schema.sql_identifier AS label,
  'view' AS "iconName",
  '${rt.ContextValue.NO_CHILD}' as "childType"
FROM pg_namespace nc,
  pg_class c
WHERE
  nc.nspname = '${e=>e.schema}'
  AND (
    (c.relnamespace = nc.oid)
    AND (c.relkind = 'm'::"char")
    AND (NOT pg_is_other_temp_schema(nc.oid))
    AND (
      pg_has_role(c.relowner, 'USAGE'::text)
      OR has_table_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'::text
      )
      OR has_any_column_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, REFERENCES'::text
      )
    )
  );
`,QR=mt.default`
SELECT
  db.*,
  db.datname as "label",
  db.datname as "database",
  '${rt.ContextValue.DATABASE}' as "type",
  'database' as "detail"
FROM pg_catalog.pg_database db
WHERE
  datallowconn
  AND NOT datistemplate
  AND db.datname = CURRENT_DATABASE()
ORDER BY
  db.datname;
`,YR=mt.default`
SELECT
  schema_name AS label,
  schema_name AS schema,
  '${rt.ContextValue.SCHEMA}' as "type",
  'group-by-ref-type' as "iconId",
  catalog_name as database
FROM information_schema.schemata
WHERE
  schema_name !~ '^pg_'
  AND schema_name <> 'information_schema'
  AND catalog_name = '${e=>e.database}'
`,Th={describeTable:qR,countRecords:BR,fetchColumns:FR,fetchRecords:UR,fetchTables:GR,fetchViews:$R,fetchFunctions:jR,fetchDatabases:QR,fetchSchemas:YR,fetchMaterializedViews:VR,searchTables:HR,searchColumns:WR};var ve=Zt(_a()),pv=Zt(ng()),Ev=Zt(require("fs")),mv=Zt(Vg());var Q1=/[\\^$.*+?()[\]{}|]/g,cM=RegExp(Q1.source);var yt=class{static parse(t,r="mysql"){r==="mssql"&&(t=t.replace(/^[ \t]*GO;?[ \t]*$/gim,""));let n=";",i=[],s=!0,o;for(;s;){o==null&&(o=t);let a=yt.getStatements(o,r,n),u=a[0];if(u!=null&&u.trim()!=""&&i.push(u),o=a[1],o==null||o.trim()=="")break}return i}static getStatements(t,r,n){let i=null,s=!1,o=!1,a=!1,u=null,h=null,E=null,g=null,v=Array.from(t),M=[];for(let P=0;P<v.length;P++){let B=v[P];if(P>0&&(i=v[P-1]),P<v.length&&(u=v[P+1]),i!="\\"&&(B=="'"||B=='"')&&o==!1&&s==!1){o=!0,E=B;continue}if((B=="#"&&u==" "||B=="-"&&u=="-"||B=="/"&&u=="*")&&o==!1){s=!0,h=B;continue}if(s==!0&&((h=="#"||h=="-")&&B==`
`||h=="/"&&B=="*"&&u=="/")){s=!1,h=null;continue}if(i!="\\"&&B==E&&o==!0){o=!1,E=null;continue}if(B.toLowerCase()=="d"&&s==!1&&o==!1){let j=yt.getDelimiter(P,t,r);if(j!=null){let F=j[0],K=j[1];t=t.substring(K),M=yt.getStatements(t,r,F);break}}if(B=="$"&&s==!1&&o==!1){let j=t.substring(P);if(a==!1){let F=yt.getTag(j,r);F!=null&&(a=!0,g=F[0])}else{let F=yt.getTag(j,r);F!=null&&F[0]==g&&(a=!1)}}if(r==="mssql"&&B.toLowerCase()==="g"&&`${v[P+1]||""}`.toLowerCase()==="o"&&typeof v[P+2]!="undefined"&&/go\b/gi.test(`${B}${v[P+1]}${v[P+2]}`)&&(B=`${B}${v[P+1]}`),(B.toLowerCase()===n.toLowerCase()||B.toLowerCase()==="go")&&o==!1&&s==!1&&a==!1){let j=P+1;if(r==="mssql"&&B.toLowerCase()==="go"){j=P,M=yt.getQueryParts(t,j,2);break}M=yt.getQueryParts(t,j,0);break}}return M.length==0&&(t!=null&&(t=t.trim()),M.push(t,null)),M}static getQueryParts(t,r,n=1){let i=t.substring(0,r),s=t.substring(r+n),o=[];return i!=null&&(i=i.trim()),o.push(i),o.push(s),o}static getDelimiter(t,r,n){if(n=="mysql"){let i="delimiter ",s=i.length,o=r.substring(t);if(o.toLowerCase().indexOf(i)==0){let u=r.substring(t),h=u.indexOf(`
`);h==-1&&(h=r.length),u=u.substring(0,h),u=u.substring(s);let E=u.trim();if(E=yt.clearTextUntilComment(E),E!=null){E=E.trim();let g=o.indexOf(E)+t+E.length,v=[];return v.push(E),v.push(g),v}else return null}else return null}}static getTag(t,r){if(r=="pg"){let n=t.match(/^(\$[a-zA-Z]*\$)/i);if(n!=null&&n.length>1){let i=[],s=n[1].trim(),o=t.indexOf(s);return i.push(s),i.push(o),i}else return null}}static isGoDelimiter(t,r,n){if(t=="mssql"){let i=/(?:\bgo\b\s*)/i.exec(r);return i!=null&&i.index==n}}static clearTextUntilComment(t){let r=null,n=null,i=Array.from(t);for(let s=0;s<i.length;s++){let o=i[s];if(s<i.length&&(r=i[s+1]),o=="#"&&r==" "||o=="-"&&r=="-"||o=="/"&&r=="*")break;n==null&&(n=""),n+=o}return n}},Qg=yt.parse;function Yg(e,t="mysql"){return Qg(e,t)}var qt=Zt(hv(),1),Ck=qt.default.v1,Ak=qt.default.v3,dv=qt.default.v4,Ik=qt.default.v5,bk=qt.default.NIL,Lk=qt.default.version,wk=qt.default.validate,Pk=qt.default.stringify,Dk=qt.default.parse;var ul=dv;var cl=e=>e;Jt.types.setTypeParser(Jt.types.builtins.TIMESTAMP||1114,cl);Jt.types.setTypeParser(Jt.types.builtins.TIMESTAMPTZ||1184,cl);Jt.types.setTypeParser(Jt.types.builtins.DATE||1082,cl);var ci=class extends pv.default{constructor(){super(...arguments);ft(this,"queries",Th);ft(this,"query",(r,n={})=>{let i=[],s,{requestId:o}=n;return this.open().then(a=>ht(this,null,function*(){s=yield a.connect(),s.on("notice",h=>i.push(this.prepareMessage(`${h.name.toUpperCase()}: ${h.message}`)));let u=yield s.query({text:r.toString(),rowMode:"array"});return s.release(),u})).then(a=>{let u=Yg(r.toString(),"pg");return Array.isArray(a)||(a=[a]),a.map((h,E)=>{let g=this.getColumnNames(h.fields||[]);return{requestId:o,resultId:ul(),connId:this.getId(),cols:g,messages:i.concat([this.prepareMessage(`${h.command} successfully executed.${h.command.toLowerCase()!=="select"&&typeof h.rowCount=="number"?` ${h.rowCount} rows were affected.`:""}`)]),query:u[E],results:this.mapRows(h.rows,g)}})}).catch(a=>(s&&s.release(),[{connId:this.getId(),requestId:o,resultId:ul(),cols:[],messages:i.concat([this.prepareMessage([a&&a.message||a,a&&a.routine==="scanner_yyerror"&&a.position?`at character ${a.position}`:void 0].filter(Boolean).join(" "))]),error:!0,rawError:a,query:r,results:[]}]))});ft(this,"completionsCache",null);ft(this,"getStaticCompletions",()=>ht(this,null,function*(){return this.completionsCache?this.completionsCache:(this.completionsCache={},(yield this.queryResults("SELECT UPPER(word) AS label, UPPER(catdesc) AS desc FROM pg_get_keywords();")).forEach(n=>{this.completionsCache[n.label]={label:n.label,detail:n.label,filterText:n.label,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(n.label)?"2:":"")+n.label,documentation:{value:`\`\`\`yaml
WORD: ${n.label}
TYPE: ${n.desc}
\`\`\``,kind:"markdown"}}}),this.completionsCache)}))}open(){return ht(this,null,function*(){if(this.connection)return this.connection;try{let r=this.credentials.pgOptions||{},{ssl:n}=r,i=to(r,["ssl"]),s=ot({connectionTimeoutMillis:Number(`${this.credentials.connectionTimeout||0}`)*1e3},i);if(this.credentials.connectString?s=ot({connectionString:this.credentials.connectString},s):s=ot({database:this.credentials.database,host:this.credentials.server,password:this.credentials.password,port:this.credentials.port,user:this.credentials.username},s),n)if(typeof n=="object"){let u=ot({},n);["ca","key","cert","pfx"].forEach(h=>{if(!u[h]){delete u[h];return}this.log.info(`Reading file ${u[h].replace(/^file:\/\//,"")}`),u[h]=Ev.default.readFileSync(u[h].replace(/^file:\/\//,"")).toString()}),Object.keys(u).length>0&&(s.ssl=u)}else s.ssl=n||!1;let o=new Jt.Pool(s);return(yield o.connect()).release(),this.connection=Promise.resolve(o),this.connection}catch(n){return Promise.reject(n)}})}close(){return ht(this,null,function*(){if(!this.connection)return Promise.resolve();let r=yield this.connection;this.connection=null,r.end()})}getColumnNames(r){return r.reduce((n,{name:i})=>{let s=n.filter(o=>o===i).length;return n.concat(s>0?`${i} (${s})`:i)},[])}mapRows(r,n){return r.map(i=>(0,mv.default)(n,i))}getColumns(r){return ht(this,null,function*(){return(yield this.queryResults(this.queries.fetchColumns(r))).map(i=>mn(ot({},i),{iconName:i.isPk?"pk":i.isFk?"fk":null,childType:ve.ContextValue.NO_CHILD,table:r}))})}testConnection(){return ht(this,null,function*(){let n=yield(yield this.open()).connect();yield n.query("SELECT 1"),n.release()})}getChildrenForItem(i){return ht(this,arguments,function*({item:r,parent:n}){switch(r.type){case ve.ContextValue.CONNECTION:case ve.ContextValue.CONNECTED_CONNECTION:return this.queryResults(this.queries.fetchDatabases());case ve.ContextValue.TABLE:case ve.ContextValue.VIEW:case ve.ContextValue.MATERIALIZED_VIEW:return this.getColumns(r);case ve.ContextValue.DATABASE:return[{label:"Schemas",type:ve.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:ve.ContextValue.SCHEMA}];case ve.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:r,parent:n});case ve.ContextValue.SCHEMA:return[{label:"Tables",type:ve.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:ve.ContextValue.TABLE},{label:"Views",type:ve.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:ve.ContextValue.VIEW},{label:"Materialized Views",type:ve.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:ve.ContextValue.MATERIALIZED_VIEW},{label:"Functions",type:ve.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:ve.ContextValue.FUNCTION}]}return[]})}getChildrenForGroup(i){return ht(this,arguments,function*({parent:r,item:n}){switch(n.childType){case ve.ContextValue.SCHEMA:return this.queryResults(this.queries.fetchSchemas(r));case ve.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(r));case ve.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(r));case ve.ContextValue.MATERIALIZED_VIEW:return this.queryResults(this.queries.fetchMaterializedViews(r));case ve.ContextValue.FUNCTION:return this.queryResults(this.queries.fetchFunctions(r))}return[]})}searchItems(r,n,i={}){switch(r){case ve.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:n}));case ve.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns(ot({search:n},i)))}}};var gv=[{displayName:"PostgreSQL",value:"PostgreSQL"},{displayName:"AWS Redshift",value:"AWS Redshift"},{displayName:"CockroachDB",value:"CockroachDB"}];var ZL={register(e){gv.forEach(({value:t})=>{e.getContext().drivers.set(t,ci)})}},ew=ZL;0&&(module.exports={});
